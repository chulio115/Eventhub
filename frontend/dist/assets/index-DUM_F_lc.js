var gk=Object.defineProperty;var L2=t=>{throw TypeError(t)};var mk=(t,e,r)=>e in t?gk(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Wt=(t,e,r)=>mk(t,typeof e!="symbol"?e+"":e,r),L0=(t,e,r)=>e.has(t)||L2("Cannot "+r);var X=(t,e,r)=>(L0(t,e,"read from private field"),r?r.call(t):e.get(t)),nt=(t,e,r)=>e.has(t)?L2("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),De=(t,e,r,n)=>(L0(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),At=(t,e,r)=>(L0(t,e,"access private method"),r);var Od=(t,e,r,n)=>({set _(i){De(t,e,i,r)},get _(){return X(t,e,n)}});function _b(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var MT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vk(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function yk(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var Sb={exports:{}},Ap={},kb={exports:{}},jt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jh=Symbol.for("react.element"),wk=Symbol.for("react.portal"),bk=Symbol.for("react.fragment"),xk=Symbol.for("react.strict_mode"),_k=Symbol.for("react.profiler"),Sk=Symbol.for("react.provider"),kk=Symbol.for("react.context"),Nk=Symbol.for("react.forward_ref"),Ak=Symbol.for("react.suspense"),Ek=Symbol.for("react.memo"),jk=Symbol.for("react.lazy"),P2=Symbol.iterator;function Ck(t){return t===null||typeof t!="object"?null:(t=P2&&t[P2]||t["@@iterator"],typeof t=="function"?t:null)}var Nb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ab=Object.assign,Eb={};function rc(t,e,r){this.props=t,this.context=e,this.refs=Eb,this.updater=r||Nb}rc.prototype.isReactComponent={};rc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};rc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function jb(){}jb.prototype=rc.prototype;function P1(t,e,r){this.props=t,this.context=e,this.refs=Eb,this.updater=r||Nb}var O1=P1.prototype=new jb;O1.constructor=P1;Ab(O1,rc.prototype);O1.isPureReactComponent=!0;var O2=Array.isArray,Cb=Object.prototype.hasOwnProperty,T1={current:null},Lb={key:!0,ref:!0,__self:!0,__source:!0};function Pb(t,e,r){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)Cb.call(e,n)&&!Lb.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Jh,type:t,key:s,ref:a,props:i,_owner:T1.current}}function Lk(t,e){return{$$typeof:Jh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function R1(t){return typeof t=="object"&&t!==null&&t.$$typeof===Jh}function Pk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var T2=/\/+/g;function P0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Pk(""+t.key):e.toString(36)}function wf(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Jh:case wk:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+P0(a,0):n,O2(i)?(r="",t!=null&&(r=t.replace(T2,"$&/")+"/"),wf(i,e,r,"",function(u){return u})):i!=null&&(R1(i)&&(i=Lk(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(T2,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",O2(t))for(var o=0;o<t.length;o++){s=t[o];var l=n+P0(s,o);a+=wf(s,e,r,l,i)}else if(l=Ck(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=n+P0(s,o++),a+=wf(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Td(t,e,r){if(t==null)return t;var n=[],i=0;return wf(t,n,"","",function(s){return e.call(r,s,i++)}),n}function Ok(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Dn={current:null},bf={transition:null},Tk={ReactCurrentDispatcher:Dn,ReactCurrentBatchConfig:bf,ReactCurrentOwner:T1};function Ob(){throw Error("act(...) is not supported in production builds of React.")}jt.Children={map:Td,forEach:function(t,e,r){Td(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Td(t,function(){e++}),e},toArray:function(t){return Td(t,function(e){return e})||[]},only:function(t){if(!R1(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};jt.Component=rc;jt.Fragment=bk;jt.Profiler=_k;jt.PureComponent=P1;jt.StrictMode=xk;jt.Suspense=Ak;jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tk;jt.act=Ob;jt.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Ab({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=T1.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)Cb.call(e,l)&&!Lb.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:Jh,type:t.type,key:i,ref:s,props:n,_owner:a}};jt.createContext=function(t){return t={$$typeof:kk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Sk,_context:t},t.Consumer=t};jt.createElement=Pb;jt.createFactory=function(t){var e=Pb.bind(null,t);return e.type=t,e};jt.createRef=function(){return{current:null}};jt.forwardRef=function(t){return{$$typeof:Nk,render:t}};jt.isValidElement=R1;jt.lazy=function(t){return{$$typeof:jk,_payload:{_status:-1,_result:t},_init:Ok}};jt.memo=function(t,e){return{$$typeof:Ek,type:t,compare:e===void 0?null:e}};jt.startTransition=function(t){var e=bf.transition;bf.transition={};try{t()}finally{bf.transition=e}};jt.unstable_act=Ob;jt.useCallback=function(t,e){return Dn.current.useCallback(t,e)};jt.useContext=function(t){return Dn.current.useContext(t)};jt.useDebugValue=function(){};jt.useDeferredValue=function(t){return Dn.current.useDeferredValue(t)};jt.useEffect=function(t,e){return Dn.current.useEffect(t,e)};jt.useId=function(){return Dn.current.useId()};jt.useImperativeHandle=function(t,e,r){return Dn.current.useImperativeHandle(t,e,r)};jt.useInsertionEffect=function(t,e){return Dn.current.useInsertionEffect(t,e)};jt.useLayoutEffect=function(t,e){return Dn.current.useLayoutEffect(t,e)};jt.useMemo=function(t,e){return Dn.current.useMemo(t,e)};jt.useReducer=function(t,e,r){return Dn.current.useReducer(t,e,r)};jt.useRef=function(t){return Dn.current.useRef(t)};jt.useState=function(t){return Dn.current.useState(t)};jt.useSyncExternalStore=function(t,e,r){return Dn.current.useSyncExternalStore(t,e,r)};jt.useTransition=function(){return Dn.current.useTransition()};jt.version="18.3.1";kb.exports=jt;var ne=kb.exports;const Tb=vk(ne),Rk=_b({__proto__:null,default:Tb},[ne]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ik=ne,Fk=Symbol.for("react.element"),Dk=Symbol.for("react.fragment"),Mk=Object.prototype.hasOwnProperty,Bk=Ik.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Uk={key:!0,ref:!0,__self:!0,__source:!0};function Rb(t,e,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)Mk.call(e,n)&&!Uk.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:Fk,type:t,key:s,ref:a,props:i,_owner:Bk.current}}Ap.Fragment=Dk;Ap.jsx=Rb;Ap.jsxs=Rb;Sb.exports=Ap;var v=Sb.exports,$g={},Ib={exports:{}},wi={},Fb={exports:{}},Db={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Q,se){var fe=Q.length;Q.push(se);e:for(;0<fe;){var ge=fe-1>>>1,C=Q[ge];if(0<i(C,se))Q[ge]=se,Q[fe]=C,fe=ge;else break e}}function r(Q){return Q.length===0?null:Q[0]}function n(Q){if(Q.length===0)return null;var se=Q[0],fe=Q.pop();if(fe!==se){Q[0]=fe;e:for(var ge=0,C=Q.length,W=C>>>1;ge<W;){var H=2*(ge+1)-1,ee=Q[H],te=H+1,ae=Q[te];if(0>i(ee,fe))te<C&&0>i(ae,ee)?(Q[ge]=ae,Q[te]=fe,ge=te):(Q[ge]=ee,Q[H]=fe,ge=H);else if(te<C&&0>i(ae,fe))Q[ge]=ae,Q[te]=fe,ge=te;else break e}}return se}function i(Q,se){var fe=Q.sortIndex-se.sortIndex;return fe!==0?fe:Q.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],h=1,p=null,g=3,d=!1,b=!1,x=!1,N=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(Q){for(var se=r(u);se!==null;){if(se.callback===null)n(u);else if(se.startTime<=Q)n(u),se.sortIndex=se.expirationTime,e(l,se);else break;se=r(u)}}function A(Q){if(x=!1,k(Q),!b)if(r(l)!==null)b=!0,me(q);else{var se=r(u);se!==null&&pe(A,se.startTime-Q)}}function q(Q,se){b=!1,x&&(x=!1,w(M),M=-1),d=!0;var fe=g;try{for(k(se),p=r(l);p!==null&&(!(p.expirationTime>se)||Q&&!L());){var ge=p.callback;if(typeof ge=="function"){p.callback=null,g=p.priorityLevel;var C=ge(p.expirationTime<=se);se=t.unstable_now(),typeof C=="function"?p.callback=C:p===r(l)&&n(l),k(se)}else n(l);p=r(l)}if(p!==null)var W=!0;else{var H=r(u);H!==null&&pe(A,H.startTime-se),W=!1}return W}finally{p=null,g=fe,d=!1}}var Y=!1,$=null,M=-1,F=5,V=-1;function L(){return!(t.unstable_now()-V<F)}function R(){if($!==null){var Q=t.unstable_now();V=Q;var se=!0;try{se=$(!0,Q)}finally{se?K():(Y=!1,$=null)}}else Y=!1}var K;if(typeof S=="function")K=function(){S(R)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,de=J.port2;J.port1.onmessage=R,K=function(){de.postMessage(null)}}else K=function(){N(R,0)};function me(Q){$=Q,Y||(Y=!0,K())}function pe(Q,se){M=N(function(){Q(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){b||d||(b=!0,me(q))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(Q){switch(g){case 1:case 2:case 3:var se=3;break;default:se=g}var fe=g;g=se;try{return Q()}finally{g=fe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,se){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var fe=g;g=Q;try{return se()}finally{g=fe}},t.unstable_scheduleCallback=function(Q,se,fe){var ge=t.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?ge+fe:ge):fe=ge,Q){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=fe+C,Q={id:h++,callback:se,priorityLevel:Q,startTime:fe,expirationTime:C,sortIndex:-1},fe>ge?(Q.sortIndex=fe,e(u,Q),r(l)===null&&Q===r(u)&&(x?(w(M),M=-1):x=!0,pe(A,fe-ge))):(Q.sortIndex=C,e(l,Q),b||d||(b=!0,me(q))),Q},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(Q){var se=g;return function(){var fe=g;g=se;try{return Q.apply(this,arguments)}finally{g=fe}}}})(Db);Fb.exports=Db;var zk=Fb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $k=ne,yi=zk;function Le(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Mb=new Set,yh={};function Ol(t,e){Gu(t,e),Gu(t+"Capture",e)}function Gu(t,e){for(yh[t]=e,t=0;t<e.length;t++)Mb.add(e[t])}var pa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qg=Object.prototype.hasOwnProperty,qk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,R2={},I2={};function Wk(t){return qg.call(I2,t)?!0:qg.call(R2,t)?!1:qk.test(t)?I2[t]=!0:(R2[t]=!0,!1)}function Hk(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Vk(t,e,r,n){if(e===null||typeof e>"u"||Hk(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Mn(t,e,r,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var hn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){hn[t]=new Mn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];hn[e]=new Mn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){hn[t]=new Mn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){hn[t]=new Mn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){hn[t]=new Mn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){hn[t]=new Mn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){hn[t]=new Mn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){hn[t]=new Mn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){hn[t]=new Mn(t,5,!1,t.toLowerCase(),null,!1,!1)});var I1=/[\-:]([a-z])/g;function F1(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(I1,F1);hn[e]=new Mn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(I1,F1);hn[e]=new Mn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(I1,F1);hn[e]=new Mn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){hn[t]=new Mn(t,1,!1,t.toLowerCase(),null,!1,!1)});hn.xlinkHref=new Mn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){hn[t]=new Mn(t,1,!1,t.toLowerCase(),null,!0,!0)});function D1(t,e,r,n){var i=hn.hasOwnProperty(e)?hn[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Vk(e,r,i,n)&&(r=null),n||i===null?Wk(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var ba=$k.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Rd=Symbol.for("react.element"),uu=Symbol.for("react.portal"),cu=Symbol.for("react.fragment"),M1=Symbol.for("react.strict_mode"),Wg=Symbol.for("react.profiler"),Bb=Symbol.for("react.provider"),Ub=Symbol.for("react.context"),B1=Symbol.for("react.forward_ref"),Hg=Symbol.for("react.suspense"),Vg=Symbol.for("react.suspense_list"),U1=Symbol.for("react.memo"),Ja=Symbol.for("react.lazy"),zb=Symbol.for("react.offscreen"),F2=Symbol.iterator;function Bc(t){return t===null||typeof t!="object"?null:(t=F2&&t[F2]||t["@@iterator"],typeof t=="function"?t:null)}var mr=Object.assign,O0;function Xc(t){if(O0===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);O0=e&&e[1]||""}return`
`+O0+t}var T0=!1;function R0(t,e){if(!t||T0)return"";T0=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{T0=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Xc(t):""}function Gk(t){switch(t.tag){case 5:return Xc(t.type);case 16:return Xc("Lazy");case 13:return Xc("Suspense");case 19:return Xc("SuspenseList");case 0:case 2:case 15:return t=R0(t.type,!1),t;case 11:return t=R0(t.type.render,!1),t;case 1:return t=R0(t.type,!0),t;default:return""}}function Gg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case cu:return"Fragment";case uu:return"Portal";case Wg:return"Profiler";case M1:return"StrictMode";case Hg:return"Suspense";case Vg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ub:return(t.displayName||"Context")+".Consumer";case Bb:return(t._context.displayName||"Context")+".Provider";case B1:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case U1:return e=t.displayName||null,e!==null?e:Gg(t.type)||"Memo";case Ja:e=t._payload,t=t._init;try{return Gg(t(e))}catch{}}return null}function Kk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Gg(e);case 8:return e===M1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function No(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function $b(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Jk(t){var e=$b(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Id(t){t._valueTracker||(t._valueTracker=Jk(t))}function qb(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=$b(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Bf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Kg(t,e){var r=e.checked;return mr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function D2(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=No(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Wb(t,e){e=e.checked,e!=null&&D1(t,"checked",e,!1)}function Jg(t,e){Wb(t,e);var r=No(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Qg(t,e.type,r):e.hasOwnProperty("defaultValue")&&Qg(t,e.type,No(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function M2(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Qg(t,e,r){(e!=="number"||Bf(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Zc=Array.isArray;function _u(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+No(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Yg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Le(91));return mr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function B2(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Le(92));if(Zc(r)){if(1<r.length)throw Error(Le(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:No(r)}}function Hb(t,e){var r=No(e.value),n=No(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function U2(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Vb(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Vb(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Fd,Gb=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Fd=Fd||document.createElement("div"),Fd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Fd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function wh(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var ih={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qk=["Webkit","ms","Moz","O"];Object.keys(ih).forEach(function(t){Qk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ih[e]=ih[t]})});function Kb(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||ih.hasOwnProperty(t)&&ih[t]?(""+e).trim():e+"px"}function Jb(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=Kb(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var Yk=mr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zg(t,e){if(e){if(Yk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Le(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Le(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Le(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Le(62))}}function em(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tm=null;function z1(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var rm=null,Su=null,ku=null;function z2(t){if(t=Xh(t)){if(typeof rm!="function")throw Error(Le(280));var e=t.stateNode;e&&(e=Pp(e),rm(t.stateNode,t.type,e))}}function Qb(t){Su?ku?ku.push(t):ku=[t]:Su=t}function Yb(){if(Su){var t=Su,e=ku;if(ku=Su=null,z2(t),e)for(t=0;t<e.length;t++)z2(e[t])}}function Xb(t,e){return t(e)}function Zb(){}var I0=!1;function ex(t,e,r){if(I0)return t(e,r);I0=!0;try{return Xb(t,e,r)}finally{I0=!1,(Su!==null||ku!==null)&&(Zb(),Yb())}}function bh(t,e){var r=t.stateNode;if(r===null)return null;var n=Pp(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Le(231,e,typeof r));return r}var nm=!1;if(pa)try{var Uc={};Object.defineProperty(Uc,"passive",{get:function(){nm=!0}}),window.addEventListener("test",Uc,Uc),window.removeEventListener("test",Uc,Uc)}catch{nm=!1}function Xk(t,e,r,n,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(h){this.onError(h)}}var sh=!1,Uf=null,zf=!1,im=null,Zk={onError:function(t){sh=!0,Uf=t}};function e6(t,e,r,n,i,s,a,o,l){sh=!1,Uf=null,Xk.apply(Zk,arguments)}function t6(t,e,r,n,i,s,a,o,l){if(e6.apply(this,arguments),sh){if(sh){var u=Uf;sh=!1,Uf=null}else throw Error(Le(198));zf||(zf=!0,im=u)}}function Tl(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function tx(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function $2(t){if(Tl(t)!==t)throw Error(Le(188))}function r6(t){var e=t.alternate;if(!e){if(e=Tl(t),e===null)throw Error(Le(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return $2(i),t;if(s===n)return $2(i),e;s=s.sibling}throw Error(Le(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a)throw Error(Le(189))}}if(r.alternate!==n)throw Error(Le(190))}if(r.tag!==3)throw Error(Le(188));return r.stateNode.current===r?t:e}function rx(t){return t=r6(t),t!==null?nx(t):null}function nx(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=nx(t);if(e!==null)return e;t=t.sibling}return null}var ix=yi.unstable_scheduleCallback,q2=yi.unstable_cancelCallback,n6=yi.unstable_shouldYield,i6=yi.unstable_requestPaint,Er=yi.unstable_now,s6=yi.unstable_getCurrentPriorityLevel,$1=yi.unstable_ImmediatePriority,sx=yi.unstable_UserBlockingPriority,$f=yi.unstable_NormalPriority,a6=yi.unstable_LowPriority,ax=yi.unstable_IdlePriority,Ep=null,Ns=null;function o6(t){if(Ns&&typeof Ns.onCommitFiberRoot=="function")try{Ns.onCommitFiberRoot(Ep,t,void 0,(t.current.flags&128)===128)}catch{}}var ts=Math.clz32?Math.clz32:c6,l6=Math.log,u6=Math.LN2;function c6(t){return t>>>=0,t===0?32:31-(l6(t)/u6|0)|0}var Dd=64,Md=4194304;function eh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function qf(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~i;o!==0?n=eh(o):(s&=a,s!==0&&(n=eh(s)))}else a=r&~i,a!==0?n=eh(a):s!==0&&(n=eh(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-ts(e),i=1<<r,n|=t[r],e&=~i;return n}function h6(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function d6(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-ts(s),o=1<<a,l=i[a];l===-1?(!(o&r)||o&n)&&(i[a]=h6(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function sm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ox(){var t=Dd;return Dd<<=1,!(Dd&4194240)&&(Dd=64),t}function F0(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Qh(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ts(e),t[e]=r}function f6(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-ts(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function q1(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-ts(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Vt=0;function lx(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ux,W1,cx,hx,dx,am=!1,Bd=[],go=null,mo=null,vo=null,xh=new Map,_h=new Map,Ya=[],p6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function W2(t,e){switch(t){case"focusin":case"focusout":go=null;break;case"dragenter":case"dragleave":mo=null;break;case"mouseover":case"mouseout":vo=null;break;case"pointerover":case"pointerout":xh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":_h.delete(e.pointerId)}}function zc(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Xh(e),e!==null&&W1(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function g6(t,e,r,n,i){switch(e){case"focusin":return go=zc(go,t,e,r,n,i),!0;case"dragenter":return mo=zc(mo,t,e,r,n,i),!0;case"mouseover":return vo=zc(vo,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return xh.set(s,zc(xh.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,_h.set(s,zc(_h.get(s)||null,t,e,r,n,i)),!0}return!1}function fx(t){var e=sl(t.target);if(e!==null){var r=Tl(e);if(r!==null){if(e=r.tag,e===13){if(e=tx(r),e!==null){t.blockedOn=e,dx(t.priority,function(){cx(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=om(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);tm=n,r.target.dispatchEvent(n),tm=null}else return e=Xh(r),e!==null&&W1(e),t.blockedOn=r,!1;e.shift()}return!0}function H2(t,e,r){xf(t)&&r.delete(e)}function m6(){am=!1,go!==null&&xf(go)&&(go=null),mo!==null&&xf(mo)&&(mo=null),vo!==null&&xf(vo)&&(vo=null),xh.forEach(H2),_h.forEach(H2)}function $c(t,e){t.blockedOn===e&&(t.blockedOn=null,am||(am=!0,yi.unstable_scheduleCallback(yi.unstable_NormalPriority,m6)))}function Sh(t){function e(i){return $c(i,t)}if(0<Bd.length){$c(Bd[0],t);for(var r=1;r<Bd.length;r++){var n=Bd[r];n.blockedOn===t&&(n.blockedOn=null)}}for(go!==null&&$c(go,t),mo!==null&&$c(mo,t),vo!==null&&$c(vo,t),xh.forEach(e),_h.forEach(e),r=0;r<Ya.length;r++)n=Ya[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Ya.length&&(r=Ya[0],r.blockedOn===null);)fx(r),r.blockedOn===null&&Ya.shift()}var Nu=ba.ReactCurrentBatchConfig,Wf=!0;function v6(t,e,r,n){var i=Vt,s=Nu.transition;Nu.transition=null;try{Vt=1,H1(t,e,r,n)}finally{Vt=i,Nu.transition=s}}function y6(t,e,r,n){var i=Vt,s=Nu.transition;Nu.transition=null;try{Vt=4,H1(t,e,r,n)}finally{Vt=i,Nu.transition=s}}function H1(t,e,r,n){if(Wf){var i=om(t,e,r,n);if(i===null)V0(t,e,n,Hf,r),W2(t,n);else if(g6(i,t,e,r,n))n.stopPropagation();else if(W2(t,n),e&4&&-1<p6.indexOf(t)){for(;i!==null;){var s=Xh(i);if(s!==null&&ux(s),s=om(t,e,r,n),s===null&&V0(t,e,n,Hf,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else V0(t,e,n,null,r)}}var Hf=null;function om(t,e,r,n){if(Hf=null,t=z1(n),t=sl(t),t!==null)if(e=Tl(t),e===null)t=null;else if(r=e.tag,r===13){if(t=tx(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Hf=t,null}function px(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(s6()){case $1:return 1;case sx:return 4;case $f:case a6:return 16;case ax:return 536870912;default:return 16}default:return 16}}var co=null,V1=null,_f=null;function gx(){if(_f)return _f;var t,e=V1,r=e.length,n,i="value"in co?co.value:co.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[s-n];n++);return _f=i.slice(t,1<n?1-n:void 0)}function Sf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ud(){return!0}function V2(){return!1}function bi(t){function e(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ud:V2,this.isPropagationStopped=V2,this}return mr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ud)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ud)},persist:function(){},isPersistent:Ud}),e}var nc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},G1=bi(nc),Yh=mr({},nc,{view:0,detail:0}),w6=bi(Yh),D0,M0,qc,jp=mr({},Yh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:K1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==qc&&(qc&&t.type==="mousemove"?(D0=t.screenX-qc.screenX,M0=t.screenY-qc.screenY):M0=D0=0,qc=t),D0)},movementY:function(t){return"movementY"in t?t.movementY:M0}}),G2=bi(jp),b6=mr({},jp,{dataTransfer:0}),x6=bi(b6),_6=mr({},Yh,{relatedTarget:0}),B0=bi(_6),S6=mr({},nc,{animationName:0,elapsedTime:0,pseudoElement:0}),k6=bi(S6),N6=mr({},nc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),A6=bi(N6),E6=mr({},nc,{data:0}),K2=bi(E6),j6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},C6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},L6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function P6(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=L6[t])?!!e[t]:!1}function K1(){return P6}var O6=mr({},Yh,{key:function(t){if(t.key){var e=j6[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Sf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?C6[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:K1,charCode:function(t){return t.type==="keypress"?Sf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Sf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),T6=bi(O6),R6=mr({},jp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),J2=bi(R6),I6=mr({},Yh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:K1}),F6=bi(I6),D6=mr({},nc,{propertyName:0,elapsedTime:0,pseudoElement:0}),M6=bi(D6),B6=mr({},jp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),U6=bi(B6),z6=[9,13,27,32],J1=pa&&"CompositionEvent"in window,ah=null;pa&&"documentMode"in document&&(ah=document.documentMode);var $6=pa&&"TextEvent"in window&&!ah,mx=pa&&(!J1||ah&&8<ah&&11>=ah),Q2=" ",Y2=!1;function vx(t,e){switch(t){case"keyup":return z6.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yx(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var hu=!1;function q6(t,e){switch(t){case"compositionend":return yx(e);case"keypress":return e.which!==32?null:(Y2=!0,Q2);case"textInput":return t=e.data,t===Q2&&Y2?null:t;default:return null}}function W6(t,e){if(hu)return t==="compositionend"||!J1&&vx(t,e)?(t=gx(),_f=V1=co=null,hu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return mx&&e.locale!=="ko"?null:e.data;default:return null}}var H6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function X2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!H6[t.type]:e==="textarea"}function wx(t,e,r,n){Qb(n),e=Vf(e,"onChange"),0<e.length&&(r=new G1("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var oh=null,kh=null;function V6(t){Lx(t,0)}function Cp(t){var e=pu(t);if(qb(e))return t}function G6(t,e){if(t==="change")return e}var bx=!1;if(pa){var U0;if(pa){var z0="oninput"in document;if(!z0){var Z2=document.createElement("div");Z2.setAttribute("oninput","return;"),z0=typeof Z2.oninput=="function"}U0=z0}else U0=!1;bx=U0&&(!document.documentMode||9<document.documentMode)}function ey(){oh&&(oh.detachEvent("onpropertychange",xx),kh=oh=null)}function xx(t){if(t.propertyName==="value"&&Cp(kh)){var e=[];wx(e,kh,t,z1(t)),ex(V6,e)}}function K6(t,e,r){t==="focusin"?(ey(),oh=e,kh=r,oh.attachEvent("onpropertychange",xx)):t==="focusout"&&ey()}function J6(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Cp(kh)}function Q6(t,e){if(t==="click")return Cp(e)}function Y6(t,e){if(t==="input"||t==="change")return Cp(e)}function X6(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ns=typeof Object.is=="function"?Object.is:X6;function Nh(t,e){if(ns(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!qg.call(e,i)||!ns(t[i],e[i]))return!1}return!0}function ty(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ry(t,e){var r=ty(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ty(r)}}function _x(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?_x(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Sx(){for(var t=window,e=Bf();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Bf(t.document)}return e}function Q1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Z6(t){var e=Sx(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&_x(r.ownerDocument.documentElement,r)){if(n!==null&&Q1(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=ry(r,s);var a=ry(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var eN=pa&&"documentMode"in document&&11>=document.documentMode,du=null,lm=null,lh=null,um=!1;function ny(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;um||du==null||du!==Bf(n)||(n=du,"selectionStart"in n&&Q1(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),lh&&Nh(lh,n)||(lh=n,n=Vf(lm,"onSelect"),0<n.length&&(e=new G1("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=du)))}function zd(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var fu={animationend:zd("Animation","AnimationEnd"),animationiteration:zd("Animation","AnimationIteration"),animationstart:zd("Animation","AnimationStart"),transitionend:zd("Transition","TransitionEnd")},$0={},kx={};pa&&(kx=document.createElement("div").style,"AnimationEvent"in window||(delete fu.animationend.animation,delete fu.animationiteration.animation,delete fu.animationstart.animation),"TransitionEvent"in window||delete fu.transitionend.transition);function Lp(t){if($0[t])return $0[t];if(!fu[t])return t;var e=fu[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in kx)return $0[t]=e[r];return t}var Nx=Lp("animationend"),Ax=Lp("animationiteration"),Ex=Lp("animationstart"),jx=Lp("transitionend"),Cx=new Map,iy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jo(t,e){Cx.set(t,e),Ol(e,[t])}for(var q0=0;q0<iy.length;q0++){var W0=iy[q0],tN=W0.toLowerCase(),rN=W0[0].toUpperCase()+W0.slice(1);jo(tN,"on"+rN)}jo(Nx,"onAnimationEnd");jo(Ax,"onAnimationIteration");jo(Ex,"onAnimationStart");jo("dblclick","onDoubleClick");jo("focusin","onFocus");jo("focusout","onBlur");jo(jx,"onTransitionEnd");Gu("onMouseEnter",["mouseout","mouseover"]);Gu("onMouseLeave",["mouseout","mouseover"]);Gu("onPointerEnter",["pointerout","pointerover"]);Gu("onPointerLeave",["pointerout","pointerover"]);Ol("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ol("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ol("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ol("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ol("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ol("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var th="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nN=new Set("cancel close invalid load scroll toggle".split(" ").concat(th));function sy(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,t6(n,e,void 0,t),t.currentTarget=null}function Lx(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;sy(i,o,u),s=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;sy(i,o,u),s=l}}}if(zf)throw t=im,zf=!1,im=null,t}function sr(t,e){var r=e[pm];r===void 0&&(r=e[pm]=new Set);var n=t+"__bubble";r.has(n)||(Px(e,t,2,!1),r.add(n))}function H0(t,e,r){var n=0;e&&(n|=4),Px(r,t,n,e)}var $d="_reactListening"+Math.random().toString(36).slice(2);function Ah(t){if(!t[$d]){t[$d]=!0,Mb.forEach(function(r){r!=="selectionchange"&&(nN.has(r)||H0(r,!1,t),H0(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[$d]||(e[$d]=!0,H0("selectionchange",!1,e))}}function Px(t,e,r,n){switch(px(e)){case 1:var i=v6;break;case 4:i=y6;break;default:i=H1}r=i.bind(null,e,r,t),i=void 0,!nm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function V0(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=sl(o),a===null)return;if(l=a.tag,l===5||l===6){n=s=a;continue e}o=o.parentNode}}n=n.return}ex(function(){var u=s,h=z1(r),p=[];e:{var g=Cx.get(t);if(g!==void 0){var d=G1,b=t;switch(t){case"keypress":if(Sf(r)===0)break e;case"keydown":case"keyup":d=T6;break;case"focusin":b="focus",d=B0;break;case"focusout":b="blur",d=B0;break;case"beforeblur":case"afterblur":d=B0;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=G2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=x6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=F6;break;case Nx:case Ax:case Ex:d=k6;break;case jx:d=M6;break;case"scroll":d=w6;break;case"wheel":d=U6;break;case"copy":case"cut":case"paste":d=A6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=J2}var x=(e&4)!==0,N=!x&&t==="scroll",w=x?g!==null?g+"Capture":null:g;x=[];for(var S=u,k;S!==null;){k=S;var A=k.stateNode;if(k.tag===5&&A!==null&&(k=A,w!==null&&(A=bh(S,w),A!=null&&x.push(Eh(S,A,k)))),N)break;S=S.return}0<x.length&&(g=new d(g,b,null,r,h),p.push({event:g,listeners:x}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",d=t==="mouseout"||t==="pointerout",g&&r!==tm&&(b=r.relatedTarget||r.fromElement)&&(sl(b)||b[ga]))break e;if((d||g)&&(g=h.window===h?h:(g=h.ownerDocument)?g.defaultView||g.parentWindow:window,d?(b=r.relatedTarget||r.toElement,d=u,b=b?sl(b):null,b!==null&&(N=Tl(b),b!==N||b.tag!==5&&b.tag!==6)&&(b=null)):(d=null,b=u),d!==b)){if(x=G2,A="onMouseLeave",w="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(x=J2,A="onPointerLeave",w="onPointerEnter",S="pointer"),N=d==null?g:pu(d),k=b==null?g:pu(b),g=new x(A,S+"leave",d,r,h),g.target=N,g.relatedTarget=k,A=null,sl(h)===u&&(x=new x(w,S+"enter",b,r,h),x.target=k,x.relatedTarget=N,A=x),N=A,d&&b)t:{for(x=d,w=b,S=0,k=x;k;k=Kl(k))S++;for(k=0,A=w;A;A=Kl(A))k++;for(;0<S-k;)x=Kl(x),S--;for(;0<k-S;)w=Kl(w),k--;for(;S--;){if(x===w||w!==null&&x===w.alternate)break t;x=Kl(x),w=Kl(w)}x=null}else x=null;d!==null&&ay(p,g,d,x,!1),b!==null&&N!==null&&ay(p,N,b,x,!0)}}e:{if(g=u?pu(u):window,d=g.nodeName&&g.nodeName.toLowerCase(),d==="select"||d==="input"&&g.type==="file")var q=G6;else if(X2(g))if(bx)q=Y6;else{q=J6;var Y=K6}else(d=g.nodeName)&&d.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(q=Q6);if(q&&(q=q(t,u))){wx(p,q,r,h);break e}Y&&Y(t,g,u),t==="focusout"&&(Y=g._wrapperState)&&Y.controlled&&g.type==="number"&&Qg(g,"number",g.value)}switch(Y=u?pu(u):window,t){case"focusin":(X2(Y)||Y.contentEditable==="true")&&(du=Y,lm=u,lh=null);break;case"focusout":lh=lm=du=null;break;case"mousedown":um=!0;break;case"contextmenu":case"mouseup":case"dragend":um=!1,ny(p,r,h);break;case"selectionchange":if(eN)break;case"keydown":case"keyup":ny(p,r,h)}var $;if(J1)e:{switch(t){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else hu?vx(t,r)&&(M="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(M="onCompositionStart");M&&(mx&&r.locale!=="ko"&&(hu||M!=="onCompositionStart"?M==="onCompositionEnd"&&hu&&($=gx()):(co=h,V1="value"in co?co.value:co.textContent,hu=!0)),Y=Vf(u,M),0<Y.length&&(M=new K2(M,t,null,r,h),p.push({event:M,listeners:Y}),$?M.data=$:($=yx(r),$!==null&&(M.data=$)))),($=$6?q6(t,r):W6(t,r))&&(u=Vf(u,"onBeforeInput"),0<u.length&&(h=new K2("onBeforeInput","beforeinput",null,r,h),p.push({event:h,listeners:u}),h.data=$))}Lx(p,e)})}function Eh(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Vf(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=bh(t,r),s!=null&&n.unshift(Eh(t,s,i)),s=bh(t,e),s!=null&&n.push(Eh(t,s,i))),t=t.return}return n}function Kl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ay(t,e,r,n,i){for(var s=e._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,i?(l=bh(r,s),l!=null&&a.unshift(Eh(r,l,o))):i||(l=bh(r,s),l!=null&&a.push(Eh(r,l,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var iN=/\r\n?/g,sN=/\u0000|\uFFFD/g;function oy(t){return(typeof t=="string"?t:""+t).replace(iN,`
`).replace(sN,"")}function qd(t,e,r){if(e=oy(e),oy(t)!==e&&r)throw Error(Le(425))}function Gf(){}var cm=null,hm=null;function dm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var fm=typeof setTimeout=="function"?setTimeout:void 0,aN=typeof clearTimeout=="function"?clearTimeout:void 0,ly=typeof Promise=="function"?Promise:void 0,oN=typeof queueMicrotask=="function"?queueMicrotask:typeof ly<"u"?function(t){return ly.resolve(null).then(t).catch(lN)}:fm;function lN(t){setTimeout(function(){throw t})}function G0(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Sh(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Sh(e)}function yo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function uy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var ic=Math.random().toString(36).slice(2),_s="__reactFiber$"+ic,jh="__reactProps$"+ic,ga="__reactContainer$"+ic,pm="__reactEvents$"+ic,uN="__reactListeners$"+ic,cN="__reactHandles$"+ic;function sl(t){var e=t[_s];if(e)return e;for(var r=t.parentNode;r;){if(e=r[ga]||r[_s]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=uy(t);t!==null;){if(r=t[_s])return r;t=uy(t)}return e}t=r,r=t.parentNode}return null}function Xh(t){return t=t[_s]||t[ga],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function pu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Le(33))}function Pp(t){return t[jh]||null}var gm=[],gu=-1;function Co(t){return{current:t}}function or(t){0>gu||(t.current=gm[gu],gm[gu]=null,gu--)}function rr(t,e){gu++,gm[gu]=t.current,t.current=e}var Ao={},Sn=Co(Ao),Jn=Co(!1),Sl=Ao;function Ku(t,e){var r=t.type.contextTypes;if(!r)return Ao;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Qn(t){return t=t.childContextTypes,t!=null}function Kf(){or(Jn),or(Sn)}function cy(t,e,r){if(Sn.current!==Ao)throw Error(Le(168));rr(Sn,e),rr(Jn,r)}function Ox(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(Le(108,Kk(t)||"Unknown",i));return mr({},r,n)}function Jf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ao,Sl=Sn.current,rr(Sn,t),rr(Jn,Jn.current),!0}function hy(t,e,r){var n=t.stateNode;if(!n)throw Error(Le(169));r?(t=Ox(t,e,Sl),n.__reactInternalMemoizedMergedChildContext=t,or(Jn),or(Sn),rr(Sn,t)):or(Jn),rr(Jn,r)}var na=null,Op=!1,K0=!1;function Tx(t){na===null?na=[t]:na.push(t)}function hN(t){Op=!0,Tx(t)}function Lo(){if(!K0&&na!==null){K0=!0;var t=0,e=Vt;try{var r=na;for(Vt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}na=null,Op=!1}catch(i){throw na!==null&&(na=na.slice(t+1)),ix($1,Lo),i}finally{Vt=e,K0=!1}}return null}var mu=[],vu=0,Qf=null,Yf=0,Oi=[],Ti=0,kl=null,ua=1,ca="";function Qo(t,e){mu[vu++]=Yf,mu[vu++]=Qf,Qf=t,Yf=e}function Rx(t,e,r){Oi[Ti++]=ua,Oi[Ti++]=ca,Oi[Ti++]=kl,kl=t;var n=ua;t=ca;var i=32-ts(n)-1;n&=~(1<<i),r+=1;var s=32-ts(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,ua=1<<32-ts(e)+i|r<<i|n,ca=s+t}else ua=1<<s|r<<i|n,ca=t}function Y1(t){t.return!==null&&(Qo(t,1),Rx(t,1,0))}function X1(t){for(;t===Qf;)Qf=mu[--vu],mu[vu]=null,Yf=mu[--vu],mu[vu]=null;for(;t===kl;)kl=Oi[--Ti],Oi[Ti]=null,ca=Oi[--Ti],Oi[Ti]=null,ua=Oi[--Ti],Oi[Ti]=null}var vi=null,gi=null,cr=!1,es=null;function Ix(t,e){var r=Ri(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function dy(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,vi=t,gi=yo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,vi=t,gi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=kl!==null?{id:ua,overflow:ca}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Ri(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,vi=t,gi=null,!0):!1;default:return!1}}function mm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function vm(t){if(cr){var e=gi;if(e){var r=e;if(!dy(t,e)){if(mm(t))throw Error(Le(418));e=yo(r.nextSibling);var n=vi;e&&dy(t,e)?Ix(n,r):(t.flags=t.flags&-4097|2,cr=!1,vi=t)}}else{if(mm(t))throw Error(Le(418));t.flags=t.flags&-4097|2,cr=!1,vi=t}}}function fy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;vi=t}function Wd(t){if(t!==vi)return!1;if(!cr)return fy(t),cr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!dm(t.type,t.memoizedProps)),e&&(e=gi)){if(mm(t))throw Fx(),Error(Le(418));for(;e;)Ix(t,e),e=yo(e.nextSibling)}if(fy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Le(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){gi=yo(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}gi=null}}else gi=vi?yo(t.stateNode.nextSibling):null;return!0}function Fx(){for(var t=gi;t;)t=yo(t.nextSibling)}function Ju(){gi=vi=null,cr=!1}function Z1(t){es===null?es=[t]:es.push(t)}var dN=ba.ReactCurrentBatchConfig;function Wc(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Le(309));var n=r.stateNode}if(!n)throw Error(Le(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(Le(284));if(!r._owner)throw Error(Le(290,t))}return t}function Hd(t,e){throw t=Object.prototype.toString.call(e),Error(Le(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function py(t){var e=t._init;return e(t._payload)}function Dx(t){function e(w,S){if(t){var k=w.deletions;k===null?(w.deletions=[S],w.flags|=16):k.push(S)}}function r(w,S){if(!t)return null;for(;S!==null;)e(w,S),S=S.sibling;return null}function n(w,S){for(w=new Map;S!==null;)S.key!==null?w.set(S.key,S):w.set(S.index,S),S=S.sibling;return w}function i(w,S){return w=_o(w,S),w.index=0,w.sibling=null,w}function s(w,S,k){return w.index=k,t?(k=w.alternate,k!==null?(k=k.index,k<S?(w.flags|=2,S):k):(w.flags|=2,S)):(w.flags|=1048576,S)}function a(w){return t&&w.alternate===null&&(w.flags|=2),w}function o(w,S,k,A){return S===null||S.tag!==6?(S=tg(k,w.mode,A),S.return=w,S):(S=i(S,k),S.return=w,S)}function l(w,S,k,A){var q=k.type;return q===cu?h(w,S,k.props.children,A,k.key):S!==null&&(S.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===Ja&&py(q)===S.type)?(A=i(S,k.props),A.ref=Wc(w,S,k),A.return=w,A):(A=Lf(k.type,k.key,k.props,null,w.mode,A),A.ref=Wc(w,S,k),A.return=w,A)}function u(w,S,k,A){return S===null||S.tag!==4||S.stateNode.containerInfo!==k.containerInfo||S.stateNode.implementation!==k.implementation?(S=rg(k,w.mode,A),S.return=w,S):(S=i(S,k.children||[]),S.return=w,S)}function h(w,S,k,A,q){return S===null||S.tag!==7?(S=xl(k,w.mode,A,q),S.return=w,S):(S=i(S,k),S.return=w,S)}function p(w,S,k){if(typeof S=="string"&&S!==""||typeof S=="number")return S=tg(""+S,w.mode,k),S.return=w,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Rd:return k=Lf(S.type,S.key,S.props,null,w.mode,k),k.ref=Wc(w,null,S),k.return=w,k;case uu:return S=rg(S,w.mode,k),S.return=w,S;case Ja:var A=S._init;return p(w,A(S._payload),k)}if(Zc(S)||Bc(S))return S=xl(S,w.mode,k,null),S.return=w,S;Hd(w,S)}return null}function g(w,S,k,A){var q=S!==null?S.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return q!==null?null:o(w,S,""+k,A);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Rd:return k.key===q?l(w,S,k,A):null;case uu:return k.key===q?u(w,S,k,A):null;case Ja:return q=k._init,g(w,S,q(k._payload),A)}if(Zc(k)||Bc(k))return q!==null?null:h(w,S,k,A,null);Hd(w,k)}return null}function d(w,S,k,A,q){if(typeof A=="string"&&A!==""||typeof A=="number")return w=w.get(k)||null,o(S,w,""+A,q);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Rd:return w=w.get(A.key===null?k:A.key)||null,l(S,w,A,q);case uu:return w=w.get(A.key===null?k:A.key)||null,u(S,w,A,q);case Ja:var Y=A._init;return d(w,S,k,Y(A._payload),q)}if(Zc(A)||Bc(A))return w=w.get(k)||null,h(S,w,A,q,null);Hd(S,A)}return null}function b(w,S,k,A){for(var q=null,Y=null,$=S,M=S=0,F=null;$!==null&&M<k.length;M++){$.index>M?(F=$,$=null):F=$.sibling;var V=g(w,$,k[M],A);if(V===null){$===null&&($=F);break}t&&$&&V.alternate===null&&e(w,$),S=s(V,S,M),Y===null?q=V:Y.sibling=V,Y=V,$=F}if(M===k.length)return r(w,$),cr&&Qo(w,M),q;if($===null){for(;M<k.length;M++)$=p(w,k[M],A),$!==null&&(S=s($,S,M),Y===null?q=$:Y.sibling=$,Y=$);return cr&&Qo(w,M),q}for($=n(w,$);M<k.length;M++)F=d($,w,M,k[M],A),F!==null&&(t&&F.alternate!==null&&$.delete(F.key===null?M:F.key),S=s(F,S,M),Y===null?q=F:Y.sibling=F,Y=F);return t&&$.forEach(function(L){return e(w,L)}),cr&&Qo(w,M),q}function x(w,S,k,A){var q=Bc(k);if(typeof q!="function")throw Error(Le(150));if(k=q.call(k),k==null)throw Error(Le(151));for(var Y=q=null,$=S,M=S=0,F=null,V=k.next();$!==null&&!V.done;M++,V=k.next()){$.index>M?(F=$,$=null):F=$.sibling;var L=g(w,$,V.value,A);if(L===null){$===null&&($=F);break}t&&$&&L.alternate===null&&e(w,$),S=s(L,S,M),Y===null?q=L:Y.sibling=L,Y=L,$=F}if(V.done)return r(w,$),cr&&Qo(w,M),q;if($===null){for(;!V.done;M++,V=k.next())V=p(w,V.value,A),V!==null&&(S=s(V,S,M),Y===null?q=V:Y.sibling=V,Y=V);return cr&&Qo(w,M),q}for($=n(w,$);!V.done;M++,V=k.next())V=d($,w,M,V.value,A),V!==null&&(t&&V.alternate!==null&&$.delete(V.key===null?M:V.key),S=s(V,S,M),Y===null?q=V:Y.sibling=V,Y=V);return t&&$.forEach(function(R){return e(w,R)}),cr&&Qo(w,M),q}function N(w,S,k,A){if(typeof k=="object"&&k!==null&&k.type===cu&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case Rd:e:{for(var q=k.key,Y=S;Y!==null;){if(Y.key===q){if(q=k.type,q===cu){if(Y.tag===7){r(w,Y.sibling),S=i(Y,k.props.children),S.return=w,w=S;break e}}else if(Y.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===Ja&&py(q)===Y.type){r(w,Y.sibling),S=i(Y,k.props),S.ref=Wc(w,Y,k),S.return=w,w=S;break e}r(w,Y);break}else e(w,Y);Y=Y.sibling}k.type===cu?(S=xl(k.props.children,w.mode,A,k.key),S.return=w,w=S):(A=Lf(k.type,k.key,k.props,null,w.mode,A),A.ref=Wc(w,S,k),A.return=w,w=A)}return a(w);case uu:e:{for(Y=k.key;S!==null;){if(S.key===Y)if(S.tag===4&&S.stateNode.containerInfo===k.containerInfo&&S.stateNode.implementation===k.implementation){r(w,S.sibling),S=i(S,k.children||[]),S.return=w,w=S;break e}else{r(w,S);break}else e(w,S);S=S.sibling}S=rg(k,w.mode,A),S.return=w,w=S}return a(w);case Ja:return Y=k._init,N(w,S,Y(k._payload),A)}if(Zc(k))return b(w,S,k,A);if(Bc(k))return x(w,S,k,A);Hd(w,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,S!==null&&S.tag===6?(r(w,S.sibling),S=i(S,k),S.return=w,w=S):(r(w,S),S=tg(k,w.mode,A),S.return=w,w=S),a(w)):r(w,S)}return N}var Qu=Dx(!0),Mx=Dx(!1),Xf=Co(null),Zf=null,yu=null,ev=null;function tv(){ev=yu=Zf=null}function rv(t){var e=Xf.current;or(Xf),t._currentValue=e}function ym(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Au(t,e){Zf=t,ev=yu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Gn=!0),t.firstContext=null)}function Fi(t){var e=t._currentValue;if(ev!==t)if(t={context:t,memoizedValue:e,next:null},yu===null){if(Zf===null)throw Error(Le(308));yu=t,Zf.dependencies={lanes:0,firstContext:t}}else yu=yu.next=t;return e}var al=null;function nv(t){al===null?al=[t]:al.push(t)}function Bx(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,nv(e)):(r.next=i.next,i.next=r),e.interleaved=r,ma(t,n)}function ma(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Qa=!1;function iv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ux(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function da(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function wo(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Ft&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,ma(t,r)}return i=n.interleaved,i===null?(e.next=e,nv(n)):(e.next=i.next,i.next=e),n.interleaved=e,ma(t,r)}function kf(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,q1(t,r)}}function gy(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function ep(t,e,r,n){var i=t.updateQueue;Qa=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?s=u:a.next=u,a=l;var h=t.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==a&&(o===null?h.firstBaseUpdate=u:o.next=u,h.lastBaseUpdate=l))}if(s!==null){var p=i.baseState;a=0,h=u=l=null,o=s;do{var g=o.lane,d=o.eventTime;if((n&g)===g){h!==null&&(h=h.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var b=t,x=o;switch(g=e,d=r,x.tag){case 1:if(b=x.payload,typeof b=="function"){p=b.call(d,p,g);break e}p=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=x.payload,g=typeof b=="function"?b.call(d,p,g):b,g==null)break e;p=mr({},p,g);break e;case 2:Qa=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[o]:g.push(o))}else d={eventTime:d,lane:g,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(u=h=d,l=p):h=h.next=d,a|=g;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;g=o,o=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(h===null&&(l=p),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Al|=a,t.lanes=a,t.memoizedState=p}}function my(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Le(191,i));i.call(n)}}}var Zh={},As=Co(Zh),Ch=Co(Zh),Lh=Co(Zh);function ol(t){if(t===Zh)throw Error(Le(174));return t}function sv(t,e){switch(rr(Lh,e),rr(Ch,t),rr(As,Zh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Xg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Xg(e,t)}or(As),rr(As,e)}function Yu(){or(As),or(Ch),or(Lh)}function zx(t){ol(Lh.current);var e=ol(As.current),r=Xg(e,t.type);e!==r&&(rr(Ch,t),rr(As,r))}function av(t){Ch.current===t&&(or(As),or(Ch))}var fr=Co(0);function tp(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var J0=[];function ov(){for(var t=0;t<J0.length;t++)J0[t]._workInProgressVersionPrimary=null;J0.length=0}var Nf=ba.ReactCurrentDispatcher,Q0=ba.ReactCurrentBatchConfig,Nl=0,pr=null,Vr=null,Zr=null,rp=!1,uh=!1,Ph=0,fN=0;function mn(){throw Error(Le(321))}function lv(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!ns(t[r],e[r]))return!1;return!0}function uv(t,e,r,n,i,s){if(Nl=s,pr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Nf.current=t===null||t.memoizedState===null?vN:yN,t=r(n,i),uh){s=0;do{if(uh=!1,Ph=0,25<=s)throw Error(Le(301));s+=1,Zr=Vr=null,e.updateQueue=null,Nf.current=wN,t=r(n,i)}while(uh)}if(Nf.current=np,e=Vr!==null&&Vr.next!==null,Nl=0,Zr=Vr=pr=null,rp=!1,e)throw Error(Le(300));return t}function cv(){var t=Ph!==0;return Ph=0,t}function ys(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zr===null?pr.memoizedState=Zr=t:Zr=Zr.next=t,Zr}function Di(){if(Vr===null){var t=pr.alternate;t=t!==null?t.memoizedState:null}else t=Vr.next;var e=Zr===null?pr.memoizedState:Zr.next;if(e!==null)Zr=e,Vr=t;else{if(t===null)throw Error(Le(310));Vr=t,t={memoizedState:Vr.memoizedState,baseState:Vr.baseState,baseQueue:Vr.baseQueue,queue:Vr.queue,next:null},Zr===null?pr.memoizedState=Zr=t:Zr=Zr.next=t}return Zr}function Oh(t,e){return typeof e=="function"?e(t):e}function Y0(t){var e=Di(),r=e.queue;if(r===null)throw Error(Le(311));r.lastRenderedReducer=t;var n=Vr,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,l=null,u=s;do{var h=u.lane;if((Nl&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var p={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=p,a=n):l=l.next=p,pr.lanes|=h,Al|=h}u=u.next}while(u!==null&&u!==s);l===null?a=n:l.next=o,ns(n,e.memoizedState)||(Gn=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,pr.lanes|=s,Al|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function X0(t){var e=Di(),r=e.queue;if(r===null)throw Error(Le(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);ns(s,e.memoizedState)||(Gn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function $x(){}function qx(t,e){var r=pr,n=Di(),i=e(),s=!ns(n.memoizedState,i);if(s&&(n.memoizedState=i,Gn=!0),n=n.queue,hv(Vx.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Zr!==null&&Zr.memoizedState.tag&1){if(r.flags|=2048,Th(9,Hx.bind(null,r,n,i,e),void 0,null),tn===null)throw Error(Le(349));Nl&30||Wx(r,e,i)}return i}function Wx(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=pr.updateQueue,e===null?(e={lastEffect:null,stores:null},pr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Hx(t,e,r,n){e.value=r,e.getSnapshot=n,Gx(e)&&Kx(t)}function Vx(t,e,r){return r(function(){Gx(e)&&Kx(t)})}function Gx(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!ns(t,r)}catch{return!0}}function Kx(t){var e=ma(t,1);e!==null&&rs(e,t,1,-1)}function vy(t){var e=ys();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Oh,lastRenderedState:t},e.queue=t,t=t.dispatch=mN.bind(null,pr,t),[e.memoizedState,t]}function Th(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=pr.updateQueue,e===null?(e={lastEffect:null,stores:null},pr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Jx(){return Di().memoizedState}function Af(t,e,r,n){var i=ys();pr.flags|=t,i.memoizedState=Th(1|e,r,void 0,n===void 0?null:n)}function Tp(t,e,r,n){var i=Di();n=n===void 0?null:n;var s=void 0;if(Vr!==null){var a=Vr.memoizedState;if(s=a.destroy,n!==null&&lv(n,a.deps)){i.memoizedState=Th(e,r,s,n);return}}pr.flags|=t,i.memoizedState=Th(1|e,r,s,n)}function yy(t,e){return Af(8390656,8,t,e)}function hv(t,e){return Tp(2048,8,t,e)}function Qx(t,e){return Tp(4,2,t,e)}function Yx(t,e){return Tp(4,4,t,e)}function Xx(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Zx(t,e,r){return r=r!=null?r.concat([t]):null,Tp(4,4,Xx.bind(null,e,t),r)}function dv(){}function e_(t,e){var r=Di();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&lv(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function t_(t,e){var r=Di();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&lv(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function r_(t,e,r){return Nl&21?(ns(r,e)||(r=ox(),pr.lanes|=r,Al|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Gn=!0),t.memoizedState=r)}function pN(t,e){var r=Vt;Vt=r!==0&&4>r?r:4,t(!0);var n=Q0.transition;Q0.transition={};try{t(!1),e()}finally{Vt=r,Q0.transition=n}}function n_(){return Di().memoizedState}function gN(t,e,r){var n=xo(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},i_(t))s_(e,r);else if(r=Bx(t,e,r,n),r!==null){var i=Fn();rs(r,t,n,i),a_(r,e,n)}}function mN(t,e,r){var n=xo(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(i_(t))s_(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,r);if(i.hasEagerState=!0,i.eagerState=o,ns(o,a)){var l=e.interleaved;l===null?(i.next=i,nv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=Bx(t,e,i,n),r!==null&&(i=Fn(),rs(r,t,n,i),a_(r,e,n))}}function i_(t){var e=t.alternate;return t===pr||e!==null&&e===pr}function s_(t,e){uh=rp=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function a_(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,q1(t,r)}}var np={readContext:Fi,useCallback:mn,useContext:mn,useEffect:mn,useImperativeHandle:mn,useInsertionEffect:mn,useLayoutEffect:mn,useMemo:mn,useReducer:mn,useRef:mn,useState:mn,useDebugValue:mn,useDeferredValue:mn,useTransition:mn,useMutableSource:mn,useSyncExternalStore:mn,useId:mn,unstable_isNewReconciler:!1},vN={readContext:Fi,useCallback:function(t,e){return ys().memoizedState=[t,e===void 0?null:e],t},useContext:Fi,useEffect:yy,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Af(4194308,4,Xx.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Af(4194308,4,t,e)},useInsertionEffect:function(t,e){return Af(4,2,t,e)},useMemo:function(t,e){var r=ys();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=ys();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=gN.bind(null,pr,t),[n.memoizedState,t]},useRef:function(t){var e=ys();return t={current:t},e.memoizedState=t},useState:vy,useDebugValue:dv,useDeferredValue:function(t){return ys().memoizedState=t},useTransition:function(){var t=vy(!1),e=t[0];return t=pN.bind(null,t[1]),ys().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=pr,i=ys();if(cr){if(r===void 0)throw Error(Le(407));r=r()}else{if(r=e(),tn===null)throw Error(Le(349));Nl&30||Wx(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,yy(Vx.bind(null,n,s,t),[t]),n.flags|=2048,Th(9,Hx.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=ys(),e=tn.identifierPrefix;if(cr){var r=ca,n=ua;r=(n&~(1<<32-ts(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Ph++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=fN++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},yN={readContext:Fi,useCallback:e_,useContext:Fi,useEffect:hv,useImperativeHandle:Zx,useInsertionEffect:Qx,useLayoutEffect:Yx,useMemo:t_,useReducer:Y0,useRef:Jx,useState:function(){return Y0(Oh)},useDebugValue:dv,useDeferredValue:function(t){var e=Di();return r_(e,Vr.memoizedState,t)},useTransition:function(){var t=Y0(Oh)[0],e=Di().memoizedState;return[t,e]},useMutableSource:$x,useSyncExternalStore:qx,useId:n_,unstable_isNewReconciler:!1},wN={readContext:Fi,useCallback:e_,useContext:Fi,useEffect:hv,useImperativeHandle:Zx,useInsertionEffect:Qx,useLayoutEffect:Yx,useMemo:t_,useReducer:X0,useRef:Jx,useState:function(){return X0(Oh)},useDebugValue:dv,useDeferredValue:function(t){var e=Di();return Vr===null?e.memoizedState=t:r_(e,Vr.memoizedState,t)},useTransition:function(){var t=X0(Oh)[0],e=Di().memoizedState;return[t,e]},useMutableSource:$x,useSyncExternalStore:qx,useId:n_,unstable_isNewReconciler:!1};function Ki(t,e){if(t&&t.defaultProps){e=mr({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function wm(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:mr({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Rp={isMounted:function(t){return(t=t._reactInternals)?Tl(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Fn(),i=xo(t),s=da(n,i);s.payload=e,r!=null&&(s.callback=r),e=wo(t,s,i),e!==null&&(rs(e,t,i,n),kf(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Fn(),i=xo(t),s=da(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=wo(t,s,i),e!==null&&(rs(e,t,i,n),kf(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Fn(),n=xo(t),i=da(r,n);i.tag=2,e!=null&&(i.callback=e),e=wo(t,i,n),e!==null&&(rs(e,t,n,r),kf(e,t,n))}};function wy(t,e,r,n,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!Nh(r,n)||!Nh(i,s):!0}function o_(t,e,r){var n=!1,i=Ao,s=e.contextType;return typeof s=="object"&&s!==null?s=Fi(s):(i=Qn(e)?Sl:Sn.current,n=e.contextTypes,s=(n=n!=null)?Ku(t,i):Ao),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Rp,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function by(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Rp.enqueueReplaceState(e,e.state,null)}function bm(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},iv(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Fi(s):(s=Qn(e)?Sl:Sn.current,i.context=Ku(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(wm(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Rp.enqueueReplaceState(i,i.state,null),ep(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Xu(t,e){try{var r="",n=e;do r+=Gk(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Z0(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function xm(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var bN=typeof WeakMap=="function"?WeakMap:Map;function l_(t,e,r){r=da(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){sp||(sp=!0,Pm=n),xm(t,e)},r}function u_(t,e,r){r=da(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){xm(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){xm(t,e),typeof n!="function"&&(bo===null?bo=new Set([this]):bo.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function xy(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new bN;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=RN.bind(null,t,e,r),e.then(t,t))}function _y(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Sy(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=da(-1,1),e.tag=2,wo(r,e,1))),r.lanes|=1),t)}var xN=ba.ReactCurrentOwner,Gn=!1;function Tn(t,e,r,n){e.child=t===null?Mx(e,null,r,n):Qu(e,t.child,r,n)}function ky(t,e,r,n,i){r=r.render;var s=e.ref;return Au(e,i),n=uv(t,e,r,n,s,i),r=cv(),t!==null&&!Gn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,va(t,e,i)):(cr&&r&&Y1(e),e.flags|=1,Tn(t,e,n,i),e.child)}function Ny(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!bv(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,c_(t,e,s,n,i)):(t=Lf(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:Nh,r(a,n)&&t.ref===e.ref)return va(t,e,i)}return e.flags|=1,t=_o(s,n),t.ref=e.ref,t.return=e,e.child=t}function c_(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Nh(s,n)&&t.ref===e.ref)if(Gn=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(Gn=!0);else return e.lanes=t.lanes,va(t,e,i)}return _m(t,e,r,n,i)}function h_(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},rr(bu,di),di|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,rr(bu,di),di|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,rr(bu,di),di|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,rr(bu,di),di|=n;return Tn(t,e,i,r),e.child}function d_(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function _m(t,e,r,n,i){var s=Qn(r)?Sl:Sn.current;return s=Ku(e,s),Au(e,i),r=uv(t,e,r,n,s,i),n=cv(),t!==null&&!Gn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,va(t,e,i)):(cr&&n&&Y1(e),e.flags|=1,Tn(t,e,r,i),e.child)}function Ay(t,e,r,n,i){if(Qn(r)){var s=!0;Jf(e)}else s=!1;if(Au(e,i),e.stateNode===null)Ef(t,e),o_(e,r,n),bm(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=Fi(u):(u=Qn(r)?Sl:Sn.current,u=Ku(e,u));var h=r.getDerivedStateFromProps,p=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";p||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==u)&&by(e,a,n,u),Qa=!1;var g=e.memoizedState;a.state=g,ep(e,n,a,i),l=e.memoizedState,o!==n||g!==l||Jn.current||Qa?(typeof h=="function"&&(wm(e,r,h,n),l=e.memoizedState),(o=Qa||wy(e,r,o,n,g,l,u))?(p||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=u,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,Ux(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:Ki(e.type,o),a.props=u,p=e.pendingProps,g=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=Fi(l):(l=Qn(r)?Sl:Sn.current,l=Ku(e,l));var d=r.getDerivedStateFromProps;(h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==p||g!==l)&&by(e,a,n,l),Qa=!1,g=e.memoizedState,a.state=g,ep(e,n,a,i);var b=e.memoizedState;o!==p||g!==b||Jn.current||Qa?(typeof d=="function"&&(wm(e,r,d,n),b=e.memoizedState),(u=Qa||wy(e,r,u,n,g,b,l)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,b,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,b,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=b),a.props=n,a.state=b,a.context=l,n=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),n=!1)}return Sm(t,e,r,n,s,i)}function Sm(t,e,r,n,i,s){d_(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&hy(e,r,!1),va(t,e,s);n=e.stateNode,xN.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=Qu(e,t.child,null,s),e.child=Qu(e,null,o,s)):Tn(t,e,o,s),e.memoizedState=n.state,i&&hy(e,r,!0),e.child}function f_(t){var e=t.stateNode;e.pendingContext?cy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&cy(t,e.context,!1),sv(t,e.containerInfo)}function Ey(t,e,r,n,i){return Ju(),Z1(i),e.flags|=256,Tn(t,e,r,n),e.child}var km={dehydrated:null,treeContext:null,retryLane:0};function Nm(t){return{baseLanes:t,cachePool:null,transitions:null}}function p_(t,e,r){var n=e.pendingProps,i=fr.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),rr(fr,i&1),t===null)return vm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Dp(a,n,0,null),t=xl(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Nm(r),e.memoizedState=km,t):fv(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return _N(t,e,a,n,o,i,r);if(s){s=n.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=_o(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=_o(o,s):(s=xl(s,a,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=t.child.memoizedState,a=a===null?Nm(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~r,e.memoizedState=km,n}return s=t.child,t=s.sibling,n=_o(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function fv(t,e){return e=Dp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Vd(t,e,r,n){return n!==null&&Z1(n),Qu(e,t.child,null,r),t=fv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function _N(t,e,r,n,i,s,a){if(r)return e.flags&256?(e.flags&=-257,n=Z0(Error(Le(422))),Vd(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=Dp({mode:"visible",children:n.children},i,0,null),s=xl(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Qu(e,t.child,null,a),e.child.memoizedState=Nm(a),e.memoizedState=km,s);if(!(e.mode&1))return Vd(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(Le(419)),n=Z0(s,n,void 0),Vd(t,e,a,n)}if(o=(a&t.childLanes)!==0,Gn||o){if(n=tn,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ma(t,i),rs(n,t,i,-1))}return wv(),n=Z0(Error(Le(421))),Vd(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=IN.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,gi=yo(i.nextSibling),vi=e,cr=!0,es=null,t!==null&&(Oi[Ti++]=ua,Oi[Ti++]=ca,Oi[Ti++]=kl,ua=t.id,ca=t.overflow,kl=e),e=fv(e,n.children),e.flags|=4096,e)}function jy(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),ym(t.return,e,r)}function eg(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function g_(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Tn(t,e,n.children,r),n=fr.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&jy(t,r,e);else if(t.tag===19)jy(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(rr(fr,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&tp(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),eg(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&tp(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}eg(e,!0,r,null,s);break;case"together":eg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ef(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function va(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Al|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Le(153));if(e.child!==null){for(t=e.child,r=_o(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=_o(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function SN(t,e,r){switch(e.tag){case 3:f_(e),Ju();break;case 5:zx(e);break;case 1:Qn(e.type)&&Jf(e);break;case 4:sv(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;rr(Xf,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(rr(fr,fr.current&1),e.flags|=128,null):r&e.child.childLanes?p_(t,e,r):(rr(fr,fr.current&1),t=va(t,e,r),t!==null?t.sibling:null);rr(fr,fr.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return g_(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),rr(fr,fr.current),n)break;return null;case 22:case 23:return e.lanes=0,h_(t,e,r)}return va(t,e,r)}var m_,Am,v_,y_;m_=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Am=function(){};v_=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,ol(As.current);var s=null;switch(r){case"input":i=Kg(t,i),n=Kg(t,n),s=[];break;case"select":i=mr({},i,{value:void 0}),n=mr({},n,{value:void 0}),s=[];break;case"textarea":i=Yg(t,i),n=Yg(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Gf)}Zg(r,n);var a;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(yh.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var l=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(s||(s=[]),s.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(yh.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&sr("scroll",t),s||o===l||(s=[])):(s=s||[]).push(u,l))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};y_=function(t,e,r,n){r!==n&&(e.flags|=4)};function Hc(t,e){if(!cr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function vn(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function kN(t,e,r){var n=e.pendingProps;switch(X1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vn(e),null;case 1:return Qn(e.type)&&Kf(),vn(e),null;case 3:return n=e.stateNode,Yu(),or(Jn),or(Sn),ov(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Wd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,es!==null&&(Rm(es),es=null))),Am(t,e),vn(e),null;case 5:av(e);var i=ol(Lh.current);if(r=e.type,t!==null&&e.stateNode!=null)v_(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Le(166));return vn(e),null}if(t=ol(As.current),Wd(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[_s]=e,n[jh]=s,t=(e.mode&1)!==0,r){case"dialog":sr("cancel",n),sr("close",n);break;case"iframe":case"object":case"embed":sr("load",n);break;case"video":case"audio":for(i=0;i<th.length;i++)sr(th[i],n);break;case"source":sr("error",n);break;case"img":case"image":case"link":sr("error",n),sr("load",n);break;case"details":sr("toggle",n);break;case"input":D2(n,s),sr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},sr("invalid",n);break;case"textarea":B2(n,s),sr("invalid",n)}Zg(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&qd(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&qd(n.textContent,o,t),i=["children",""+o]):yh.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&sr("scroll",n)}switch(r){case"input":Id(n),M2(n,s,!0);break;case"textarea":Id(n),U2(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Gf)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Vb(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[_s]=e,t[jh]=n,m_(t,e,!1,!1),e.stateNode=t;e:{switch(a=em(r,n),r){case"dialog":sr("cancel",t),sr("close",t),i=n;break;case"iframe":case"object":case"embed":sr("load",t),i=n;break;case"video":case"audio":for(i=0;i<th.length;i++)sr(th[i],t);i=n;break;case"source":sr("error",t),i=n;break;case"img":case"image":case"link":sr("error",t),sr("load",t),i=n;break;case"details":sr("toggle",t),i=n;break;case"input":D2(t,n),i=Kg(t,n),sr("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=mr({},n,{value:void 0}),sr("invalid",t);break;case"textarea":B2(t,n),i=Yg(t,n),sr("invalid",t);break;default:i=n}Zg(r,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?Jb(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Gb(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&wh(t,l):typeof l=="number"&&wh(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(yh.hasOwnProperty(s)?l!=null&&s==="onScroll"&&sr("scroll",t):l!=null&&D1(t,s,l,a))}switch(r){case"input":Id(t),M2(t,n,!1);break;case"textarea":Id(t),U2(t);break;case"option":n.value!=null&&t.setAttribute("value",""+No(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?_u(t,!!n.multiple,s,!1):n.defaultValue!=null&&_u(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Gf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return vn(e),null;case 6:if(t&&e.stateNode!=null)y_(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Le(166));if(r=ol(Lh.current),ol(As.current),Wd(e)){if(n=e.stateNode,r=e.memoizedProps,n[_s]=e,(s=n.nodeValue!==r)&&(t=vi,t!==null))switch(t.tag){case 3:qd(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&qd(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[_s]=e,e.stateNode=n}return vn(e),null;case 13:if(or(fr),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(cr&&gi!==null&&e.mode&1&&!(e.flags&128))Fx(),Ju(),e.flags|=98560,s=!1;else if(s=Wd(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(Le(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Le(317));s[_s]=e}else Ju(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;vn(e),s=!1}else es!==null&&(Rm(es),es=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||fr.current&1?Jr===0&&(Jr=3):wv())),e.updateQueue!==null&&(e.flags|=4),vn(e),null);case 4:return Yu(),Am(t,e),t===null&&Ah(e.stateNode.containerInfo),vn(e),null;case 10:return rv(e.type._context),vn(e),null;case 17:return Qn(e.type)&&Kf(),vn(e),null;case 19:if(or(fr),s=e.memoizedState,s===null)return vn(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)Hc(s,!1);else{if(Jr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=tp(t),a!==null){for(e.flags|=128,Hc(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return rr(fr,fr.current&1|2),e.child}t=t.sibling}s.tail!==null&&Er()>Zu&&(e.flags|=128,n=!0,Hc(s,!1),e.lanes=4194304)}else{if(!n)if(t=tp(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Hc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!cr)return vn(e),null}else 2*Er()-s.renderingStartTime>Zu&&r!==1073741824&&(e.flags|=128,n=!0,Hc(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(r=s.last,r!==null?r.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Er(),e.sibling=null,r=fr.current,rr(fr,n?r&1|2:r&1),e):(vn(e),null);case 22:case 23:return yv(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?di&1073741824&&(vn(e),e.subtreeFlags&6&&(e.flags|=8192)):vn(e),null;case 24:return null;case 25:return null}throw Error(Le(156,e.tag))}function NN(t,e){switch(X1(e),e.tag){case 1:return Qn(e.type)&&Kf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Yu(),or(Jn),or(Sn),ov(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return av(e),null;case 13:if(or(fr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Le(340));Ju()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return or(fr),null;case 4:return Yu(),null;case 10:return rv(e.type._context),null;case 22:case 23:return yv(),null;case 24:return null;default:return null}}var Gd=!1,_n=!1,AN=typeof WeakSet=="function"?WeakSet:Set,Me=null;function wu(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){xr(t,e,n)}else r.current=null}function Em(t,e,r){try{r()}catch(n){xr(t,e,n)}}var Cy=!1;function EN(t,e){if(cm=Wf,t=Sx(),Q1(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,u=0,h=0,p=t,g=null;t:for(;;){for(var d;p!==r||i!==0&&p.nodeType!==3||(o=a+i),p!==s||n!==0&&p.nodeType!==3||(l=a+n),p.nodeType===3&&(a+=p.nodeValue.length),(d=p.firstChild)!==null;)g=p,p=d;for(;;){if(p===t)break t;if(g===r&&++u===i&&(o=a),g===s&&++h===n&&(l=a),(d=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=d}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(hm={focusedElem:t,selectionRange:r},Wf=!1,Me=e;Me!==null;)if(e=Me,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Me=t;else for(;Me!==null;){e=Me;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var x=b.memoizedProps,N=b.memoizedState,w=e.stateNode,S=w.getSnapshotBeforeUpdate(e.elementType===e.type?x:Ki(e.type,x),N);w.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var k=e.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Le(163))}}catch(A){xr(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,Me=t;break}Me=e.return}return b=Cy,Cy=!1,b}function ch(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Em(e,r,s)}i=i.next}while(i!==n)}}function Ip(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function jm(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function w_(t){var e=t.alternate;e!==null&&(t.alternate=null,w_(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[_s],delete e[jh],delete e[pm],delete e[uN],delete e[cN])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function b_(t){return t.tag===5||t.tag===3||t.tag===4}function Ly(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||b_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Cm(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Gf));else if(n!==4&&(t=t.child,t!==null))for(Cm(t,e,r),t=t.sibling;t!==null;)Cm(t,e,r),t=t.sibling}function Lm(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Lm(t,e,r),t=t.sibling;t!==null;)Lm(t,e,r),t=t.sibling}var un=null,Xi=!1;function $a(t,e,r){for(r=r.child;r!==null;)x_(t,e,r),r=r.sibling}function x_(t,e,r){if(Ns&&typeof Ns.onCommitFiberUnmount=="function")try{Ns.onCommitFiberUnmount(Ep,r)}catch{}switch(r.tag){case 5:_n||wu(r,e);case 6:var n=un,i=Xi;un=null,$a(t,e,r),un=n,Xi=i,un!==null&&(Xi?(t=un,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):un.removeChild(r.stateNode));break;case 18:un!==null&&(Xi?(t=un,r=r.stateNode,t.nodeType===8?G0(t.parentNode,r):t.nodeType===1&&G0(t,r),Sh(t)):G0(un,r.stateNode));break;case 4:n=un,i=Xi,un=r.stateNode.containerInfo,Xi=!0,$a(t,e,r),un=n,Xi=i;break;case 0:case 11:case 14:case 15:if(!_n&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&Em(r,e,a),i=i.next}while(i!==n)}$a(t,e,r);break;case 1:if(!_n&&(wu(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){xr(r,e,o)}$a(t,e,r);break;case 21:$a(t,e,r);break;case 22:r.mode&1?(_n=(n=_n)||r.memoizedState!==null,$a(t,e,r),_n=n):$a(t,e,r);break;default:$a(t,e,r)}}function Py(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new AN),e.forEach(function(n){var i=FN.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Wi(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:un=o.stateNode,Xi=!1;break e;case 3:un=o.stateNode.containerInfo,Xi=!0;break e;case 4:un=o.stateNode.containerInfo,Xi=!0;break e}o=o.return}if(un===null)throw Error(Le(160));x_(s,a,i),un=null,Xi=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){xr(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)__(e,t),e=e.sibling}function __(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Wi(e,t),gs(t),n&4){try{ch(3,t,t.return),Ip(3,t)}catch(x){xr(t,t.return,x)}try{ch(5,t,t.return)}catch(x){xr(t,t.return,x)}}break;case 1:Wi(e,t),gs(t),n&512&&r!==null&&wu(r,r.return);break;case 5:if(Wi(e,t),gs(t),n&512&&r!==null&&wu(r,r.return),t.flags&32){var i=t.stateNode;try{wh(i,"")}catch(x){xr(t,t.return,x)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=r!==null?r.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&Wb(i,s),em(o,a);var u=em(o,s);for(a=0;a<l.length;a+=2){var h=l[a],p=l[a+1];h==="style"?Jb(i,p):h==="dangerouslySetInnerHTML"?Gb(i,p):h==="children"?wh(i,p):D1(i,h,p,u)}switch(o){case"input":Jg(i,s);break;case"textarea":Hb(i,s);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var d=s.value;d!=null?_u(i,!!s.multiple,d,!1):g!==!!s.multiple&&(s.defaultValue!=null?_u(i,!!s.multiple,s.defaultValue,!0):_u(i,!!s.multiple,s.multiple?[]:"",!1))}i[jh]=s}catch(x){xr(t,t.return,x)}}break;case 6:if(Wi(e,t),gs(t),n&4){if(t.stateNode===null)throw Error(Le(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(x){xr(t,t.return,x)}}break;case 3:if(Wi(e,t),gs(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Sh(e.containerInfo)}catch(x){xr(t,t.return,x)}break;case 4:Wi(e,t),gs(t);break;case 13:Wi(e,t),gs(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(mv=Er())),n&4&&Py(t);break;case 22:if(h=r!==null&&r.memoizedState!==null,t.mode&1?(_n=(u=_n)||h,Wi(e,t),_n=u):Wi(e,t),gs(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(Me=t,h=t.child;h!==null;){for(p=Me=h;Me!==null;){switch(g=Me,d=g.child,g.tag){case 0:case 11:case 14:case 15:ch(4,g,g.return);break;case 1:wu(g,g.return);var b=g.stateNode;if(typeof b.componentWillUnmount=="function"){n=g,r=g.return;try{e=n,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(x){xr(n,r,x)}}break;case 5:wu(g,g.return);break;case 22:if(g.memoizedState!==null){Ty(p);continue}}d!==null?(d.return=g,Me=d):Ty(p)}h=h.sibling}e:for(h=null,p=t;;){if(p.tag===5){if(h===null){h=p;try{i=p.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=p.stateNode,l=p.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=Kb("display",a))}catch(x){xr(t,t.return,x)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(x){xr(t,t.return,x)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Wi(e,t),gs(t),n&4&&Py(t);break;case 21:break;default:Wi(e,t),gs(t)}}function gs(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(b_(r)){var n=r;break e}r=r.return}throw Error(Le(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(wh(i,""),n.flags&=-33);var s=Ly(t);Lm(t,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=Ly(t);Cm(t,o,a);break;default:throw Error(Le(161))}}catch(l){xr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function jN(t,e,r){Me=t,S_(t)}function S_(t,e,r){for(var n=(t.mode&1)!==0;Me!==null;){var i=Me,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||Gd;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||_n;o=Gd;var u=_n;if(Gd=a,(_n=l)&&!u)for(Me=i;Me!==null;)a=Me,l=a.child,a.tag===22&&a.memoizedState!==null?Ry(i):l!==null?(l.return=a,Me=l):Ry(i);for(;s!==null;)Me=s,S_(s),s=s.sibling;Me=i,Gd=o,_n=u}Oy(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Me=s):Oy(t)}}function Oy(t){for(;Me!==null;){var e=Me;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:_n||Ip(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!_n)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Ki(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&my(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}my(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&Sh(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Le(163))}_n||e.flags&512&&jm(e)}catch(g){xr(e,e.return,g)}}if(e===t){Me=null;break}if(r=e.sibling,r!==null){r.return=e.return,Me=r;break}Me=e.return}}function Ty(t){for(;Me!==null;){var e=Me;if(e===t){Me=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Me=r;break}Me=e.return}}function Ry(t){for(;Me!==null;){var e=Me;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Ip(4,e)}catch(l){xr(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){xr(e,i,l)}}var s=e.return;try{jm(e)}catch(l){xr(e,s,l)}break;case 5:var a=e.return;try{jm(e)}catch(l){xr(e,a,l)}}}catch(l){xr(e,e.return,l)}if(e===t){Me=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Me=o;break}Me=e.return}}var CN=Math.ceil,ip=ba.ReactCurrentDispatcher,pv=ba.ReactCurrentOwner,Ii=ba.ReactCurrentBatchConfig,Ft=0,tn=null,Fr=null,cn=0,di=0,bu=Co(0),Jr=0,Rh=null,Al=0,Fp=0,gv=0,hh=null,Vn=null,mv=0,Zu=1/0,ta=null,sp=!1,Pm=null,bo=null,Kd=!1,ho=null,ap=0,dh=0,Om=null,jf=-1,Cf=0;function Fn(){return Ft&6?Er():jf!==-1?jf:jf=Er()}function xo(t){return t.mode&1?Ft&2&&cn!==0?cn&-cn:dN.transition!==null?(Cf===0&&(Cf=ox()),Cf):(t=Vt,t!==0||(t=window.event,t=t===void 0?16:px(t.type)),t):1}function rs(t,e,r,n){if(50<dh)throw dh=0,Om=null,Error(Le(185));Qh(t,r,n),(!(Ft&2)||t!==tn)&&(t===tn&&(!(Ft&2)&&(Fp|=r),Jr===4&&Xa(t,cn)),Yn(t,n),r===1&&Ft===0&&!(e.mode&1)&&(Zu=Er()+500,Op&&Lo()))}function Yn(t,e){var r=t.callbackNode;d6(t,e);var n=qf(t,t===tn?cn:0);if(n===0)r!==null&&q2(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&q2(r),e===1)t.tag===0?hN(Iy.bind(null,t)):Tx(Iy.bind(null,t)),oN(function(){!(Ft&6)&&Lo()}),r=null;else{switch(lx(n)){case 1:r=$1;break;case 4:r=sx;break;case 16:r=$f;break;case 536870912:r=ax;break;default:r=$f}r=P_(r,k_.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function k_(t,e){if(jf=-1,Cf=0,Ft&6)throw Error(Le(327));var r=t.callbackNode;if(Eu()&&t.callbackNode!==r)return null;var n=qf(t,t===tn?cn:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=op(t,n);else{e=n;var i=Ft;Ft|=2;var s=A_();(tn!==t||cn!==e)&&(ta=null,Zu=Er()+500,bl(t,e));do try{ON();break}catch(o){N_(t,o)}while(!0);tv(),ip.current=s,Ft=i,Fr!==null?e=0:(tn=null,cn=0,e=Jr)}if(e!==0){if(e===2&&(i=sm(t),i!==0&&(n=i,e=Tm(t,i))),e===1)throw r=Rh,bl(t,0),Xa(t,n),Yn(t,Er()),r;if(e===6)Xa(t,n);else{if(i=t.current.alternate,!(n&30)&&!LN(i)&&(e=op(t,n),e===2&&(s=sm(t),s!==0&&(n=s,e=Tm(t,s))),e===1))throw r=Rh,bl(t,0),Xa(t,n),Yn(t,Er()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(Le(345));case 2:Yo(t,Vn,ta);break;case 3:if(Xa(t,n),(n&130023424)===n&&(e=mv+500-Er(),10<e)){if(qf(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Fn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=fm(Yo.bind(null,t,Vn,ta),e);break}Yo(t,Vn,ta);break;case 4:if(Xa(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-ts(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=Er()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*CN(n/1960))-n,10<n){t.timeoutHandle=fm(Yo.bind(null,t,Vn,ta),n);break}Yo(t,Vn,ta);break;case 5:Yo(t,Vn,ta);break;default:throw Error(Le(329))}}}return Yn(t,Er()),t.callbackNode===r?k_.bind(null,t):null}function Tm(t,e){var r=hh;return t.current.memoizedState.isDehydrated&&(bl(t,e).flags|=256),t=op(t,e),t!==2&&(e=Vn,Vn=r,e!==null&&Rm(e)),t}function Rm(t){Vn===null?Vn=t:Vn.push.apply(Vn,t)}function LN(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!ns(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Xa(t,e){for(e&=~gv,e&=~Fp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-ts(e),n=1<<r;t[r]=-1,e&=~n}}function Iy(t){if(Ft&6)throw Error(Le(327));Eu();var e=qf(t,0);if(!(e&1))return Yn(t,Er()),null;var r=op(t,e);if(t.tag!==0&&r===2){var n=sm(t);n!==0&&(e=n,r=Tm(t,n))}if(r===1)throw r=Rh,bl(t,0),Xa(t,e),Yn(t,Er()),r;if(r===6)throw Error(Le(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Yo(t,Vn,ta),Yn(t,Er()),null}function vv(t,e){var r=Ft;Ft|=1;try{return t(e)}finally{Ft=r,Ft===0&&(Zu=Er()+500,Op&&Lo())}}function El(t){ho!==null&&ho.tag===0&&!(Ft&6)&&Eu();var e=Ft;Ft|=1;var r=Ii.transition,n=Vt;try{if(Ii.transition=null,Vt=1,t)return t()}finally{Vt=n,Ii.transition=r,Ft=e,!(Ft&6)&&Lo()}}function yv(){di=bu.current,or(bu)}function bl(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,aN(r)),Fr!==null)for(r=Fr.return;r!==null;){var n=r;switch(X1(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Kf();break;case 3:Yu(),or(Jn),or(Sn),ov();break;case 5:av(n);break;case 4:Yu();break;case 13:or(fr);break;case 19:or(fr);break;case 10:rv(n.type._context);break;case 22:case 23:yv()}r=r.return}if(tn=t,Fr=t=_o(t.current,null),cn=di=e,Jr=0,Rh=null,gv=Fp=Al=0,Vn=hh=null,al!==null){for(e=0;e<al.length;e++)if(r=al[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}al=null}return t}function N_(t,e){do{var r=Fr;try{if(tv(),Nf.current=np,rp){for(var n=pr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}rp=!1}if(Nl=0,Zr=Vr=pr=null,uh=!1,Ph=0,pv.current=null,r===null||r.return===null){Jr=1,Rh=e,Fr=null;break}e:{var s=t,a=r.return,o=r,l=e;if(e=cn,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=o,p=h.tag;if(!(h.mode&1)&&(p===0||p===11||p===15)){var g=h.alternate;g?(h.updateQueue=g.updateQueue,h.memoizedState=g.memoizedState,h.lanes=g.lanes):(h.updateQueue=null,h.memoizedState=null)}var d=_y(a);if(d!==null){d.flags&=-257,Sy(d,a,o,s,e),d.mode&1&&xy(s,u,e),e=d,l=u;var b=e.updateQueue;if(b===null){var x=new Set;x.add(l),e.updateQueue=x}else b.add(l);break e}else{if(!(e&1)){xy(s,u,e),wv();break e}l=Error(Le(426))}}else if(cr&&o.mode&1){var N=_y(a);if(N!==null){!(N.flags&65536)&&(N.flags|=256),Sy(N,a,o,s,e),Z1(Xu(l,o));break e}}s=l=Xu(l,o),Jr!==4&&(Jr=2),hh===null?hh=[s]:hh.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=l_(s,l,e);gy(s,w);break e;case 1:o=l;var S=s.type,k=s.stateNode;if(!(s.flags&128)&&(typeof S.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(bo===null||!bo.has(k)))){s.flags|=65536,e&=-e,s.lanes|=e;var A=u_(s,o,e);gy(s,A);break e}}s=s.return}while(s!==null)}j_(r)}catch(q){e=q,Fr===r&&r!==null&&(Fr=r=r.return);continue}break}while(!0)}function A_(){var t=ip.current;return ip.current=np,t===null?np:t}function wv(){(Jr===0||Jr===3||Jr===2)&&(Jr=4),tn===null||!(Al&268435455)&&!(Fp&268435455)||Xa(tn,cn)}function op(t,e){var r=Ft;Ft|=2;var n=A_();(tn!==t||cn!==e)&&(ta=null,bl(t,e));do try{PN();break}catch(i){N_(t,i)}while(!0);if(tv(),Ft=r,ip.current=n,Fr!==null)throw Error(Le(261));return tn=null,cn=0,Jr}function PN(){for(;Fr!==null;)E_(Fr)}function ON(){for(;Fr!==null&&!n6();)E_(Fr)}function E_(t){var e=L_(t.alternate,t,di);t.memoizedProps=t.pendingProps,e===null?j_(t):Fr=e,pv.current=null}function j_(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=NN(r,e),r!==null){r.flags&=32767,Fr=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Jr=6,Fr=null;return}}else if(r=kN(r,e,di),r!==null){Fr=r;return}if(e=e.sibling,e!==null){Fr=e;return}Fr=e=t}while(e!==null);Jr===0&&(Jr=5)}function Yo(t,e,r){var n=Vt,i=Ii.transition;try{Ii.transition=null,Vt=1,TN(t,e,r,n)}finally{Ii.transition=i,Vt=n}return null}function TN(t,e,r,n){do Eu();while(ho!==null);if(Ft&6)throw Error(Le(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Le(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(f6(t,s),t===tn&&(Fr=tn=null,cn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Kd||(Kd=!0,P_($f,function(){return Eu(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Ii.transition,Ii.transition=null;var a=Vt;Vt=1;var o=Ft;Ft|=4,pv.current=null,EN(t,r),__(r,t),Z6(hm),Wf=!!cm,hm=cm=null,t.current=r,jN(r),i6(),Ft=o,Vt=a,Ii.transition=s}else t.current=r;if(Kd&&(Kd=!1,ho=t,ap=i),s=t.pendingLanes,s===0&&(bo=null),o6(r.stateNode),Yn(t,Er()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(sp)throw sp=!1,t=Pm,Pm=null,t;return ap&1&&t.tag!==0&&Eu(),s=t.pendingLanes,s&1?t===Om?dh++:(dh=0,Om=t):dh=0,Lo(),null}function Eu(){if(ho!==null){var t=lx(ap),e=Ii.transition,r=Vt;try{if(Ii.transition=null,Vt=16>t?16:t,ho===null)var n=!1;else{if(t=ho,ho=null,ap=0,Ft&6)throw Error(Le(331));var i=Ft;for(Ft|=4,Me=t.current;Me!==null;){var s=Me,a=s.child;if(Me.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(Me=u;Me!==null;){var h=Me;switch(h.tag){case 0:case 11:case 15:ch(8,h,s)}var p=h.child;if(p!==null)p.return=h,Me=p;else for(;Me!==null;){h=Me;var g=h.sibling,d=h.return;if(w_(h),h===u){Me=null;break}if(g!==null){g.return=d,Me=g;break}Me=d}}}var b=s.alternate;if(b!==null){var x=b.child;if(x!==null){b.child=null;do{var N=x.sibling;x.sibling=null,x=N}while(x!==null)}}Me=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Me=a;else e:for(;Me!==null;){if(s=Me,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ch(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,Me=w;break e}Me=s.return}}var S=t.current;for(Me=S;Me!==null;){a=Me;var k=a.child;if(a.subtreeFlags&2064&&k!==null)k.return=a,Me=k;else e:for(a=S;Me!==null;){if(o=Me,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Ip(9,o)}}catch(q){xr(o,o.return,q)}if(o===a){Me=null;break e}var A=o.sibling;if(A!==null){A.return=o.return,Me=A;break e}Me=o.return}}if(Ft=i,Lo(),Ns&&typeof Ns.onPostCommitFiberRoot=="function")try{Ns.onPostCommitFiberRoot(Ep,t)}catch{}n=!0}return n}finally{Vt=r,Ii.transition=e}}return!1}function Fy(t,e,r){e=Xu(r,e),e=l_(t,e,1),t=wo(t,e,1),e=Fn(),t!==null&&(Qh(t,1,e),Yn(t,e))}function xr(t,e,r){if(t.tag===3)Fy(t,t,r);else for(;e!==null;){if(e.tag===3){Fy(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(bo===null||!bo.has(n))){t=Xu(r,t),t=u_(e,t,1),e=wo(e,t,1),t=Fn(),e!==null&&(Qh(e,1,t),Yn(e,t));break}}e=e.return}}function RN(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Fn(),t.pingedLanes|=t.suspendedLanes&r,tn===t&&(cn&r)===r&&(Jr===4||Jr===3&&(cn&130023424)===cn&&500>Er()-mv?bl(t,0):gv|=r),Yn(t,e)}function C_(t,e){e===0&&(t.mode&1?(e=Md,Md<<=1,!(Md&130023424)&&(Md=4194304)):e=1);var r=Fn();t=ma(t,e),t!==null&&(Qh(t,e,r),Yn(t,r))}function IN(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),C_(t,r)}function FN(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Le(314))}n!==null&&n.delete(e),C_(t,r)}var L_;L_=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Jn.current)Gn=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Gn=!1,SN(t,e,r);Gn=!!(t.flags&131072)}else Gn=!1,cr&&e.flags&1048576&&Rx(e,Yf,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Ef(t,e),t=e.pendingProps;var i=Ku(e,Sn.current);Au(e,r),i=uv(null,e,n,t,i,r);var s=cv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Qn(n)?(s=!0,Jf(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,iv(e),i.updater=Rp,e.stateNode=i,i._reactInternals=e,bm(e,n,t,r),e=Sm(null,e,n,!0,s,r)):(e.tag=0,cr&&s&&Y1(e),Tn(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Ef(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=MN(n),t=Ki(n,t),i){case 0:e=_m(null,e,n,t,r);break e;case 1:e=Ay(null,e,n,t,r);break e;case 11:e=ky(null,e,n,t,r);break e;case 14:e=Ny(null,e,n,Ki(n.type,t),r);break e}throw Error(Le(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ki(n,i),_m(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ki(n,i),Ay(t,e,n,i,r);case 3:e:{if(f_(e),t===null)throw Error(Le(387));n=e.pendingProps,s=e.memoizedState,i=s.element,Ux(t,e),ep(e,n,null,r);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Xu(Error(Le(423)),e),e=Ey(t,e,n,r,i);break e}else if(n!==i){i=Xu(Error(Le(424)),e),e=Ey(t,e,n,r,i);break e}else for(gi=yo(e.stateNode.containerInfo.firstChild),vi=e,cr=!0,es=null,r=Mx(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ju(),n===i){e=va(t,e,r);break e}Tn(t,e,n,r)}e=e.child}return e;case 5:return zx(e),t===null&&vm(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,dm(n,i)?a=null:s!==null&&dm(n,s)&&(e.flags|=32),d_(t,e),Tn(t,e,a,r),e.child;case 6:return t===null&&vm(e),null;case 13:return p_(t,e,r);case 4:return sv(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Qu(e,null,n,r):Tn(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ki(n,i),ky(t,e,n,i,r);case 7:return Tn(t,e,e.pendingProps,r),e.child;case 8:return Tn(t,e,e.pendingProps.children,r),e.child;case 12:return Tn(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,rr(Xf,n._currentValue),n._currentValue=a,s!==null)if(ns(s.value,a)){if(s.children===i.children&&!Jn.current){e=va(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=da(-1,r&-r),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),ym(s.return,r,e),o.lanes|=r;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(Le(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),ym(a,r,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Tn(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Au(e,r),i=Fi(i),n=n(i),e.flags|=1,Tn(t,e,n,r),e.child;case 14:return n=e.type,i=Ki(n,e.pendingProps),i=Ki(n.type,i),Ny(t,e,n,i,r);case 15:return c_(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ki(n,i),Ef(t,e),e.tag=1,Qn(n)?(t=!0,Jf(e)):t=!1,Au(e,r),o_(e,n,i),bm(e,n,i,r),Sm(null,e,n,!0,t,r);case 19:return g_(t,e,r);case 22:return h_(t,e,r)}throw Error(Le(156,e.tag))};function P_(t,e){return ix(t,e)}function DN(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ri(t,e,r,n){return new DN(t,e,r,n)}function bv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function MN(t){if(typeof t=="function")return bv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===B1)return 11;if(t===U1)return 14}return 2}function _o(t,e){var r=t.alternate;return r===null?(r=Ri(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Lf(t,e,r,n,i,s){var a=2;if(n=t,typeof t=="function")bv(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case cu:return xl(r.children,i,s,e);case M1:a=8,i|=8;break;case Wg:return t=Ri(12,r,e,i|2),t.elementType=Wg,t.lanes=s,t;case Hg:return t=Ri(13,r,e,i),t.elementType=Hg,t.lanes=s,t;case Vg:return t=Ri(19,r,e,i),t.elementType=Vg,t.lanes=s,t;case zb:return Dp(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Bb:a=10;break e;case Ub:a=9;break e;case B1:a=11;break e;case U1:a=14;break e;case Ja:a=16,n=null;break e}throw Error(Le(130,t==null?t:typeof t,""))}return e=Ri(a,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function xl(t,e,r,n){return t=Ri(7,t,n,e),t.lanes=r,t}function Dp(t,e,r,n){return t=Ri(22,t,n,e),t.elementType=zb,t.lanes=r,t.stateNode={isHidden:!1},t}function tg(t,e,r){return t=Ri(6,t,null,e),t.lanes=r,t}function rg(t,e,r){return e=Ri(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function BN(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=F0(0),this.expirationTimes=F0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=F0(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function xv(t,e,r,n,i,s,a,o,l){return t=new BN(t,e,r,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ri(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},iv(s),t}function UN(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:uu,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function O_(t){if(!t)return Ao;t=t._reactInternals;e:{if(Tl(t)!==t||t.tag!==1)throw Error(Le(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Qn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Le(171))}if(t.tag===1){var r=t.type;if(Qn(r))return Ox(t,r,e)}return e}function T_(t,e,r,n,i,s,a,o,l){return t=xv(r,n,!0,t,i,s,a,o,l),t.context=O_(null),r=t.current,n=Fn(),i=xo(r),s=da(n,i),s.callback=e??null,wo(r,s,i),t.current.lanes=i,Qh(t,i,n),Yn(t,n),t}function Mp(t,e,r,n){var i=e.current,s=Fn(),a=xo(i);return r=O_(r),e.context===null?e.context=r:e.pendingContext=r,e=da(s,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=wo(i,e,a),t!==null&&(rs(t,i,a,s),kf(t,i,a)),a}function lp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Dy(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function _v(t,e){Dy(t,e),(t=t.alternate)&&Dy(t,e)}function zN(){return null}var R_=typeof reportError=="function"?reportError:function(t){console.error(t)};function Sv(t){this._internalRoot=t}Bp.prototype.render=Sv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Le(409));Mp(t,e,null,null)};Bp.prototype.unmount=Sv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;El(function(){Mp(null,t,null,null)}),e[ga]=null}};function Bp(t){this._internalRoot=t}Bp.prototype.unstable_scheduleHydration=function(t){if(t){var e=hx();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Ya.length&&e!==0&&e<Ya[r].priority;r++);Ya.splice(r,0,t),r===0&&fx(t)}};function kv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Up(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function My(){}function $N(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=lp(a);s.call(u)}}var a=T_(e,n,t,0,null,!1,!1,"",My);return t._reactRootContainer=a,t[ga]=a.current,Ah(t.nodeType===8?t.parentNode:t),El(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=lp(l);o.call(u)}}var l=xv(t,0,!1,null,null,!1,!1,"",My);return t._reactRootContainer=l,t[ga]=l.current,Ah(t.nodeType===8?t.parentNode:t),El(function(){Mp(e,l,r,n)}),l}function zp(t,e,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=lp(a);o.call(l)}}Mp(e,a,t,i)}else a=$N(r,e,t,i,n);return lp(a)}ux=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=eh(e.pendingLanes);r!==0&&(q1(e,r|1),Yn(e,Er()),!(Ft&6)&&(Zu=Er()+500,Lo()))}break;case 13:El(function(){var n=ma(t,1);if(n!==null){var i=Fn();rs(n,t,1,i)}}),_v(t,1)}};W1=function(t){if(t.tag===13){var e=ma(t,134217728);if(e!==null){var r=Fn();rs(e,t,134217728,r)}_v(t,134217728)}};cx=function(t){if(t.tag===13){var e=xo(t),r=ma(t,e);if(r!==null){var n=Fn();rs(r,t,e,n)}_v(t,e)}};hx=function(){return Vt};dx=function(t,e){var r=Vt;try{return Vt=t,e()}finally{Vt=r}};rm=function(t,e,r){switch(e){case"input":if(Jg(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Pp(n);if(!i)throw Error(Le(90));qb(n),Jg(n,i)}}}break;case"textarea":Hb(t,r);break;case"select":e=r.value,e!=null&&_u(t,!!r.multiple,e,!1)}};Xb=vv;Zb=El;var qN={usingClientEntryPoint:!1,Events:[Xh,pu,Pp,Qb,Yb,vv]},Vc={findFiberByHostInstance:sl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},WN={bundleType:Vc.bundleType,version:Vc.version,rendererPackageName:Vc.rendererPackageName,rendererConfig:Vc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ba.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=rx(t),t===null?null:t.stateNode},findFiberByHostInstance:Vc.findFiberByHostInstance||zN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jd.isDisabled&&Jd.supportsFiber)try{Ep=Jd.inject(WN),Ns=Jd}catch{}}wi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qN;wi.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kv(e))throw Error(Le(200));return UN(t,e,null,r)};wi.createRoot=function(t,e){if(!kv(t))throw Error(Le(299));var r=!1,n="",i=R_;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=xv(t,1,!1,null,null,r,!1,n,i),t[ga]=e.current,Ah(t.nodeType===8?t.parentNode:t),new Sv(e)};wi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Le(188)):(t=Object.keys(t).join(","),Error(Le(268,t)));return t=rx(e),t=t===null?null:t.stateNode,t};wi.flushSync=function(t){return El(t)};wi.hydrate=function(t,e,r){if(!Up(e))throw Error(Le(200));return zp(null,t,e,!0,r)};wi.hydrateRoot=function(t,e,r){if(!kv(t))throw Error(Le(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=R_;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=T_(e,null,t,1,r??null,i,!1,s,a),t[ga]=e.current,Ah(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Bp(e)};wi.render=function(t,e,r){if(!Up(e))throw Error(Le(200));return zp(null,t,e,!1,r)};wi.unmountComponentAtNode=function(t){if(!Up(t))throw Error(Le(40));return t._reactRootContainer?(El(function(){zp(null,null,t,!1,function(){t._reactRootContainer=null,t[ga]=null})}),!0):!1};wi.unstable_batchedUpdates=vv;wi.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Up(r))throw Error(Le(200));if(t==null||t._reactInternals===void 0)throw Error(Le(38));return zp(t,e,r,!1,n)};wi.version="18.3.1-next-f1338f8080-20240426";function I_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(I_)}catch(t){console.error(t)}}I_(),Ib.exports=wi;var HN=Ib.exports,By=HN;$g.createRoot=By.createRoot,$g.hydrateRoot=By.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ih(){return Ih=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ih.apply(this,arguments)}var fo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(fo||(fo={}));const Uy="popstate";function VN(t){t===void 0&&(t={});function e(n,i){let{pathname:s,search:a,hash:o}=n.location;return Im("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:up(i)}return KN(e,r,null,t)}function gr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Nv(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function GN(){return Math.random().toString(36).substr(2,8)}function zy(t,e){return{usr:t.state,key:t.key,idx:e}}function Im(t,e,r,n){return r===void 0&&(r=null),Ih({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?sc(e):e,{state:r,key:e&&e.key||n||GN()})}function up(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function sc(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function KN(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o=fo.Pop,l=null,u=h();u==null&&(u=0,a.replaceState(Ih({},a.state,{idx:u}),""));function h(){return(a.state||{idx:null}).idx}function p(){o=fo.Pop;let N=h(),w=N==null?null:N-u;u=N,l&&l({action:o,location:x.location,delta:w})}function g(N,w){o=fo.Push;let S=Im(x.location,N,w);u=h()+1;let k=zy(S,u),A=x.createHref(S);try{a.pushState(k,"",A)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;i.location.assign(A)}s&&l&&l({action:o,location:x.location,delta:1})}function d(N,w){o=fo.Replace;let S=Im(x.location,N,w);u=h();let k=zy(S,u),A=x.createHref(S);a.replaceState(k,"",A),s&&l&&l({action:o,location:x.location,delta:0})}function b(N){let w=i.location.origin!=="null"?i.location.origin:i.location.href,S=typeof N=="string"?N:up(N);return S=S.replace(/ $/,"%20"),gr(w,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,w)}let x={get action(){return o},get location(){return t(i,a)},listen(N){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Uy,p),l=N,()=>{i.removeEventListener(Uy,p),l=null}},createHref(N){return e(i,N)},createURL:b,encodeLocation(N){let w=b(N);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:g,replace:d,go(N){return a.go(N)}};return x}var $y;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})($y||($y={}));function JN(t,e,r){return r===void 0&&(r="/"),QN(t,e,r)}function QN(t,e,r,n){let i=typeof e=="string"?sc(e):e,s=ec(i.pathname||"/",r);if(s==null)return null;let a=F_(t);YN(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=l8(s);o=a8(a[l],u)}return o}function F_(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(gr(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=So([n,l.relativePath]),h=r.concat(l);s.children&&s.children.length>0&&(gr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),F_(s.children,e,h,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:i8(u,s.index),routesMeta:h})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of D_(s.path))i(s,a,l)}),e}function D_(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=D_(n.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function YN(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:s8(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const XN=/^:[\w-]+$/,ZN=3,e8=2,t8=1,r8=10,n8=-2,qy=t=>t==="*";function i8(t,e){let r=t.split("/"),n=r.length;return r.some(qy)&&(n+=n8),e&&(n+=e8),r.filter(i=>!qy(i)).reduce((i,s)=>i+(XN.test(s)?ZN:s===""?t8:r8),n)}function s8(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function a8(t,e,r){let{routesMeta:n}=t,i={},s="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,h=s==="/"?e:e.slice(s.length)||"/",p=Fm({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},h),g=l.route;if(!p)return null;Object.assign(i,p.params),a.push({params:i,pathname:So([s,p.pathname]),pathnameBase:f8(So([s,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(s=So([s,p.pathnameBase]))}return a}function Fm(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=o8(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((u,h,p)=>{let{paramName:g,isOptional:d}=h;if(g==="*"){let x=o[p]||"";a=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const b=o[p];return d&&!b?u[g]=void 0:u[g]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:t}}function o8(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Nv(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function l8(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Nv(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ec(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const u8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,c8=t=>u8.test(t);function h8(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?sc(t):t,s;if(r)if(c8(r))s=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),Nv(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+r))}r.startsWith("/")?s=Wy(r.substring(1),"/"):s=Wy(r,e)}else s=e;return{pathname:s,search:p8(n),hash:g8(i)}}function Wy(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function ng(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function d8(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Av(t,e){let r=d8(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Ev(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=sc(t):(i=Ih({},t),gr(!i.pathname||!i.pathname.includes("?"),ng("?","pathname","search",i)),gr(!i.pathname||!i.pathname.includes("#"),ng("#","pathname","hash",i)),gr(!i.search||!i.search.includes("#"),ng("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=r;else{let p=e.length-1;if(!n&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}o=p>=0?e[p]:"/"}let l=h8(i,o),u=a&&a!=="/"&&a.endsWith("/"),h=(s||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||h)&&(l.pathname+="/"),l}const So=t=>t.join("/").replace(/\/\/+/g,"/"),f8=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),p8=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,g8=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function m8(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const M_=["post","put","patch","delete"];new Set(M_);const v8=["get",...M_];new Set(v8);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fh(){return Fh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fh.apply(this,arguments)}const $p=ne.createContext(null),B_=ne.createContext(null),xa=ne.createContext(null),qp=ne.createContext(null),Es=ne.createContext({outlet:null,matches:[],isDataRoute:!1}),U_=ne.createContext(null);function y8(t,e){let{relative:r}=e===void 0?{}:e;ac()||gr(!1);let{basename:n,navigator:i}=ne.useContext(xa),{hash:s,pathname:a,search:o}=Wp(t,{relative:r}),l=a;return n!=="/"&&(l=a==="/"?n:So([n,a])),i.createHref({pathname:l,search:o,hash:s})}function ac(){return ne.useContext(qp)!=null}function js(){return ac()||gr(!1),ne.useContext(qp).location}function z_(t){ne.useContext(xa).static||ne.useLayoutEffect(t)}function Rl(){let{isDataRoute:t}=ne.useContext(Es);return t?R8():w8()}function w8(){ac()||gr(!1);let t=ne.useContext($p),{basename:e,future:r,navigator:n}=ne.useContext(xa),{matches:i}=ne.useContext(Es),{pathname:s}=js(),a=JSON.stringify(Av(i,r.v7_relativeSplatPath)),o=ne.useRef(!1);return z_(()=>{o.current=!0}),ne.useCallback(function(u,h){if(h===void 0&&(h={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let p=Ev(u,JSON.parse(a),s,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:So([e,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[e,n,a,s,t])}const b8=ne.createContext(null);function x8(t){let e=ne.useContext(Es).outlet;return e&&ne.createElement(b8.Provider,{value:t},e)}function _8(){let{matches:t}=ne.useContext(Es),e=t[t.length-1];return e?e.params:{}}function Wp(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=ne.useContext(xa),{matches:i}=ne.useContext(Es),{pathname:s}=js(),a=JSON.stringify(Av(i,n.v7_relativeSplatPath));return ne.useMemo(()=>Ev(t,JSON.parse(a),s,r==="path"),[t,a,s,r])}function S8(t,e){return k8(t,e)}function k8(t,e,r,n){ac()||gr(!1);let{navigator:i}=ne.useContext(xa),{matches:s}=ne.useContext(Es),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=js(),h;if(e){var p;let N=typeof e=="string"?sc(e):e;l==="/"||(p=N.pathname)!=null&&p.startsWith(l)||gr(!1),h=N}else h=u;let g=h.pathname||"/",d=g;if(l!=="/"){let N=l.replace(/^\//,"").split("/");d="/"+g.replace(/^\//,"").split("/").slice(N.length).join("/")}let b=JN(t,{pathname:d}),x=C8(b&&b.map(N=>Object.assign({},N,{params:Object.assign({},o,N.params),pathname:So([l,i.encodeLocation?i.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?l:So([l,i.encodeLocation?i.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),s,r,n);return e&&x?ne.createElement(qp.Provider,{value:{location:Fh({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:fo.Pop}},x):x}function N8(){let t=T8(),e=m8(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ne.createElement(ne.Fragment,null,ne.createElement("h2",null,"Unexpected Application Error!"),ne.createElement("h3",{style:{fontStyle:"italic"}},e),r?ne.createElement("pre",{style:i},r):null,null)}const A8=ne.createElement(N8,null);class E8 extends ne.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?ne.createElement(Es.Provider,{value:this.props.routeContext},ne.createElement(U_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function j8(t){let{routeContext:e,match:r,children:n}=t,i=ne.useContext($p);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),ne.createElement(Es.Provider,{value:e},n)}function C8(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,o=(i=r)==null?void 0:i.errors;if(o!=null){let h=a.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);h>=0||gr(!1),a=a.slice(0,Math.min(a.length,h+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let h=0;h<a.length;h++){let p=a[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=h),p.route.id){let{loaderData:g,errors:d}=r,b=p.route.loader&&g[p.route.id]===void 0&&(!d||d[p.route.id]===void 0);if(p.route.lazy||b){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((h,p,g)=>{let d,b=!1,x=null,N=null;r&&(d=o&&p.route.id?o[p.route.id]:void 0,x=p.route.errorElement||A8,l&&(u<0&&g===0?(I8("route-fallback"),b=!0,N=null):u===g&&(b=!0,N=p.route.hydrateFallbackElement||null)));let w=e.concat(a.slice(0,g+1)),S=()=>{let k;return d?k=x:b?k=N:p.route.Component?k=ne.createElement(p.route.Component,null):p.route.element?k=p.route.element:k=h,ne.createElement(j8,{match:p,routeContext:{outlet:h,matches:w,isDataRoute:r!=null},children:k})};return r&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?ne.createElement(E8,{location:r.location,revalidation:r.revalidation,component:x,error:d,children:S(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):S()},null)}var $_=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}($_||{}),q_=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(q_||{});function L8(t){let e=ne.useContext($p);return e||gr(!1),e}function P8(t){let e=ne.useContext(B_);return e||gr(!1),e}function O8(t){let e=ne.useContext(Es);return e||gr(!1),e}function W_(t){let e=O8(),r=e.matches[e.matches.length-1];return r.route.id||gr(!1),r.route.id}function T8(){var t;let e=ne.useContext(U_),r=P8(),n=W_();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function R8(){let{router:t}=L8($_.UseNavigateStable),e=W_(q_.UseNavigateStable),r=ne.useRef(!1);return z_(()=>{r.current=!0}),ne.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Fh({fromRouteId:e},s)))},[t,e])}const Hy={};function I8(t,e,r){Hy[t]||(Hy[t]=!0)}function F8(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function cp(t){let{to:e,replace:r,state:n,relative:i}=t;ac()||gr(!1);let{future:s,static:a}=ne.useContext(xa),{matches:o}=ne.useContext(Es),{pathname:l}=js(),u=Rl(),h=Ev(e,Av(o,s.v7_relativeSplatPath),l,i==="path"),p=JSON.stringify(h);return ne.useEffect(()=>u(JSON.parse(p),{replace:r,state:n,relative:i}),[u,p,i,r,n]),null}function H_(t){return x8(t.context)}function Vi(t){gr(!1)}function D8(t){let{basename:e="/",children:r=null,location:n,navigationType:i=fo.Pop,navigator:s,static:a=!1,future:o}=t;ac()&&gr(!1);let l=e.replace(/^\/*/,"/"),u=ne.useMemo(()=>({basename:l,navigator:s,static:a,future:Fh({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof n=="string"&&(n=sc(n));let{pathname:h="/",search:p="",hash:g="",state:d=null,key:b="default"}=n,x=ne.useMemo(()=>{let N=ec(h,l);return N==null?null:{location:{pathname:N,search:p,hash:g,state:d,key:b},navigationType:i}},[l,h,p,g,d,b,i]);return x==null?null:ne.createElement(xa.Provider,{value:u},ne.createElement(qp.Provider,{children:r,value:x}))}function M8(t){let{children:e,location:r}=t;return S8(Dm(e),r)}new Promise(()=>{});function Dm(t,e){e===void 0&&(e=[]);let r=[];return ne.Children.forEach(t,(n,i)=>{if(!ne.isValidElement(n))return;let s=[...e,i];if(n.type===ne.Fragment){r.push.apply(r,Dm(n.props.children,s));return}n.type!==Vi&&gr(!1),!n.props.index||!n.props.children||gr(!1);let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=Dm(n.props.children,s)),r.push(a)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hp(){return hp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hp.apply(this,arguments)}function V_(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function B8(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function U8(t,e){return t.button===0&&(!e||e==="_self")&&!B8(t)}function Mm(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function z8(t,e){let r=Mm(t);return e&&e.forEach((n,i)=>{r.has(i)||e.getAll(i).forEach(s=>{r.append(i,s)})}),r}const $8=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],q8=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],W8="6";try{window.__reactRouterVersion=W8}catch{}const H8=ne.createContext({isTransitioning:!1}),V8="startTransition",Vy=Rk[V8];function G8(t){let{basename:e,children:r,future:n,window:i}=t,s=ne.useRef();s.current==null&&(s.current=VN({window:i,v5Compat:!0}));let a=s.current,[o,l]=ne.useState({action:a.action,location:a.location}),{v7_startTransition:u}=n||{},h=ne.useCallback(p=>{u&&Vy?Vy(()=>l(p)):l(p)},[l,u]);return ne.useLayoutEffect(()=>a.listen(h),[a,h]),ne.useEffect(()=>F8(n),[n]),ne.createElement(D8,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}const K8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",J8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,G_=ne.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:u,preventScrollReset:h,viewTransition:p}=e,g=V_(e,$8),{basename:d}=ne.useContext(xa),b,x=!1;if(typeof u=="string"&&J8.test(u)&&(b=u,K8))try{let k=new URL(window.location.href),A=u.startsWith("//")?new URL(k.protocol+u):new URL(u),q=ec(A.pathname,d);A.origin===k.origin&&q!=null?u=q+A.search+A.hash:x=!0}catch{}let N=y8(u,{relative:i}),w=Y8(u,{replace:a,state:o,target:l,preventScrollReset:h,relative:i,viewTransition:p});function S(k){n&&n(k),k.defaultPrevented||w(k)}return ne.createElement("a",hp({},g,{href:b||N,onClick:x||s?n:S,ref:r,target:l}))}),Qd=ne.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:i=!1,className:s="",end:a=!1,style:o,to:l,viewTransition:u,children:h}=e,p=V_(e,q8),g=Wp(l,{relative:p.relative}),d=js(),b=ne.useContext(B_),{navigator:x,basename:N}=ne.useContext(xa),w=b!=null&&Z8(g)&&u===!0,S=x.encodeLocation?x.encodeLocation(g).pathname:g.pathname,k=d.pathname,A=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;i||(k=k.toLowerCase(),A=A?A.toLowerCase():null,S=S.toLowerCase()),A&&N&&(A=ec(A,N)||A);const q=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let Y=k===S||!a&&k.startsWith(S)&&k.charAt(q)==="/",$=A!=null&&(A===S||!a&&A.startsWith(S)&&A.charAt(S.length)==="/"),M={isActive:Y,isPending:$,isTransitioning:w},F=Y?n:void 0,V;typeof s=="function"?V=s(M):V=[s,Y?"active":null,$?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let L=typeof o=="function"?o(M):o;return ne.createElement(G_,hp({},p,{"aria-current":F,className:V,ref:r,style:L,to:l,viewTransition:u}),typeof h=="function"?h(M):h)});var Bm;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Bm||(Bm={}));var Gy;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Gy||(Gy={}));function Q8(t){let e=ne.useContext($p);return e||gr(!1),e}function Y8(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,l=Rl(),u=js(),h=Wp(t,{relative:a});return ne.useCallback(p=>{if(U8(p,r)){p.preventDefault();let g=n!==void 0?n:up(u)===up(h);l(t,{replace:g,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[u,l,h,n,i,r,t,s,a,o])}function X8(t){let e=ne.useRef(Mm(t)),r=ne.useRef(!1),n=js(),i=ne.useMemo(()=>z8(n.search,r.current?null:e.current),[n.search]),s=Rl(),a=ne.useCallback((o,l)=>{const u=Mm(typeof o=="function"?o(i):o);r.current=!0,s("?"+u,l)},[s,i]);return[i,a]}function Z8(t,e){e===void 0&&(e={});let r=ne.useContext(H8);r==null&&gr(!1);let{basename:n}=Q8(Bm.useViewTransitionState),i=Wp(t,{relative:e.relative});if(!r.isTransitioning)return!1;let s=ec(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=ec(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Fm(i.pathname,a)!=null||Fm(i.pathname,s)!=null}var oc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},eA={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},to,L1,hb,tA=(hb=class{constructor(){nt(this,to,eA);nt(this,L1,!1)}setTimeoutProvider(t){De(this,to,t)}setTimeout(t,e){return X(this,to).setTimeout(t,e)}clearTimeout(t){X(this,to).clearTimeout(t)}setInterval(t,e){return X(this,to).setInterval(t,e)}clearInterval(t){X(this,to).clearInterval(t)}},to=new WeakMap,L1=new WeakMap,hb),ll=new tA;function rA(t){setTimeout(t,0)}var jl=typeof window>"u"||"Deno"in globalThis;function Rn(){}function nA(t,e){return typeof t=="function"?t(e):t}function Um(t){return typeof t=="number"&&t>=0&&t!==1/0}function K_(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ko(t,e){return typeof t=="function"?t(e):t}function Pi(t,e){return typeof t=="function"?t(e):t}function Ky(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:a,stale:o}=t;if(a){if(n){if(e.queryHash!==jv(a,e.options))return!1}else if(!Dh(e.queryKey,a))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||i&&i!==e.state.fetchStatus||s&&!s(e))}function Jy(t,e){const{exact:r,status:n,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(r){if(Cl(e.options.mutationKey)!==Cl(s))return!1}else if(!Dh(e.options.mutationKey,s))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function jv(t,e){return((e==null?void 0:e.queryKeyHashFn)||Cl)(t)}function Cl(t){return JSON.stringify(t,(e,r)=>zm(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function Dh(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>Dh(t[r],e[r])):!1}var iA=Object.prototype.hasOwnProperty;function J_(t,e){if(t===e)return t;const r=Qy(t)&&Qy(e);if(!r&&!(zm(t)&&zm(e)))return e;const i=(r?t:Object.keys(t)).length,s=r?e:Object.keys(e),a=s.length,o=r?new Array(a):{};let l=0;for(let u=0;u<a;u++){const h=r?u:s[u],p=t[h],g=e[h];if(p===g){o[h]=p,(r?u<i:iA.call(t,h))&&l++;continue}if(p===null||g===null||typeof p!="object"||typeof g!="object"){o[h]=g;continue}const d=J_(p,g);o[h]=d,d===p&&l++}return i===a&&l===i?t:o}function dp(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function Qy(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function zm(t){if(!Yy(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!Yy(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Yy(t){return Object.prototype.toString.call(t)==="[object Object]"}function sA(t){return new Promise(e=>{ll.setTimeout(e,t)})}function $m(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?J_(t,e):e}function aA(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function oA(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var Cv=Symbol();function Q_(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Cv?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function Y_(t,e){return typeof t=="function"?t(...e):!!t}var hl,ro,Iu,db,lA=(db=class extends oc{constructor(){super();nt(this,hl);nt(this,ro);nt(this,Iu);De(this,Iu,e=>{if(!jl&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){X(this,ro)||this.setEventListener(X(this,Iu))}onUnsubscribe(){var e;this.hasListeners()||((e=X(this,ro))==null||e.call(this),De(this,ro,void 0))}setEventListener(e){var r;De(this,Iu,e),(r=X(this,ro))==null||r.call(this),De(this,ro,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){X(this,hl)!==e&&(De(this,hl,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof X(this,hl)=="boolean"?X(this,hl):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},hl=new WeakMap,ro=new WeakMap,Iu=new WeakMap,db),Lv=new lA;function qm(){let t,e;const r=new Promise((i,s)=>{t=i,e=s});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}var uA=rA;function cA(){let t=[],e=0,r=o=>{o()},n=o=>{o()},i=uA;const s=o=>{e?t.push(o):i(()=>{r(o)})},a=()=>{const o=t;t=[],o.length&&i(()=>{n(()=>{o.forEach(l=>{r(l)})})})};return{batch:o=>{let l;e++;try{l=o()}finally{e--,e||a()}return l},batchCalls:o=>(...l)=>{s(()=>{o(...l)})},schedule:s,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{i=o}}}var Gr=cA(),Fu,no,Du,fb,hA=(fb=class extends oc{constructor(){super();nt(this,Fu,!0);nt(this,no);nt(this,Du);De(this,Du,e=>{if(!jl&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){X(this,no)||this.setEventListener(X(this,Du))}onUnsubscribe(){var e;this.hasListeners()||((e=X(this,no))==null||e.call(this),De(this,no,void 0))}setEventListener(e){var r;De(this,Du,e),(r=X(this,no))==null||r.call(this),De(this,no,e(this.setOnline.bind(this)))}setOnline(e){X(this,Fu)!==e&&(De(this,Fu,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return X(this,Fu)}},Fu=new WeakMap,no=new WeakMap,Du=new WeakMap,fb),fp=new hA;function dA(t){return Math.min(1e3*2**t,3e4)}function X_(t){return(t??"online")==="online"?fp.isOnline():!0}var Wm=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Z_(t){let e=!1,r=0,n;const i=qm(),s=()=>i.status!=="pending",a=x=>{var N;if(!s()){const w=new Wm(x);g(w),(N=t.onCancel)==null||N.call(t,w)}},o=()=>{e=!0},l=()=>{e=!1},u=()=>Lv.isFocused()&&(t.networkMode==="always"||fp.isOnline())&&t.canRun(),h=()=>X_(t.networkMode)&&t.canRun(),p=x=>{s()||(n==null||n(),i.resolve(x))},g=x=>{s()||(n==null||n(),i.reject(x))},d=()=>new Promise(x=>{var N;n=w=>{(s()||u())&&x(w)},(N=t.onPause)==null||N.call(t)}).then(()=>{var x;n=void 0,s()||(x=t.onContinue)==null||x.call(t)}),b=()=>{if(s())return;let x;const N=r===0?t.initialPromise:void 0;try{x=N??t.fn()}catch(w){x=Promise.reject(w)}Promise.resolve(x).then(p).catch(w=>{var Y;if(s())return;const S=t.retry??(jl?0:3),k=t.retryDelay??dA,A=typeof k=="function"?k(r,w):k,q=S===!0||typeof S=="number"&&r<S||typeof S=="function"&&S(r,w);if(e||!q){g(w);return}r++,(Y=t.onFail)==null||Y.call(t,r,w),sA(A).then(()=>u()?void 0:d()).then(()=>{e?g(w):b()})})};return{promise:i,status:()=>i.status,cancel:a,continue:()=>(n==null||n(),i),cancelRetry:o,continueRetry:l,canStart:h,start:()=>(h()?b():d().then(b),i)}}var dl,pb,e4=(pb=class{constructor(){nt(this,dl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Um(this.gcTime)&&De(this,dl,ll.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(jl?1/0:5*60*1e3))}clearGcTimeout(){X(this,dl)&&(ll.clearTimeout(X(this,dl)),De(this,dl,void 0))}},dl=new WeakMap,pb),fl,Mu,Li,pl,Xr,Wh,gl,Qi,ea,gb,fA=(gb=class extends e4{constructor(e){super();nt(this,Qi);nt(this,fl);nt(this,Mu);nt(this,Li);nt(this,pl);nt(this,Xr);nt(this,Wh);nt(this,gl);De(this,gl,!1),De(this,Wh,e.defaultOptions),this.setOptions(e.options),this.observers=[],De(this,pl,e.client),De(this,Li,X(this,pl).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,De(this,fl,Zy(this.options)),this.state=e.state??X(this,fl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=X(this,Xr))==null?void 0:e.promise}setOptions(e){if(this.options={...X(this,Wh),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=Zy(this.options);r.data!==void 0&&(this.setState(Xy(r.data,r.dataUpdatedAt)),De(this,fl,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&X(this,Li).remove(this)}setData(e,r){const n=$m(this.state.data,e,this.options);return At(this,Qi,ea).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){At(this,Qi,ea).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,i;const r=(n=X(this,Xr))==null?void 0:n.promise;return(i=X(this,Xr))==null||i.cancel(e),r?r.then(Rn).catch(Rn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(X(this,fl))}isActive(){return this.observers.some(e=>Pi(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Cv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>ko(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!K_(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=X(this,Xr))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=X(this,Xr))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),X(this,Li).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(X(this,Xr)&&(X(this,gl)?X(this,Xr).cancel({revert:!0}):X(this,Xr).cancelRetry()),this.scheduleGc()),X(this,Li).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||At(this,Qi,ea).call(this,{type:"invalidate"})}async fetch(e,r){var l,u,h,p,g,d,b,x,N,w,S,k;if(this.state.fetchStatus!=="idle"&&((l=X(this,Xr))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(X(this,Xr))return X(this,Xr).continueRetry(),X(this,Xr).promise}if(e&&this.setOptions(e),!this.options.queryFn){const A=this.observers.find(q=>q.options.queryFn);A&&this.setOptions(A.options)}const n=new AbortController,i=A=>{Object.defineProperty(A,"signal",{enumerable:!0,get:()=>(De(this,gl,!0),n.signal)})},s=()=>{const A=Q_(this.options,r),Y=(()=>{const $={client:X(this,pl),queryKey:this.queryKey,meta:this.meta};return i($),$})();return De(this,gl,!1),this.options.persister?this.options.persister(A,Y,this):A(Y)},o=(()=>{const A={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:X(this,pl),state:this.state,fetchFn:s};return i(A),A})();(u=this.options.behavior)==null||u.onFetch(o,this),De(this,Mu,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=o.fetchOptions)==null?void 0:h.meta))&&At(this,Qi,ea).call(this,{type:"fetch",meta:(p=o.fetchOptions)==null?void 0:p.meta}),De(this,Xr,Z_({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,onCancel:A=>{A instanceof Wm&&A.revert&&this.setState({...X(this,Mu),fetchStatus:"idle"}),n.abort()},onFail:(A,q)=>{At(this,Qi,ea).call(this,{type:"failed",failureCount:A,error:q})},onPause:()=>{At(this,Qi,ea).call(this,{type:"pause"})},onContinue:()=>{At(this,Qi,ea).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const A=await X(this,Xr).start();if(A===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(A),(d=(g=X(this,Li).config).onSuccess)==null||d.call(g,A,this),(x=(b=X(this,Li).config).onSettled)==null||x.call(b,A,this.state.error,this),A}catch(A){if(A instanceof Wm){if(A.silent)return X(this,Xr).promise;if(A.revert){if(this.state.data===void 0)throw A;return this.state.data}}throw At(this,Qi,ea).call(this,{type:"error",error:A}),(w=(N=X(this,Li).config).onError)==null||w.call(N,A,this),(k=(S=X(this,Li).config).onSettled)==null||k.call(S,this.state.data,A,this),A}finally{this.scheduleGc()}}},fl=new WeakMap,Mu=new WeakMap,Li=new WeakMap,pl=new WeakMap,Xr=new WeakMap,Wh=new WeakMap,gl=new WeakMap,Qi=new WeakSet,ea=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...t4(n.data,this.options),fetchMeta:e.meta??null};case"success":const i={...n,...Xy(e.data,e.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return De(this,Mu,e.manual?i:void 0),i;case"error":const s=e.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),Gr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),X(this,Li).notify({query:this,type:"updated",action:e})})},gb);function t4(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:X_(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Xy(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Zy(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Wn,Ot,Hh,Pn,ml,Bu,sa,io,Vh,Uu,zu,vl,yl,so,$u,zt,rh,Hm,Vm,Gm,Km,Jm,Qm,Ym,r4,mb,pA=(mb=class extends oc{constructor(e,r){super();nt(this,zt);nt(this,Wn);nt(this,Ot);nt(this,Hh);nt(this,Pn);nt(this,ml);nt(this,Bu);nt(this,sa);nt(this,io);nt(this,Vh);nt(this,Uu);nt(this,zu);nt(this,vl);nt(this,yl);nt(this,so);nt(this,$u,new Set);this.options=r,De(this,Wn,e),De(this,io,null),De(this,sa,qm()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(X(this,Ot).addObserver(this),e5(X(this,Ot),this.options)?At(this,zt,rh).call(this):this.updateResult(),At(this,zt,Km).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Xm(X(this,Ot),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Xm(X(this,Ot),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,At(this,zt,Jm).call(this),At(this,zt,Qm).call(this),X(this,Ot).removeObserver(this)}setOptions(e){const r=this.options,n=X(this,Ot);if(this.options=X(this,Wn).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Pi(this.options.enabled,X(this,Ot))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");At(this,zt,Ym).call(this),X(this,Ot).setOptions(this.options),r._defaulted&&!dp(this.options,r)&&X(this,Wn).getQueryCache().notify({type:"observerOptionsUpdated",query:X(this,Ot),observer:this});const i=this.hasListeners();i&&t5(X(this,Ot),n,this.options,r)&&At(this,zt,rh).call(this),this.updateResult(),i&&(X(this,Ot)!==n||Pi(this.options.enabled,X(this,Ot))!==Pi(r.enabled,X(this,Ot))||ko(this.options.staleTime,X(this,Ot))!==ko(r.staleTime,X(this,Ot)))&&At(this,zt,Hm).call(this);const s=At(this,zt,Vm).call(this);i&&(X(this,Ot)!==n||Pi(this.options.enabled,X(this,Ot))!==Pi(r.enabled,X(this,Ot))||s!==X(this,so))&&At(this,zt,Gm).call(this,s)}getOptimisticResult(e){const r=X(this,Wn).getQueryCache().build(X(this,Wn),e),n=this.createResult(r,e);return mA(this,n)&&(De(this,Pn,n),De(this,Bu,this.options),De(this,ml,X(this,Ot).state)),n}getCurrentResult(){return X(this,Pn)}trackResult(e,r){return new Proxy(e,{get:(n,i)=>(this.trackProp(i),r==null||r(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&X(this,sa).status==="pending"&&X(this,sa).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,i))})}trackProp(e){X(this,$u).add(e)}getCurrentQuery(){return X(this,Ot)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=X(this,Wn).defaultQueryOptions(e),n=X(this,Wn).getQueryCache().build(X(this,Wn),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return At(this,zt,rh).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),X(this,Pn)))}createResult(e,r){var F;const n=X(this,Ot),i=this.options,s=X(this,Pn),a=X(this,ml),o=X(this,Bu),u=e!==n?e.state:X(this,Hh),{state:h}=e;let p={...h},g=!1,d;if(r._optimisticResults){const V=this.hasListeners(),L=!V&&e5(e,r),R=V&&t5(e,n,r,i);(L||R)&&(p={...p,...t4(h.data,e.options)}),r._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:b,errorUpdatedAt:x,status:N}=p;d=p.data;let w=!1;if(r.placeholderData!==void 0&&d===void 0&&N==="pending"){let V;s!=null&&s.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData)?(V=s.data,w=!0):V=typeof r.placeholderData=="function"?r.placeholderData((F=X(this,zu))==null?void 0:F.state.data,X(this,zu)):r.placeholderData,V!==void 0&&(N="success",d=$m(s==null?void 0:s.data,V,r),g=!0)}if(r.select&&d!==void 0&&!w)if(s&&d===(a==null?void 0:a.data)&&r.select===X(this,Vh))d=X(this,Uu);else try{De(this,Vh,r.select),d=r.select(d),d=$m(s==null?void 0:s.data,d,r),De(this,Uu,d),De(this,io,null)}catch(V){De(this,io,V)}X(this,io)&&(b=X(this,io),d=X(this,Uu),x=Date.now(),N="error");const S=p.fetchStatus==="fetching",k=N==="pending",A=N==="error",q=k&&S,Y=d!==void 0,M={status:N,fetchStatus:p.fetchStatus,isPending:k,isSuccess:N==="success",isError:A,isInitialLoading:q,isLoading:q,data:d,dataUpdatedAt:p.dataUpdatedAt,error:b,errorUpdatedAt:x,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>u.dataUpdateCount||p.errorUpdateCount>u.errorUpdateCount,isFetching:S,isRefetching:S&&!k,isLoadingError:A&&!Y,isPaused:p.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:A&&Y,isStale:Pv(e,r),refetch:this.refetch,promise:X(this,sa),isEnabled:Pi(r.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const V=K=>{M.status==="error"?K.reject(M.error):M.data!==void 0&&K.resolve(M.data)},L=()=>{const K=De(this,sa,M.promise=qm());V(K)},R=X(this,sa);switch(R.status){case"pending":e.queryHash===n.queryHash&&V(R);break;case"fulfilled":(M.status==="error"||M.data!==R.value)&&L();break;case"rejected":(M.status!=="error"||M.error!==R.reason)&&L();break}}return M}updateResult(){const e=X(this,Pn),r=this.createResult(X(this,Ot),this.options);if(De(this,ml,X(this,Ot).state),De(this,Bu,this.options),X(this,ml).data!==void 0&&De(this,zu,X(this,Ot)),dp(r,e))return;De(this,Pn,r);const n=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!X(this,$u).size)return!0;const a=new Set(s??X(this,$u));return this.options.throwOnError&&a.add("error"),Object.keys(X(this,Pn)).some(o=>{const l=o;return X(this,Pn)[l]!==e[l]&&a.has(l)})};At(this,zt,r4).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&At(this,zt,Km).call(this)}},Wn=new WeakMap,Ot=new WeakMap,Hh=new WeakMap,Pn=new WeakMap,ml=new WeakMap,Bu=new WeakMap,sa=new WeakMap,io=new WeakMap,Vh=new WeakMap,Uu=new WeakMap,zu=new WeakMap,vl=new WeakMap,yl=new WeakMap,so=new WeakMap,$u=new WeakMap,zt=new WeakSet,rh=function(e){At(this,zt,Ym).call(this);let r=X(this,Ot).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(Rn)),r},Hm=function(){At(this,zt,Jm).call(this);const e=ko(this.options.staleTime,X(this,Ot));if(jl||X(this,Pn).isStale||!Um(e))return;const n=K_(X(this,Pn).dataUpdatedAt,e)+1;De(this,vl,ll.setTimeout(()=>{X(this,Pn).isStale||this.updateResult()},n))},Vm=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(X(this,Ot)):this.options.refetchInterval)??!1},Gm=function(e){At(this,zt,Qm).call(this),De(this,so,e),!(jl||Pi(this.options.enabled,X(this,Ot))===!1||!Um(X(this,so))||X(this,so)===0)&&De(this,yl,ll.setInterval(()=>{(this.options.refetchIntervalInBackground||Lv.isFocused())&&At(this,zt,rh).call(this)},X(this,so)))},Km=function(){At(this,zt,Hm).call(this),At(this,zt,Gm).call(this,At(this,zt,Vm).call(this))},Jm=function(){X(this,vl)&&(ll.clearTimeout(X(this,vl)),De(this,vl,void 0))},Qm=function(){X(this,yl)&&(ll.clearInterval(X(this,yl)),De(this,yl,void 0))},Ym=function(){const e=X(this,Wn).getQueryCache().build(X(this,Wn),this.options);if(e===X(this,Ot))return;const r=X(this,Ot);De(this,Ot,e),De(this,Hh,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},r4=function(e){Gr.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(X(this,Pn))}),X(this,Wn).getQueryCache().notify({query:X(this,Ot),type:"observerResultsUpdated"})})},mb);function gA(t,e){return Pi(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function e5(t,e){return gA(t,e)||t.state.data!==void 0&&Xm(t,e,e.refetchOnMount)}function Xm(t,e,r){if(Pi(e.enabled,t)!==!1&&ko(e.staleTime,t)!=="static"){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&Pv(t,e)}return!1}function t5(t,e,r,n){return(t!==e||Pi(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&Pv(t,r)}function Pv(t,e){return Pi(e.enabled,t)!==!1&&t.isStaleByTime(ko(e.staleTime,t))}function mA(t,e){return!dp(t.getCurrentResult(),e)}function r5(t){return{onFetch:(e,r)=>{var h,p,g,d,b;const n=e.options,i=(g=(p=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:p.fetchMore)==null?void 0:g.direction,s=((d=e.state.data)==null?void 0:d.pages)||[],a=((b=e.state.data)==null?void 0:b.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const u=async()=>{let x=!1;const N=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>(e.signal.aborted?x=!0:e.signal.addEventListener("abort",()=>{x=!0}),e.signal)})},w=Q_(e.options,e.fetchOptions),S=async(k,A,q)=>{if(x)return Promise.reject();if(A==null&&k.pages.length)return Promise.resolve(k);const $=(()=>{const L={client:e.client,queryKey:e.queryKey,pageParam:A,direction:q?"backward":"forward",meta:e.options.meta};return N(L),L})(),M=await w($),{maxPages:F}=e.options,V=q?oA:aA;return{pages:V(k.pages,M,F),pageParams:V(k.pageParams,A,F)}};if(i&&s.length){const k=i==="backward",A=k?vA:n5,q={pages:s,pageParams:a},Y=A(n,q);o=await S(q,Y,k)}else{const k=t??s.length;do{const A=l===0?a[0]??n.initialPageParam:n5(n,o);if(l>0&&A==null)break;o=await S(o,A),l++}while(l<k)}return o};e.options.persister?e.fetchFn=()=>{var x,N;return(N=(x=e.options).persister)==null?void 0:N.call(x,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=u}}}function n5(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function vA(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var Gh,ws,On,wl,bs,Ka,vb,yA=(vb=class extends e4{constructor(e){super();nt(this,bs);nt(this,Gh);nt(this,ws);nt(this,On);nt(this,wl);De(this,Gh,e.client),this.mutationId=e.mutationId,De(this,On,e.mutationCache),De(this,ws,[]),this.state=e.state||n4(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){X(this,ws).includes(e)||(X(this,ws).push(e),this.clearGcTimeout(),X(this,On).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){De(this,ws,X(this,ws).filter(r=>r!==e)),this.scheduleGc(),X(this,On).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){X(this,ws).length||(this.state.status==="pending"?this.scheduleGc():X(this,On).remove(this))}continue(){var e;return((e=X(this,wl))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var a,o,l,u,h,p,g,d,b,x,N,w,S,k,A,q,Y,$,M,F;const r=()=>{At(this,bs,Ka).call(this,{type:"continue"})},n={client:X(this,Gh),meta:this.options.meta,mutationKey:this.options.mutationKey};De(this,wl,Z_({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(V,L)=>{At(this,bs,Ka).call(this,{type:"failed",failureCount:V,error:L})},onPause:()=>{At(this,bs,Ka).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>X(this,On).canRun(this)}));const i=this.state.status==="pending",s=!X(this,wl).canStart();try{if(i)r();else{At(this,bs,Ka).call(this,{type:"pending",variables:e,isPaused:s}),await((o=(a=X(this,On).config).onMutate)==null?void 0:o.call(a,e,this,n));const L=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,e,n));L!==this.state.context&&At(this,bs,Ka).call(this,{type:"pending",context:L,variables:e,isPaused:s})}const V=await X(this,wl).start();return await((p=(h=X(this,On).config).onSuccess)==null?void 0:p.call(h,V,e,this.state.context,this,n)),await((d=(g=this.options).onSuccess)==null?void 0:d.call(g,V,e,this.state.context,n)),await((x=(b=X(this,On).config).onSettled)==null?void 0:x.call(b,V,null,this.state.variables,this.state.context,this,n)),await((w=(N=this.options).onSettled)==null?void 0:w.call(N,V,null,e,this.state.context,n)),At(this,bs,Ka).call(this,{type:"success",data:V}),V}catch(V){try{throw await((k=(S=X(this,On).config).onError)==null?void 0:k.call(S,V,e,this.state.context,this,n)),await((q=(A=this.options).onError)==null?void 0:q.call(A,V,e,this.state.context,n)),await(($=(Y=X(this,On).config).onSettled)==null?void 0:$.call(Y,void 0,V,this.state.variables,this.state.context,this,n)),await((F=(M=this.options).onSettled)==null?void 0:F.call(M,void 0,V,e,this.state.context,n)),V}finally{At(this,bs,Ka).call(this,{type:"error",error:V})}}finally{X(this,On).runNext(this)}}},Gh=new WeakMap,ws=new WeakMap,On=new WeakMap,wl=new WeakMap,bs=new WeakSet,Ka=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Gr.batch(()=>{X(this,ws).forEach(n=>{n.onMutationUpdate(e)}),X(this,On).notify({mutation:this,type:"updated",action:e})})},vb);function n4(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var aa,Yi,Kh,yb,wA=(yb=class extends oc{constructor(e={}){super();nt(this,aa);nt(this,Yi);nt(this,Kh);this.config=e,De(this,aa,new Set),De(this,Yi,new Map),De(this,Kh,0)}build(e,r,n){const i=new yA({client:e,mutationCache:this,mutationId:++Od(this,Kh)._,options:e.defaultMutationOptions(r),state:n});return this.add(i),i}add(e){X(this,aa).add(e);const r=Yd(e);if(typeof r=="string"){const n=X(this,Yi).get(r);n?n.push(e):X(this,Yi).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(X(this,aa).delete(e)){const r=Yd(e);if(typeof r=="string"){const n=X(this,Yi).get(r);if(n)if(n.length>1){const i=n.indexOf(e);i!==-1&&n.splice(i,1)}else n[0]===e&&X(this,Yi).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=Yd(e);if(typeof r=="string"){const n=X(this,Yi).get(r),i=n==null?void 0:n.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var n;const r=Yd(e);if(typeof r=="string"){const i=(n=X(this,Yi).get(r))==null?void 0:n.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Gr.batch(()=>{X(this,aa).forEach(e=>{this.notify({type:"removed",mutation:e})}),X(this,aa).clear(),X(this,Yi).clear()})}getAll(){return Array.from(X(this,aa))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>Jy(r,n))}findAll(e={}){return this.getAll().filter(r=>Jy(e,r))}notify(e){Gr.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return Gr.batch(()=>Promise.all(e.map(r=>r.continue().catch(Rn))))}},aa=new WeakMap,Yi=new WeakMap,Kh=new WeakMap,yb);function Yd(t){var e;return(e=t.options.scope)==null?void 0:e.id}var oa,ao,Hn,la,fa,Pf,Zm,wb,bA=(wb=class extends oc{constructor(r,n){super();nt(this,fa);nt(this,oa);nt(this,ao);nt(this,Hn);nt(this,la);De(this,oa,r),this.setOptions(n),this.bindMethods(),At(this,fa,Pf).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var i;const n=this.options;this.options=X(this,oa).defaultMutationOptions(r),dp(this.options,n)||X(this,oa).getMutationCache().notify({type:"observerOptionsUpdated",mutation:X(this,Hn),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Cl(n.mutationKey)!==Cl(this.options.mutationKey)?this.reset():((i=X(this,Hn))==null?void 0:i.state.status)==="pending"&&X(this,Hn).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=X(this,Hn))==null||r.removeObserver(this)}onMutationUpdate(r){At(this,fa,Pf).call(this),At(this,fa,Zm).call(this,r)}getCurrentResult(){return X(this,ao)}reset(){var r;(r=X(this,Hn))==null||r.removeObserver(this),De(this,Hn,void 0),At(this,fa,Pf).call(this),At(this,fa,Zm).call(this)}mutate(r,n){var i;return De(this,la,n),(i=X(this,Hn))==null||i.removeObserver(this),De(this,Hn,X(this,oa).getMutationCache().build(X(this,oa),this.options)),X(this,Hn).addObserver(this),X(this,Hn).execute(r)}},oa=new WeakMap,ao=new WeakMap,Hn=new WeakMap,la=new WeakMap,fa=new WeakSet,Pf=function(){var n;const r=((n=X(this,Hn))==null?void 0:n.state)??n4();De(this,ao,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Zm=function(r){Gr.batch(()=>{var n,i,s,a,o,l,u,h;if(X(this,la)&&this.hasListeners()){const p=X(this,ao).variables,g=X(this,ao).context,d={client:X(this,oa),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((i=(n=X(this,la)).onSuccess)==null||i.call(n,r.data,p,g,d),(a=(s=X(this,la)).onSettled)==null||a.call(s,r.data,null,p,g,d)):(r==null?void 0:r.type)==="error"&&((l=(o=X(this,la)).onError)==null||l.call(o,r.error,p,g,d),(h=(u=X(this,la)).onSettled)==null||h.call(u,void 0,r.error,p,g,d))}this.listeners.forEach(p=>{p(X(this,ao))})})},wb),xs,bb,xA=(bb=class extends oc{constructor(e={}){super();nt(this,xs);this.config=e,De(this,xs,new Map)}build(e,r,n){const i=r.queryKey,s=r.queryHash??jv(i,r);let a=this.get(s);return a||(a=new fA({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(a)),a}add(e){X(this,xs).has(e.queryHash)||(X(this,xs).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=X(this,xs).get(e.queryHash);r&&(e.destroy(),r===e&&X(this,xs).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Gr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return X(this,xs).get(e)}getAll(){return[...X(this,xs).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>Ky(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>Ky(e,n)):r}notify(e){Gr.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){Gr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Gr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},xs=new WeakMap,bb),wr,oo,lo,qu,Wu,uo,Hu,Vu,xb,_A=(xb=class{constructor(t={}){nt(this,wr);nt(this,oo);nt(this,lo);nt(this,qu);nt(this,Wu);nt(this,uo);nt(this,Hu);nt(this,Vu);De(this,wr,t.queryCache||new xA),De(this,oo,t.mutationCache||new wA),De(this,lo,t.defaultOptions||{}),De(this,qu,new Map),De(this,Wu,new Map),De(this,uo,0)}mount(){Od(this,uo)._++,X(this,uo)===1&&(De(this,Hu,Lv.subscribe(async t=>{t&&(await this.resumePausedMutations(),X(this,wr).onFocus())})),De(this,Vu,fp.subscribe(async t=>{t&&(await this.resumePausedMutations(),X(this,wr).onOnline())})))}unmount(){var t,e;Od(this,uo)._--,X(this,uo)===0&&((t=X(this,Hu))==null||t.call(this),De(this,Hu,void 0),(e=X(this,Vu))==null||e.call(this),De(this,Vu,void 0))}isFetching(t){return X(this,wr).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return X(this,oo).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=X(this,wr).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=X(this,wr).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(ko(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return X(this,wr).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),i=X(this,wr).get(n.queryHash),s=i==null?void 0:i.state.data,a=nA(e,s);if(a!==void 0)return X(this,wr).build(this,n).setData(a,{...r,manual:!0})}setQueriesData(t,e,r){return Gr.batch(()=>X(this,wr).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=X(this,wr).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=X(this,wr);Gr.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=X(this,wr);return Gr.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=Gr.batch(()=>X(this,wr).findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(Rn).catch(Rn)}invalidateQueries(t,e={}){return Gr.batch(()=>(X(this,wr).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=Gr.batch(()=>X(this,wr).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(Rn)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(Rn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=X(this,wr).build(this,e);return r.isStaleByTime(ko(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Rn).catch(Rn)}fetchInfiniteQuery(t){return t.behavior=r5(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Rn).catch(Rn)}ensureInfiniteQueryData(t){return t.behavior=r5(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return fp.isOnline()?X(this,oo).resumePausedMutations():Promise.resolve()}getQueryCache(){return X(this,wr)}getMutationCache(){return X(this,oo)}getDefaultOptions(){return X(this,lo)}setDefaultOptions(t){De(this,lo,t)}setQueryDefaults(t,e){X(this,qu).set(Cl(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...X(this,qu).values()],r={};return e.forEach(n=>{Dh(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){X(this,Wu).set(Cl(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...X(this,Wu).values()],r={};return e.forEach(n=>{Dh(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...X(this,lo).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=jv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Cv&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...X(this,lo).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){X(this,wr).clear(),X(this,oo).clear()}},wr=new WeakMap,oo=new WeakMap,lo=new WeakMap,qu=new WeakMap,Wu=new WeakMap,uo=new WeakMap,Hu=new WeakMap,Vu=new WeakMap,xb),i4=ne.createContext(void 0),Po=t=>{const e=ne.useContext(i4);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},SA=({client:t,children:e})=>(ne.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),v.jsx(i4.Provider,{value:t,children:e})),s4=ne.createContext(!1),kA=()=>ne.useContext(s4);s4.Provider;function NA(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var AA=ne.createContext(NA()),EA=()=>ne.useContext(AA),jA=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},CA=t=>{ne.useEffect(()=>{t.clearReset()},[t])},LA=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(i&&t.data===void 0||Y_(r,[t.error,n])),PA=t=>{if(t.suspense){const r=i=>i==="static"?i:Math.max(i??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...i)=>r(n(...i)):r(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},OA=(t,e)=>t.isLoading&&t.isFetching&&!e,TA=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,i5=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function RA(t,e,r){var p,g,d,b,x;const n=kA(),i=EA(),s=Po(),a=s.defaultQueryOptions(t);(g=(p=s.getDefaultOptions().queries)==null?void 0:p._experimental_beforeQuery)==null||g.call(p,a),a._optimisticResults=n?"isRestoring":"optimistic",PA(a),jA(a,i),CA(i);const o=!s.getQueryCache().get(a.queryHash),[l]=ne.useState(()=>new e(s,a)),u=l.getOptimisticResult(a),h=!n&&t.subscribed!==!1;if(ne.useSyncExternalStore(ne.useCallback(N=>{const w=h?l.subscribe(Gr.batchCalls(N)):Rn;return l.updateResult(),w},[l,h]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),ne.useEffect(()=>{l.setOptions(a)},[a,l]),TA(a,u))throw i5(a,l,i);if(LA({result:u,errorResetBoundary:i,throwOnError:a.throwOnError,query:s.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw u.error;if((b=(d=s.getDefaultOptions().queries)==null?void 0:d._experimental_afterQuery)==null||b.call(d,a,u),a.experimental_prefetchInRender&&!jl&&OA(u,n)){const N=o?i5(a,l,i):(x=s.getQueryCache().get(a.queryHash))==null?void 0:x.promise;N==null||N.catch(Rn).finally(()=>{l.updateResult()})}return a.notifyOnChangeProps?u:l.trackResult(u)}function ed(t,e){return RA(t,pA)}function Il(t,e){const r=Po(),[n]=ne.useState(()=>new bA(r,t));ne.useEffect(()=>{n.setOptions(t)},[n,t]);const i=ne.useSyncExternalStore(ne.useCallback(a=>n.subscribe(Gr.batchCalls(a)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=ne.useCallback((a,o)=>{n.mutate(a,o).catch(Rn)},[n]);if(i.error&&Y_(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}let IA={data:""},FA=t=>{if(typeof window=="object"){let e=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(t||document.head).appendChild(e),e.firstChild}return t||IA},DA=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,MA=/\/\*[^]*?\*\/|  +/g,s5=/\n+/g,Za=(t,e)=>{let r="",n="",i="";for(let s in t){let a=t[s];s[0]=="@"?s[1]=="i"?r=s+" "+a+";":n+=s[1]=="f"?Za(a,s):s+"{"+Za(a,s[1]=="k"?"":e)+"}":typeof a=="object"?n+=Za(a,e?e.replace(/([^,])+/g,o=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,o):o?o+" "+l:l)):s):a!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Za.p?Za.p(s,a):s+":"+a+";")}return r+(e&&i?e+"{"+i+"}":i)+n},Qs={},a4=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+a4(t[r]);return e}return t},BA=(t,e,r,n,i)=>{let s=a4(t),a=Qs[s]||(Qs[s]=(l=>{let u=0,h=11;for(;u<l.length;)h=101*h+l.charCodeAt(u++)>>>0;return"go"+h})(s));if(!Qs[a]){let l=s!==t?t:(u=>{let h,p,g=[{}];for(;h=DA.exec(u.replace(MA,""));)h[4]?g.shift():h[3]?(p=h[3].replace(s5," ").trim(),g.unshift(g[0][p]=g[0][p]||{})):g[0][h[1]]=h[2].replace(s5," ").trim();return g[0]})(t);Qs[a]=Za(i?{["@keyframes "+a]:l}:l,r?"":"."+a)}let o=r&&Qs.g?Qs.g:null;return r&&(Qs.g=Qs[a]),((l,u,h,p)=>{p?u.data=u.data.replace(p,l):u.data.indexOf(l)===-1&&(u.data=h?l+u.data:u.data+l)})(Qs[a],e,n,o),a},UA=(t,e,r)=>t.reduce((n,i,s)=>{let a=e[s];if(a&&a.call){let o=a(r),l=o&&o.props&&o.props.className||/^go/.test(o)&&o;a=l?"."+l:o&&typeof o=="object"?o.props?"":Za(o,""):o===!1?"":o}return n+i+(a??"")},"");function Hp(t){let e=this||{},r=t.call?t(e.p):t;return BA(r.unshift?r.raw?UA(r,[].slice.call(arguments,1),e.p):r.reduce((n,i)=>Object.assign(n,i&&i.call?i(e.p):i),{}):r,FA(e.target),e.g,e.o,e.k)}let o4,e1,t1;Hp.bind({g:1});let ya=Hp.bind({k:1});function zA(t,e,r,n){Za.p=e,o4=t,e1=r,t1=n}function Oo(t,e){let r=this||{};return function(){let n=arguments;function i(s,a){let o=Object.assign({},s),l=o.className||i.className;r.p=Object.assign({theme:e1&&e1()},o),r.o=/ *go\d+/.test(l),o.className=Hp.apply(r,n)+(l?" "+l:"");let u=t;return t[0]&&(u=o.as||t,delete o.as),t1&&u[0]&&t1(o),o4(u,o)}return i}}var $A=t=>typeof t=="function",pp=(t,e)=>$A(t)?t(e):t,qA=(()=>{let t=0;return()=>(++t).toString()})(),l4=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),WA=20,Ov="default",u4=(t,e)=>{let{toastLimit:r}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,r)};case 1:return{...t,toasts:t.toasts.map(a=>a.id===e.toast.id?{...a,...e.toast}:a)};case 2:let{toast:n}=e;return u4(t,{type:t.toasts.find(a=>a.id===n.id)?1:0,toast:n});case 3:let{toastId:i}=e;return{...t,toasts:t.toasts.map(a=>a.id===i||i===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let s=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+s}))}}},Of=[],c4={toasts:[],pausedAt:void 0,settings:{toastLimit:WA}},Ss={},h4=(t,e=Ov)=>{Ss[e]=u4(Ss[e]||c4,t),Of.forEach(([r,n])=>{r===e&&n(Ss[e])})},d4=t=>Object.keys(Ss).forEach(e=>h4(t,e)),HA=t=>Object.keys(Ss).find(e=>Ss[e].toasts.some(r=>r.id===t)),Vp=(t=Ov)=>e=>{h4(e,t)},VA={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},GA=(t={},e=Ov)=>{let[r,n]=ne.useState(Ss[e]||c4),i=ne.useRef(Ss[e]);ne.useEffect(()=>(i.current!==Ss[e]&&n(Ss[e]),Of.push([e,n]),()=>{let a=Of.findIndex(([o])=>o===e);a>-1&&Of.splice(a,1)}),[e]);let s=r.toasts.map(a=>{var o,l,u;return{...t,...t[a.type],...a,removeDelay:a.removeDelay||((o=t[a.type])==null?void 0:o.removeDelay)||(t==null?void 0:t.removeDelay),duration:a.duration||((l=t[a.type])==null?void 0:l.duration)||(t==null?void 0:t.duration)||VA[a.type],style:{...t.style,...(u=t[a.type])==null?void 0:u.style,...a.style}}});return{...r,toasts:s}},KA=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||qA()}),td=t=>(e,r)=>{let n=KA(e,t,r);return Vp(n.toasterId||HA(n.id))({type:2,toast:n}),n.id},Kr=(t,e)=>td("blank")(t,e);Kr.error=td("error");Kr.success=td("success");Kr.loading=td("loading");Kr.custom=td("custom");Kr.dismiss=(t,e)=>{let r={type:3,toastId:t};e?Vp(e)(r):d4(r)};Kr.dismissAll=t=>Kr.dismiss(void 0,t);Kr.remove=(t,e)=>{let r={type:4,toastId:t};e?Vp(e)(r):d4(r)};Kr.removeAll=t=>Kr.remove(void 0,t);Kr.promise=(t,e,r)=>{let n=Kr.loading(e.loading,{...r,...r==null?void 0:r.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let s=e.success?pp(e.success,i):void 0;return s?Kr.success(s,{id:n,...r,...r==null?void 0:r.success}):Kr.dismiss(n),i}).catch(i=>{let s=e.error?pp(e.error,i):void 0;s?Kr.error(s,{id:n,...r,...r==null?void 0:r.error}):Kr.dismiss(n)}),t};var JA=1e3,QA=(t,e="default")=>{let{toasts:r,pausedAt:n}=GA(t,e),i=ne.useRef(new Map).current,s=ne.useCallback((p,g=JA)=>{if(i.has(p))return;let d=setTimeout(()=>{i.delete(p),a({type:4,toastId:p})},g);i.set(p,d)},[]);ne.useEffect(()=>{if(n)return;let p=Date.now(),g=r.map(d=>{if(d.duration===1/0)return;let b=(d.duration||0)+d.pauseDuration-(p-d.createdAt);if(b<0){d.visible&&Kr.dismiss(d.id);return}return setTimeout(()=>Kr.dismiss(d.id,e),b)});return()=>{g.forEach(d=>d&&clearTimeout(d))}},[r,n,e]);let a=ne.useCallback(Vp(e),[e]),o=ne.useCallback(()=>{a({type:5,time:Date.now()})},[a]),l=ne.useCallback((p,g)=>{a({type:1,toast:{id:p,height:g}})},[a]),u=ne.useCallback(()=>{n&&a({type:6,time:Date.now()})},[n,a]),h=ne.useCallback((p,g)=>{let{reverseOrder:d=!1,gutter:b=8,defaultPosition:x}=g||{},N=r.filter(k=>(k.position||x)===(p.position||x)&&k.height),w=N.findIndex(k=>k.id===p.id),S=N.filter((k,A)=>A<w&&k.visible).length;return N.filter(k=>k.visible).slice(...d?[S+1]:[0,S]).reduce((k,A)=>k+(A.height||0)+b,0)},[r]);return ne.useEffect(()=>{r.forEach(p=>{if(p.dismissed)s(p.id,p.removeDelay);else{let g=i.get(p.id);g&&(clearTimeout(g),i.delete(p.id))}})},[r,s]),{toasts:r,handlers:{updateHeight:l,startPause:o,endPause:u,calculateOffset:h}}},YA=ya`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,XA=ya`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ZA=ya`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,eE=Oo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${YA} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${XA} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${ZA} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,tE=ya`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,rE=Oo("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${tE} 1s linear infinite;
`,nE=ya`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,iE=ya`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,sE=Oo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${nE} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${iE} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,aE=Oo("div")`
  position: absolute;
`,oE=Oo("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,lE=ya`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,uE=Oo("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${lE} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,cE=({toast:t})=>{let{icon:e,type:r,iconTheme:n}=t;return e!==void 0?typeof e=="string"?ne.createElement(uE,null,e):e:r==="blank"?null:ne.createElement(oE,null,ne.createElement(rE,{...n}),r!=="loading"&&ne.createElement(aE,null,r==="error"?ne.createElement(eE,{...n}):ne.createElement(sE,{...n})))},hE=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,dE=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,fE="0%{opacity:0;} 100%{opacity:1;}",pE="0%{opacity:1;} 100%{opacity:0;}",gE=Oo("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,mE=Oo("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,vE=(t,e)=>{let r=t.includes("top")?1:-1,[n,i]=l4()?[fE,pE]:[hE(r),dE(r)];return{animation:e?`${ya(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ya(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},yE=ne.memo(({toast:t,position:e,style:r,children:n})=>{let i=t.height?vE(t.position||e||"top-center",t.visible):{opacity:0},s=ne.createElement(cE,{toast:t}),a=ne.createElement(mE,{...t.ariaProps},pp(t.message,t));return ne.createElement(gE,{className:t.className,style:{...i,...r,...t.style}},typeof n=="function"?n({icon:s,message:a}):ne.createElement(ne.Fragment,null,s,a))});zA(ne.createElement);var wE=({id:t,className:e,style:r,onHeightUpdate:n,children:i})=>{let s=ne.useCallback(a=>{if(a){let o=()=>{let l=a.getBoundingClientRect().height;n(t,l)};o(),new MutationObserver(o).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return ne.createElement("div",{ref:s,className:e,style:r},i)},bE=(t,e)=>{let r=t.includes("top"),n=r?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:l4()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...n,...i}},xE=Hp`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Xd=16,_E=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:n,children:i,toasterId:s,containerStyle:a,containerClassName:o})=>{let{toasts:l,handlers:u}=QA(r,s);return ne.createElement("div",{"data-rht-toaster":s||"",style:{position:"fixed",zIndex:9999,top:Xd,left:Xd,right:Xd,bottom:Xd,pointerEvents:"none",...a},className:o,onMouseEnter:u.startPause,onMouseLeave:u.endPause},l.map(h=>{let p=h.position||e,g=u.calculateOffset(h,{reverseOrder:t,gutter:n,defaultPosition:e}),d=bE(p,g);return ne.createElement(wE,{id:h.id,key:h.id,onHeightUpdate:u.updateHeight,className:h.visible?xE:"",style:d},h.type==="custom"?pp(h.message,h):i?i(h):ne.createElement(yE,{toast:h,position:p}))}))},Kn=Kr,r1=function(t,e){return r1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},r1(t,e)};function f4(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var gp=function(){return gp=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},gp.apply(this,arguments)};function lc(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function p4(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var o=t.length-1;o>=0;o--)(a=t[o])&&(s=(i<3?a(s):i>3?a(e,r,s):a(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function g4(t,e){return function(r,n){e(r,n,t)}}function m4(t,e,r,n,i,s){function a(w){if(w!==void 0&&typeof w!="function")throw new TypeError("Function expected");return w}for(var o=n.kind,l=o==="getter"?"get":o==="setter"?"set":"value",u=!e&&t?n.static?t:t.prototype:null,h=e||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),p,g=!1,d=r.length-1;d>=0;d--){var b={};for(var x in n)b[x]=x==="access"?{}:n[x];for(var x in n.access)b.access[x]=n.access[x];b.addInitializer=function(w){if(g)throw new TypeError("Cannot add initializers after decoration has completed");s.push(a(w||null))};var N=(0,r[d])(o==="accessor"?{get:h.get,set:h.set}:h[l],b);if(o==="accessor"){if(N===void 0)continue;if(N===null||typeof N!="object")throw new TypeError("Object expected");(p=a(N.get))&&(h.get=p),(p=a(N.set))&&(h.set=p),(p=a(N.init))&&i.unshift(p)}else(p=a(N))&&(o==="field"?i.unshift(p):h[l]=p)}u&&Object.defineProperty(u,n.name,h),g=!0}function v4(t,e,r){for(var n=arguments.length>2,i=0;i<e.length;i++)r=n?e[i].call(t,r):e[i].call(t);return n?r:void 0}function y4(t){return typeof t=="symbol"?t:"".concat(t)}function w4(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function b4(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Ue(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(h){try{u(n.next(h))}catch(p){a(p)}}function l(h){try{u(n.throw(h))}catch(p){a(p)}}function u(h){h.done?s(h.value):i(h.value).then(o,l)}u((n=n.apply(t,e||[])).next())})}function x4(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=o(0),a.throw=o(1),a.return=o(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(u){return function(h){return l([u,h])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(h){u=[6,h],i=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Gp=Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};function _4(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Gp(e,t,r)}function mp(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Tv(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(o){a={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return s}function S4(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Tv(arguments[e]));return t}function k4(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],a=0,o=s.length;a<o;a++,i++)n[i]=s[a];return n}function N4(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}function tc(t){return this instanceof tc?(this.v=t,this):new tc(t)}function A4(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(d){return function(b){return Promise.resolve(b).then(d,p)}}function o(d,b){n[d]&&(i[d]=function(x){return new Promise(function(N,w){s.push([d,x,N,w])>1||l(d,x)})},b&&(i[d]=b(i[d])))}function l(d,b){try{u(n[d](b))}catch(x){g(s[0][3],x)}}function u(d){d.value instanceof tc?Promise.resolve(d.value.v).then(h,p):g(s[0][2],d)}function h(d){l("next",d)}function p(d){l("throw",d)}function g(d,b){d(b),s.shift(),s.length&&l(s[0][0],s[0][1])}}function E4(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(a){return(r=!r)?{value:tc(t[i](a)),done:!1}:s?s(a):a}:s}}function j4(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof mp=="function"?mp(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(a){return new Promise(function(o,l){a=t[s](a),i(o,l,a.done,a.value)})}}function i(s,a,o,l){Promise.resolve(l).then(function(u){s({value:u,done:o})},a)}}function C4(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var SE=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},n1=function(t){return n1=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},n1(t)};function L4(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=n1(t),n=0;n<r.length;n++)r[n]!=="default"&&Gp(e,t,r[n]);return SE(e,t),e}function P4(t){return t&&t.__esModule?t:{default:t}}function O4(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function T4(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}function R4(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function I4(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var kE=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function F4(t){function e(s){t.error=t.hasError?new kE(s,t.error,"An error was suppressed during disposal."):s,t.hasError=!0}var r,n=0;function i(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(i);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(i,function(a){return e(a),i()})}else n|=1}catch(a){e(a)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function D4(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,s,a){return n?e?".jsx":".js":i&&(!s||!a)?r:i+s+"."+a.toLowerCase()+"js"}):t}const NE={__extends:f4,__assign:gp,__rest:lc,__decorate:p4,__param:g4,__esDecorate:m4,__runInitializers:v4,__propKey:y4,__setFunctionName:w4,__metadata:b4,__awaiter:Ue,__generator:x4,__createBinding:Gp,__exportStar:_4,__values:mp,__read:Tv,__spread:S4,__spreadArrays:k4,__spreadArray:N4,__await:tc,__asyncGenerator:A4,__asyncDelegator:E4,__asyncValues:j4,__makeTemplateObject:C4,__importStar:L4,__importDefault:P4,__classPrivateFieldGet:O4,__classPrivateFieldSet:T4,__classPrivateFieldIn:R4,__addDisposableResource:I4,__disposeResources:F4,__rewriteRelativeImportExtension:D4},AE=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:I4,get __assign(){return gp},__asyncDelegator:E4,__asyncGenerator:A4,__asyncValues:j4,__await:tc,__awaiter:Ue,__classPrivateFieldGet:O4,__classPrivateFieldIn:R4,__classPrivateFieldSet:T4,__createBinding:Gp,__decorate:p4,__disposeResources:F4,__esDecorate:m4,__exportStar:_4,__extends:f4,__generator:x4,__importDefault:P4,__importStar:L4,__makeTemplateObject:C4,__metadata:b4,__param:g4,__propKey:y4,__read:Tv,__rest:lc,__rewriteRelativeImportExtension:D4,__runInitializers:v4,__setFunctionName:w4,__spread:S4,__spreadArray:N4,__spreadArrays:k4,__values:mp,default:NE},Symbol.toStringTag,{value:"Module"})),EE=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Rv extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class jE extends Rv{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class a5 extends Rv{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class o5 extends Rv{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var i1;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(i1||(i1={}));class CE{constructor(e,{headers:r={},customFetch:n,region:i=i1.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=EE(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Ue(this,arguments,void 0,function*(r,n={}){var i;let s,a;try{const{headers:o,method:l,body:u,signal:h,timeout:p}=n;let g={},{region:d}=n;d||(d=this.region);const b=new URL(`${this.url}/${r}`);d&&d!=="any"&&(g["x-region"]=d,b.searchParams.set("forceFunctionRegion",d));let x;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",x=u):typeof u=="string"?(g["Content-Type"]="text/plain",x=u):typeof FormData<"u"&&u instanceof FormData?x=u:(g["Content-Type"]="application/json",x=JSON.stringify(u)):x=u;let N=h;p&&(a=new AbortController,s=setTimeout(()=>a.abort(),p),h?(N=a.signal,h.addEventListener("abort",()=>a.abort())):N=a.signal);const w=yield this.fetch(b.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),o),body:x,signal:N}).catch(q=>{throw new jE(q)}),S=w.headers.get("x-relay-error");if(S&&S==="true")throw new a5(w);if(!w.ok)throw new o5(w);let k=((i=w.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),A;return k==="application/json"?A=yield w.json():k==="application/octet-stream"||k==="application/pdf"?A=yield w.blob():k==="text/event-stream"?A=w:k==="multipart/form-data"?A=yield w.formData():A=yield w.text(),{data:A,error:null,response:w}}catch(o){return{data:null,error:o,response:o instanceof o5||o instanceof a5?o.context:void 0}}finally{s&&clearTimeout(s)}})}}var In={};const uc=yk(AE);var Zd={},ef={},tf={},rf={},nf={},sf={},l5;function M4(){if(l5)return sf;l5=1,Object.defineProperty(sf,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return sf.default=t,sf}var u5;function B4(){if(u5)return nf;u5=1,Object.defineProperty(nf,"__esModule",{value:!0});const e=uc.__importDefault(M4());class r{constructor(i){var s,a;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(s=i.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=i.signal,this.isMaybeSingle=(a=i.isMaybeSingle)!==null&&a!==void 0?a:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,s){return this.headers=new Headers(this.headers),this.headers.set(i,s),this}then(i,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let o=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var u,h,p,g;let d=null,b=null,x=null,N=l.status,w=l.statusText;if(l.ok){if(this.method!=="HEAD"){const q=await l.text();q===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?b=q:b=JSON.parse(q))}const k=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),A=(p=l.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");k&&A&&A.length>1&&(x=parseInt(A[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(d={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,x=null,N=406,w="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const k=await l.text();try{d=JSON.parse(k),Array.isArray(d)&&l.status===404&&(b=[],d=null,N=200,w="OK")}catch{l.status===404&&k===""?(N=204,w="No Content"):d={message:k}}if(d&&this.isMaybeSingle&&(!((g=d==null?void 0:d.details)===null||g===void 0)&&g.includes("0 rows"))&&(d=null,N=200,w="OK"),d&&this.shouldThrowOnError)throw new e.default(d)}return{error:d,data:b,count:x,status:N,statusText:w}});return this.shouldThrowOnError||(o=o.catch(l=>{var u,h,p,g,d,b;let x="";const N=l==null?void 0:l.cause;if(N){const w=(u=N==null?void 0:N.message)!==null&&u!==void 0?u:"",S=(h=N==null?void 0:N.code)!==null&&h!==void 0?h:"";x=`${(p=l==null?void 0:l.name)!==null&&p!==void 0?p:"FetchError"}: ${l==null?void 0:l.message}`,x+=`

Caused by: ${(g=N==null?void 0:N.name)!==null&&g!==void 0?g:"Error"}: ${w}`,S&&(x+=` (${S})`),N!=null&&N.stack&&(x+=`
${N.stack}`)}else x=(d=l==null?void 0:l.stack)!==null&&d!==void 0?d:"";return{error:{message:`${(b=l==null?void 0:l.name)!==null&&b!==void 0?b:"FetchError"}: ${l==null?void 0:l.message}`,details:x,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(i,s)}returns(){return this}overrideTypes(){return this}}return nf.default=r,nf}var c5;function U4(){if(c5)return rf;c5=1,Object.defineProperty(rf,"__esModule",{value:!0});const e=uc.__importDefault(B4());class r extends e.default{select(i){let s=!1;const a=(i??"*").split("").map(o=>/\s/.test(o)&&!s?"":(o==='"'&&(s=!s),o)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:s=!0,nullsFirst:a,foreignTable:o,referencedTable:l=o}={}){const u=l?`${l}.order`:"order",h=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${h?`${h},`:""}${i}.${s?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:a=s}={}){const o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(o,`${i}`),this}range(i,s,{foreignTable:a,referencedTable:o=a}={}){const l=typeof o>"u"?"offset":`${o}.offset`,u=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(u,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:s=!1,settings:a=!1,buffers:o=!1,wal:l=!1,format:u="text"}={}){var h;const p=[i?"analyze":null,s?"verbose":null,a?"settings":null,o?"buffers":null,l?"wal":null].filter(Boolean).join("|"),g=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${g}"; options=${p};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return rf.default=r,rf}var h5;function Iv(){if(h5)return tf;h5=1,Object.defineProperty(tf,"__esModule",{value:!0});const e=uc.__importDefault(U4()),r=new RegExp("[,()]");class n extends e.default{eq(s,a){return this.url.searchParams.append(s,`eq.${a}`),this}neq(s,a){return this.url.searchParams.append(s,`neq.${a}`),this}gt(s,a){return this.url.searchParams.append(s,`gt.${a}`),this}gte(s,a){return this.url.searchParams.append(s,`gte.${a}`),this}lt(s,a){return this.url.searchParams.append(s,`lt.${a}`),this}lte(s,a){return this.url.searchParams.append(s,`lte.${a}`),this}like(s,a){return this.url.searchParams.append(s,`like.${a}`),this}likeAllOf(s,a){return this.url.searchParams.append(s,`like(all).{${a.join(",")}}`),this}likeAnyOf(s,a){return this.url.searchParams.append(s,`like(any).{${a.join(",")}}`),this}ilike(s,a){return this.url.searchParams.append(s,`ilike.${a}`),this}ilikeAllOf(s,a){return this.url.searchParams.append(s,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(s,a){return this.url.searchParams.append(s,`ilike(any).{${a.join(",")}}`),this}regexMatch(s,a){return this.url.searchParams.append(s,`match.${a}`),this}regexIMatch(s,a){return this.url.searchParams.append(s,`imatch.${a}`),this}is(s,a){return this.url.searchParams.append(s,`is.${a}`),this}isDistinct(s,a){return this.url.searchParams.append(s,`isdistinct.${a}`),this}in(s,a){const o=Array.from(new Set(a)).map(l=>typeof l=="string"&&r.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(s,`in.(${o})`),this}contains(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cs.{${a.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(a)}`),this}containedBy(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cd.{${a.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(a)}`),this}rangeGt(s,a){return this.url.searchParams.append(s,`sr.${a}`),this}rangeGte(s,a){return this.url.searchParams.append(s,`nxl.${a}`),this}rangeLt(s,a){return this.url.searchParams.append(s,`sl.${a}`),this}rangeLte(s,a){return this.url.searchParams.append(s,`nxr.${a}`),this}rangeAdjacent(s,a){return this.url.searchParams.append(s,`adj.${a}`),this}overlaps(s,a){return typeof a=="string"?this.url.searchParams.append(s,`ov.${a}`):this.url.searchParams.append(s,`ov.{${a.join(",")}}`),this}textSearch(s,a,{config:o,type:l}={}){let u="";l==="plain"?u="pl":l==="phrase"?u="ph":l==="websearch"&&(u="w");const h=o===void 0?"":`(${o})`;return this.url.searchParams.append(s,`${u}fts${h}.${a}`),this}match(s){return Object.entries(s).forEach(([a,o])=>{this.url.searchParams.append(a,`eq.${o}`)}),this}not(s,a,o){return this.url.searchParams.append(s,`not.${a}.${o}`),this}or(s,{foreignTable:a,referencedTable:o=a}={}){const l=o?`${o}.or`:"or";return this.url.searchParams.append(l,`(${s})`),this}filter(s,a,o){return this.url.searchParams.append(s,`${a}.${o}`),this}}return tf.default=n,tf}var d5;function z4(){if(d5)return ef;d5=1,Object.defineProperty(ef,"__esModule",{value:!0});const e=uc.__importDefault(Iv());class r{constructor(i,{headers:s={},schema:a,fetch:o}){this.url=i,this.headers=new Headers(s),this.schema=a,this.fetch=o}select(i,s){const{head:a=!1,count:o}=s??{},l=a?"HEAD":"GET";let u=!1;const h=(i??"*").split("").map(p=>/\s/.test(p)&&!u?"":(p==='"'&&(u=!u),p)).join("");return this.url.searchParams.set("select",h),o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:s,defaultToNull:a=!0}={}){var o;const l="POST";if(s&&this.headers.append("Prefer",`count=${s}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const u=i.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(u.length>0){const h=[...new Set(u)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(i,{onConflict:s,ignoreDuplicates:a=!1,count:o,defaultToNull:l=!0}={}){var u;const h="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),o&&this.headers.append("Prefer",`count=${o}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const p=i.reduce((g,d)=>g.concat(Object.keys(d)),[]);if(p.length>0){const g=[...new Set(p)].map(d=>`"${d}"`);this.url.searchParams.set("columns",g.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(i,{count:s}={}){var a;const o="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:i}={}){var s;const a="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return ef.default=r,ef}var f5;function LE(){if(f5)return Zd;f5=1,Object.defineProperty(Zd,"__esModule",{value:!0});const t=uc,e=t.__importDefault(z4()),r=t.__importDefault(Iv());class n{constructor(s,{headers:a={},schema:o,fetch:l}={}){this.url=s,this.headers=new Headers(a),this.schemaName=o,this.fetch=l}from(s){if(!s||typeof s!="string"||s.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const a=new URL(`${this.url}/${s}`);return new e.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new n(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,a={},{head:o=!1,get:l=!1,count:u}={}){var h;let p;const g=new URL(`${this.url}/rpc/${s}`);let d;o||l?(p=o?"HEAD":"GET",Object.entries(a).filter(([x,N])=>N!==void 0).map(([x,N])=>[x,Array.isArray(N)?`{${N.join(",")}}`:`${N}`]).forEach(([x,N])=>{g.searchParams.append(x,N)})):(p="POST",d=a);const b=new Headers(this.headers);return u&&b.set("Prefer",`count=${u}`),new r.default({method:p,url:g,headers:b,schema:this.schemaName,body:d,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}}return Zd.default=n,Zd}Object.defineProperty(In,"__esModule",{value:!0});var $4=In.PostgrestError=X4=In.PostgrestBuilder=Q4=In.PostgrestTransformBuilder=K4=In.PostgrestFilterBuilder=V4=In.PostgrestQueryBuilder=W4=In.PostgrestClient=void 0;const cc=uc,q4=cc.__importDefault(LE());var W4=In.PostgrestClient=q4.default;const H4=cc.__importDefault(z4());var V4=In.PostgrestQueryBuilder=H4.default;const G4=cc.__importDefault(Iv());var K4=In.PostgrestFilterBuilder=G4.default;const J4=cc.__importDefault(U4());var Q4=In.PostgrestTransformBuilder=J4.default;const Y4=cc.__importDefault(B4());var X4=In.PostgrestBuilder=Y4.default;const Z4=cc.__importDefault(M4());$4=In.PostgrestError=Z4.default;var e3=In.default={PostgrestClient:q4.default,PostgrestQueryBuilder:H4.default,PostgrestFilterBuilder:G4.default,PostgrestTransformBuilder:J4.default,PostgrestBuilder:Y4.default,PostgrestError:Z4.default};const PE=_b({__proto__:null,get PostgrestBuilder(){return X4},get PostgrestClient(){return W4},get PostgrestError(){return $4},get PostgrestFilterBuilder(){return K4},get PostgrestQueryBuilder(){return V4},get PostgrestTransformBuilder(){return Q4},default:e3},[In]),{PostgrestClient:OE,PostgrestQueryBuilder:UT,PostgrestFilterBuilder:zT,PostgrestTransformBuilder:$T,PostgrestBuilder:qT,PostgrestError:WT}=e3||PE;class TE{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const RE="2.86.0",IE=`realtime-js/${RE}`,t3="1.0.0",FE="2.0.0",p5=t3,s1=1e4,DE=1e3,ME=100;var tl;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(tl||(tl={}));var Wr;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Wr||(Wr={}));var Zi;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Zi||(Zi={}));var a1;(function(t){t.websocket="websocket"})(a1||(a1={}));var rl;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(rl||(rl={}));class BE{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},a=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,r,n){var i,s;const a=e.topic,o=(i=e.ref)!==null&&i!==void 0?i:"",l=(s=e.join_ref)!==null&&s!==void 0?s:"",u=e.payload.event,h=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},p=Object.keys(h).length===0?"":JSON.stringify(h);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`metadata length ${p.length} exceeds maximum of 255`);const g=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+o.length+a.length+u.length+p.length,d=new ArrayBuffer(this.HEADER_LENGTH+g);let b=new DataView(d),x=0;b.setUint8(x++,this.KINDS.userBroadcastPush),b.setUint8(x++,l.length),b.setUint8(x++,o.length),b.setUint8(x++,a.length),b.setUint8(x++,u.length),b.setUint8(x++,p.length),b.setUint8(x++,r),Array.from(l,w=>b.setUint8(x++,w.charCodeAt(0))),Array.from(o,w=>b.setUint8(x++,w.charCodeAt(0))),Array.from(a,w=>b.setUint8(x++,w.charCodeAt(0))),Array.from(u,w=>b.setUint8(x++,w.charCodeAt(0))),Array.from(p,w=>b.setUint8(x++,w.charCodeAt(0)));var N=new Uint8Array(d.byteLength+n.byteLength);return N.set(new Uint8Array(d),0),N.set(new Uint8Array(n),d.byteLength),N.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[i,s,a,o,l]=n;return r({join_ref:i,ref:s,topic:a,event:o,payload:l})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,i)}}_decodeUserBroadcast(e,r,n){const i=r.getUint8(1),s=r.getUint8(2),a=r.getUint8(3),o=r.getUint8(4);let l=this.HEADER_LENGTH+4;const u=n.decode(e.slice(l,l+i));l=l+i;const h=n.decode(e.slice(l,l+s));l=l+s;const p=n.decode(e.slice(l,l+a));l=l+a;const g=e.slice(l,e.byteLength),d=o===this.JSON_ENCODING?JSON.parse(n.decode(g)):g,b={type:this.BROADCAST_EVENT,event:h,payload:d};return a>0&&(b.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:b}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class r3{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var tr;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(tr||(tr={}));const g5=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((s,a)=>(s[a]=UE(a,t,e,i),s),{}):{}},UE=(t,e,r,n)=>{const i=e.find(o=>o.name===t),s=i==null?void 0:i.type,a=r[t];return s&&!n.includes(s)?n3(s,a):o1(a)},n3=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return WE(e,r)}switch(t){case tr.bool:return zE(e);case tr.float4:case tr.float8:case tr.int2:case tr.int4:case tr.int8:case tr.numeric:case tr.oid:return $E(e);case tr.json:case tr.jsonb:return qE(e);case tr.timestamp:return HE(e);case tr.abstime:case tr.date:case tr.daterange:case tr.int4range:case tr.int8range:case tr.money:case tr.reltime:case tr.text:case tr.time:case tr.timestamptz:case tr.timetz:case tr.tsrange:case tr.tstzrange:return o1(e);default:return o1(e)}},o1=t=>t,zE=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},$E=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},qE=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},WE=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let s;const a=t.slice(1,r);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(o=>n3(e,o))}return t},HE=t=>typeof t=="string"?t.replace(" ","T"):t,i3=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class ig{constructor(e,r,n={},i=s1){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var m5;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(m5||(m5={}));class fh{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=fh.syncState(this.state,i,s,a),this.pendingDiffs.forEach(l=>{this.state=fh.syncDiff(this.state,l,s,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=fh.syncDiff(this.state,i,s,a),o())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const s=this.cloneDeep(e),a=this.transformState(r),o={},l={};return this.map(s,(u,h)=>{a[u]||(l[u]=h)}),this.map(a,(u,h)=>{const p=s[u];if(p){const g=h.map(N=>N.presence_ref),d=p.map(N=>N.presence_ref),b=h.filter(N=>d.indexOf(N.presence_ref)<0),x=p.filter(N=>g.indexOf(N.presence_ref)<0);b.length>0&&(o[u]=b),x.length>0&&(l[u]=x)}else o[u]=h}),this.syncDiff(s,{joins:o,leaves:l},n,i)}static syncDiff(e,r,n,i){const{joins:s,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(o,l)=>{var u;const h=(u=e[o])!==null&&u!==void 0?u:[];if(e[o]=this.cloneDeep(l),h.length>0){const p=e[o].map(d=>d.presence_ref),g=h.filter(d=>p.indexOf(d.presence_ref)<0);e[o].unshift(...g)}n(o,h,l)}),this.map(a,(o,l)=>{let u=e[o];if(!u)return;const h=l.map(p=>p.presence_ref);u=u.filter(p=>h.indexOf(p.presence_ref)<0),e[o]=u,i(o,u,l),u.length===0&&delete e[o]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var v5;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(v5||(v5={}));var ph;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(ph||(ph={}));var ra;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ra||(ra={}));class Fv{constructor(e,r={config:{}},n){var i,s;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Wr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new ig(this,Zi.join,this.params,this.timeout),this.rejoinTimer=new r3(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Wr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Wr.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Wr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Wr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Wr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Zi.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new fh(this),this.broadcastEndpointURL=i3(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Wr.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params,u=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&i!==void 0?i:[],h=!!this.bindings[ph.PRESENCE]&&this.bindings[ph.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,p={},g={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:h}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(d=>e==null?void 0:e(ra.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(ra.CLOSED)),this.updateJoinPayload(Object.assign({config:g},p)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var b;if(this.socket.setAuth(),d===void 0){e==null||e(ra.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,N=(b=x==null?void 0:x.length)!==null&&b!==void 0?b:0,w=[];for(let S=0;S<N;S++){const k=x[S],{filter:{event:A,schema:q,table:Y,filter:$}}=k,M=d&&d[S];if(M&&M.event===A&&M.schema===q&&M.table===Y&&M.filter===$)w.push(Object.assign(Object.assign({},k),{id:M.id}));else{this.unsubscribe(),this.state=Wr.errored,e==null||e(ra.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(ra.SUBSCRIBED);return}}).receive("error",d=>{this.state=Wr.errored,e==null||e(ra.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ra.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Wr.joined&&e===ph.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var i;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const a={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(o.status===202)return{success:!0};let l=o.statusText;try{const u=await o.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:a}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,o,l;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Wr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Zi.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new ig(this,Zi.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Wr.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),a}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new ig(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>ME){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,s;const a=e.toLocaleLowerCase(),{close:o,error:l,leave:u,join:h}=Zi;if(n&&[o,l,u,h].indexOf(a)>=0&&n!==this._joinRef())return;let g=this._onMessage(a,r,n);if(r&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(d=>{var b,x,N;return((b=d.filter)===null||b===void 0?void 0:b.event)==="*"||((N=(x=d.filter)===null||x===void 0?void 0:x.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===a}).map(d=>d.callback(g,n)):(s=this.bindings[a])===null||s===void 0||s.filter(d=>{var b,x,N,w,S,k;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in d){const A=d.id,q=(b=d.filter)===null||b===void 0?void 0:b.event;return A&&((x=r.ids)===null||x===void 0?void 0:x.includes(A))&&(q==="*"||(q==null?void 0:q.toLocaleLowerCase())===((N=r.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const A=(S=(w=d==null?void 0:d.filter)===null||w===void 0?void 0:w.event)===null||S===void 0?void 0:S.toLocaleLowerCase();return A==="*"||A===((k=r==null?void 0:r.event)===null||k===void 0?void 0:k.toLocaleLowerCase())}else return d.type.toLocaleLowerCase()===a}).map(d=>{if(typeof g=="object"&&"ids"in g){const b=g.data,{schema:x,table:N,commit_timestamp:w,type:S,errors:k}=b;g=Object.assign(Object.assign({},{schema:x,table:N,commit_timestamp:w,eventType:S,new:{},old:{},errors:k}),this._getPayloadRecords(b))}d.callback(g,n)})}_isClosed(){return this.state===Wr.closed}_isJoined(){return this.state===Wr.joined}_isJoining(){return this.state===Wr.joining}_isLeaving(){return this.state===Wr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&Fv.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Zi.close,{},e)}_onError(e){this._on(Zi.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Wr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=g5(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=g5(e.columns,e.old_record)),r}}const sg=()=>{},af={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},VE=[1e3,2e3,5e3,1e4],GE=1e4,KE=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class JE{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=s1,this.transport=null,this.heartbeatIntervalMs=af.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=sg,this.ref=0,this.reconnectTimer=null,this.vsn=p5,this.logger=sg,this.conn=null,this.sendBuffer=[],this.serializer=new BE,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${a1.websocket}`,this.httpEndpoint=i3(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=TE.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case tl.connecting:return rl.Connecting;case tl.open:return rl.Open;case tl.closing:return rl.Closing;default:return rl.Closed}}isConnected(){return this.connectionState()===rl.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new Fv(`realtime:${e}`,r,this);return this.channels.push(s),s}}push(e){const{topic:r,event:n,payload:i,ref:s}=e,a=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(DE,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},af.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:s,ref:a}=r,o=a?`(${a})`:"",l=s.status||"";this.log("receive",`${l} ${n} ${i} ${o}`.trim(),s),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(i,s,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===tl.open||this.conn.readyState===tl.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Zi.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([KE],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:IE};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(Zi.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new r3(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},af.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,s,a,o,l,u,h,p,g,d;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:s1,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:af.HEARTBEAT_INTERVAL,this.worker=(s=e==null?void 0:e.worker)!==null&&s!==void 0?s:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(o=e==null?void 0:e.heartbeatCallback)!==null&&o!==void 0?o:sg,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:p5,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:b=>VE[b-1]||GE,this.vsn){case t3:this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:(b,x)=>x(JSON.stringify(b)),this.decode=(p=e==null?void 0:e.decode)!==null&&p!==void 0?p:(b,x)=>x(JSON.parse(b));break;case FE:this.encode=(g=e==null?void 0:e.encode)!==null&&g!==void 0?g:this.serializer.encode.bind(this.serializer),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Kp extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function dr(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class QE extends Kp{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class l1 extends Kp{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const Dv=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),YE=()=>Response,u1=t=>{if(Array.isArray(t))return t.map(r=>u1(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=u1(n)}),e},XE=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},ZE=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t),ag=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},ej=(t,e,r)=>Ue(void 0,void 0,void 0,function*(){const n=yield YE();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(i=>{const s=t.status||500,a=(i==null?void 0:i.statusCode)||s+"";e(new QE(ag(i),s,a))}).catch(i=>{e(new l1(ag(i),i))}):e(new l1(ag(t),t))}),tj=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?i:(XE(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),r))};function rd(t,e,r,n,i,s){return Ue(this,void 0,void 0,function*(){return new Promise((a,o)=>{t(r,tj(e,n,i,s)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>ej(l,o,n))})})}function Mh(t,e,r,n){return Ue(this,void 0,void 0,function*(){return rd(t,"GET",e,r,n)})}function Ji(t,e,r,n,i){return Ue(this,void 0,void 0,function*(){return rd(t,"POST",e,n,i,r)})}function c1(t,e,r,n,i){return Ue(this,void 0,void 0,function*(){return rd(t,"PUT",e,n,i,r)})}function rj(t,e,r,n){return Ue(this,void 0,void 0,function*(){return rd(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Mv(t,e,r,n,i){return Ue(this,void 0,void 0,function*(){return rd(t,"DELETE",e,n,i,r)})}class nj{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return Ue(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(dr(e))return{data:null,error:e};throw e}})}}var s3;class ij{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[s3]="BlobDownloadBuilder",this.promise=null}asStream(){return new nj(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Ue(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(dr(e))return{data:null,error:e};throw e}})}}s3=Symbol.toStringTag;const sj={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},y5={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class aj{constructor(e,r={},n,i){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=Dv(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,i){return Ue(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},y5),i);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.has("cacheControl")||s.append("cacheControl",a.cacheControl),l&&!s.has("metadata")&&s.append("metadata",this.encodeMetadata(l))):(s=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!a.duplex&&(a.duplex="half")),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const u=this._removeEmptyFolders(r),h=this._getFinalPath(u),p=yield(e=="PUT"?c1:Ji)(this.fetch,`${this.url}/object/${h}`,s,Object.assign({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:p.Id,fullPath:p.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(dr(s))return{data:null,error:s};throw s}})}upload(e,r,n){return Ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return Ue(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),a=this._getFinalPath(s),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:y5.upsert},i),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType);const p=yield c1(this.fetch,o.toString(),l,{headers:h});return{data:{path:s,fullPath:p.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(dr(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return Ue(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const s=yield Ji(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),a=new URL(this.url+s.url),o=a.searchParams.get("token");if(!o)throw new Kp("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:o},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dr(n))return{data:null,error:n};throw n}})}update(e,r,n){return Ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return Ue(this,void 0,void 0,function*(){try{return{data:yield Ji(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(dr(i))return{data:null,error:i};throw i}})}copy(e,r,n){return Ue(this,void 0,void 0,function*(){try{return{data:{path:(yield Ji(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(dr(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return Ue(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield Ji(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(dr(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return Ue(this,void 0,void 0,function*(){try{const i=yield Ji(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(dr(i))return{data:null,error:i};throw i}})}download(e,r){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=s?`?${s}`:"",o=this._getFinalPath(e),l=()=>Mh(this.fetch,`${this.url}/${i}/${o}${a}`,{headers:this.headers,noResolveJson:!0});return new ij(l,this.shouldThrowOnError)}info(e){return Ue(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Mh(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:u1(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dr(n))return{data:null,error:n};throw n}})}exists(e){return Ue(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield rj(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dr(n)&&n instanceof l1){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}remove(e){return Ue(this,void 0,void 0,function*(){try{return{data:yield Mv(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dr(r))return{data:null,error:r};throw r}})}list(e,r,n){return Ue(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},sj),r),{prefix:e||""});return{data:yield Ji(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(dr(i))return{data:null,error:i};throw i}})}listV2(e,r){return Ue(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Ji(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dr(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const a3="2.86.0",o3={"X-Client-Info":`storage-js/${a3}`};class oj{constructor(e,r={},n,i){this.shouldThrowOnError=!1;const s=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},o3),r),this.fetch=Dv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return Ue(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield Mh(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dr(r))return{data:null,error:r};throw r}})}getBucket(e){return Ue(this,void 0,void 0,function*(){try{return{data:yield Mh(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dr(r))return{data:null,error:r};throw r}})}createBucket(e){return Ue(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Ji(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(dr(i))return{data:null,error:i};throw i}})}updateBucket(e,r){return Ue(this,void 0,void 0,function*(){try{return{data:yield c1(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dr(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Ue(this,void 0,void 0,function*(){try{return{data:yield Ji(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dr(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Ue(this,void 0,void 0,function*(){try{return{data:yield Mv(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dr(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var Bh=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function lj(t,e,r){const n=new URL(e,t);if(r)for(const[i,s]of Object.entries(r))s!==void 0&&n.searchParams.set(i,s);return n.toString()}async function uj(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function cj(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:s,headers:a}){const o=lj(t.baseUrl,n,i),l=await uj(t.auth),u=await e(o,{method:r,headers:{...s?{"Content-Type":"application/json"}:{},...l,...a},body:s?JSON.stringify(s):void 0}),h=await u.text(),p=(u.headers.get("content-type")||"").includes("application/json"),g=p&&h?JSON.parse(h):h;if(!u.ok){const d=p?g:void 0,b=d==null?void 0:d.error;throw new Bh((b==null?void 0:b.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:b==null?void 0:b.type,icebergCode:b==null?void 0:b.code,details:d})}return{status:u.status,headers:u.headers,data:g}}}}function of(t){return t.join("")}var hj=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:of(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${of(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${of(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${of(t.namespace)}`}),!0}catch(e){if(e instanceof Bh&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof Bh&&r.status===409)return;throw r}}};function Jl(t){return t.join("")}var dj=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Jl(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Jl(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Jl(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Jl(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Jl(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Jl(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof Bh&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof Bh&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},fj=class{constructor(t){var n;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=cj({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(n=t.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new hj(this.client,e),this.tableOps=new dj(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}};class pj{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},o3),r),this.fetch=Dv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Ue(this,void 0,void 0,function*(){try{return{data:yield Ji(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dr(r))return{data:null,error:r};throw r}})}listBuckets(e){return Ue(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Mh(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dr(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Ue(this,void 0,void 0,function*(){try{return{data:yield Mv(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dr(r))return{data:null,error:r};throw r}})}from(e){if(!ZE(e))throw new Kp("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new fj({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>Ue(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const Bv={"X-Client-Info":`storage-js/${a3}`,"Content-Type":"application/json"};class l3 extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function fi(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class og extends l3{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class gj extends l3{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var w5;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(w5||(w5={}));const Uv=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),mj=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},b5=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),vj=(t,e,r)=>Ue(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const i=t.status||500,s=t;if(typeof s.json=="function")s.json().then(a=>{const o=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||i+"";e(new og(b5(a),i,o))}).catch(()=>{const a=i+"",o=s.statusText||`HTTP ${i} error`;e(new og(o,i,a))});else{const a=i+"",o=s.statusText||`HTTP ${i} error`;e(new og(o,i,a))}}else e(new gj(b5(t),t))}),yj=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(mj(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r)):i};function wj(t,e,r,n,i,s){return Ue(this,void 0,void 0,function*(){return new Promise((a,o)=>{t(r,yj(e,n,i,s)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>a(l)).catch(l=>vj(l,o,n))})})}function pi(t,e,r,n,i){return Ue(this,void 0,void 0,function*(){return wj(t,"POST",e,n,i,r)})}class bj{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Bv),r),this.fetch=Uv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return Ue(this,void 0,void 0,function*(){try{return{data:(yield pi(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(fi(r))return{data:null,error:r};throw r}})}getIndex(e,r){return Ue(this,void 0,void 0,function*(){try{return{data:yield pi(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fi(n))return{data:null,error:n};throw n}})}listIndexes(e){return Ue(this,void 0,void 0,function*(){try{return{data:yield pi(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(fi(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return Ue(this,void 0,void 0,function*(){try{return{data:(yield pi(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fi(n))return{data:null,error:n};throw n}})}}class xj{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Bv),r),this.fetch=Uv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return Ue(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield pi(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(fi(r))return{data:null,error:r};throw r}})}getVectors(e){return Ue(this,void 0,void 0,function*(){try{return{data:yield pi(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(fi(r))return{data:null,error:r};throw r}})}listVectors(e){return Ue(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield pi(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(fi(r))return{data:null,error:r};throw r}})}queryVectors(e){return Ue(this,void 0,void 0,function*(){try{return{data:yield pi(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(fi(r))return{data:null,error:r};throw r}})}deleteVectors(e){return Ue(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield pi(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(fi(r))return{data:null,error:r};throw r}})}}class _j{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Bv),r),this.fetch=Uv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Ue(this,void 0,void 0,function*(){try{return{data:(yield pi(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(fi(r))return{data:null,error:r};throw r}})}getBucket(e){return Ue(this,void 0,void 0,function*(){try{return{data:yield pi(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(fi(r))return{data:null,error:r};throw r}})}listBuckets(){return Ue(this,arguments,void 0,function*(e={}){try{return{data:yield pi(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(fi(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Ue(this,void 0,void 0,function*(){try{return{data:(yield pi(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(fi(r))return{data:null,error:r};throw r}})}}class Sj extends _j{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new kj(this.url,this.headers,e,this.fetch)}createBucket(e){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return Ue(this,void 0,void 0,function*(){return r.createBucket.call(this,e)})}getBucket(e){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return Ue(this,void 0,void 0,function*(){return r.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return Ue(this,arguments,void 0,function*(r={}){return e.listBuckets.call(this,r)})}deleteBucket(e){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return Ue(this,void 0,void 0,function*(){return r.deleteBucket.call(this,e)})}}class kj extends bj{constructor(e,r,n,i){super(e,r,i),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Ue(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Ue(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Ue(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Ue(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new Nj(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class Nj extends xj{constructor(e,r,n,i,s){super(e,r,s),this.vectorBucketName=n,this.indexName=i}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Ue(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Ue(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Ue(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Ue(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Ue(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Aj extends oj{constructor(e,r={},n,i){super(e,r,n,i)}from(e){return new aj(this.url,this.headers,e,this.fetch)}get vectors(){return new Sj(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new pj(this.url+"/iceberg",this.headers,this.fetch)}}const Ej="2.86.0";let nh="";typeof Deno<"u"?nh="deno":typeof document<"u"?nh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?nh="react-native":nh="node";const jj={"X-Client-Info":`supabase-js-${nh}/${Ej}`},Cj={headers:jj},Lj={schema:"public"},Pj={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Oj={},Tj=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Rj=()=>Headers,Ij=(t,e,r)=>{const n=Tj(r),i=Rj();return async(s,a)=>{var o;const l=(o=await e())!==null&&o!==void 0?o:t;let u=new i(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(s,Object.assign(Object.assign({},a),{headers:u}))}};function Fj(t){return t.endsWith("/")?t:t+"/"}function Dj(t,e){var r,n;const{db:i,auth:s,realtime:a,global:o}=t,{db:l,auth:u,realtime:h,global:p}=e,g={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},h),a),storage:{},global:Object.assign(Object.assign(Object.assign({},p),o),{headers:Object.assign(Object.assign({},(r=p==null?void 0:p.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?g.accessToken=t.accessToken:delete g.accessToken,g}function Mj(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Fj(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const u3="2.86.0",su=30*1e3,h1=3,lg=h1*su,Bj="http://localhost:9999",Uj="supabase.auth.token",zj={"X-Client-Info":`gotrue-js/${u3}`},d1="X-Supabase-Api-Version",c3={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},$j=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,qj=10*60*1e3;class Uh extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function et(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Wj extends Uh{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Hj(t){return et(t)&&t.name==="AuthApiError"}class nl extends Uh{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class To extends Uh{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class hi extends To{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Vj(t){return et(t)&&t.name==="AuthSessionMissingError"}class Ql extends To{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class lf extends To{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class uf extends To{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Gj(t){return et(t)&&t.name==="AuthImplicitGrantRedirectError"}class x5 extends To{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class f1 extends To{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function ug(t){return et(t)&&t.name==="AuthRetryableFetchError"}class _5 extends To{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class p1 extends To{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const vp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),S5=` 	
\r=`.split(""),Kj=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<S5.length;e+=1)t[S5[e].charCodeAt(0)]=-2;for(let e=0;e<vp.length;e+=1)t[vp[e].charCodeAt(0)]=e;return t})();function k5(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(vp[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(vp[n]),e.queuedBits-=6}}function h3(t,e,r){const n=Kj[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function N5(t){const e=[],r=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{Yj(a,n,r)};for(let a=0;a<t.length;a+=1)h3(t.charCodeAt(a),i,s);return e.join("")}function Jj(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Qj(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}Jj(n,e)}}function Yj(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function ju(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)h3(t.charCodeAt(i),r,n);return new Uint8Array(e)}function Xj(t){const e=[];return Qj(t,r=>e.push(r)),new Uint8Array(e)}function ul(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>k5(i,r,n)),k5(null,r,n),e.join("")}function Zj(t){return Math.round(Date.now()/1e3)+t}function eC(){return Symbol("auth-callback")}const ln=()=>typeof window<"u"&&typeof document<"u",Ko={tested:!1,writable:!1},d3=()=>{if(!ln())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ko.tested)return Ko.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ko.tested=!0,Ko.writable=!0}catch{Ko.tested=!0,Ko.writable=!1}return Ko.writable};function tC(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const f3=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),rC=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",au=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Jo=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},qa=async(t,e)=>{await t.removeItem(e)};class Jp{constructor(){this.promise=new Jp.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Jp.promiseConstructor=Promise;function cg(t){const e=t.split(".");if(e.length!==3)throw new p1("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!$j.test(e[n]))throw new p1("JWT not in base64url format");return{header:JSON.parse(N5(e[0])),payload:JSON.parse(N5(e[1])),signature:ju(e[2]),raw:{header:e[0],payload:e[1]}}}async function nC(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function iC(t,e){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await t(s);if(!e(s,null,a)){n(a);return}}catch(a){if(!e(s,a)){i(a);return}}})()})}function sC(t){return("0"+t.toString(16)).substr(-2)}function aC(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,sC).join("")}async function oC(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function lC(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await oC(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Yl(t,e,r=!1){const n=aC();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await au(t,`${e}-code-verifier`,i);const s=await lC(n);return[s,n===s?"plain":"s256"]}const uC=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function cC(t){const e=t.headers.get(d1);if(!e||!e.match(uC))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function hC(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function dC(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const fC=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Xl(t){if(!fC.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function hg(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function pC(t,e){return new Proxy(t,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,i)}})}function A5(t){return JSON.parse(JSON.stringify(t))}const Xo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),gC=[502,503,504];async function E5(t){var e;if(!rC(t))throw new f1(Xo(t),0);if(gC.includes(t.status))throw new f1(Xo(t),t.status);let r;try{r=await t.json()}catch(s){throw new nl(Xo(s),s)}let n;const i=cC(t);if(i&&i.getTime()>=c3["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new _5(Xo(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new hi}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new _5(Xo(r),t.status,r.weak_password.reasons);throw new Wj(Xo(r),t.status||500,n)}const mC=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function lt(t,e,r,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[d1]||(s[d1]=c3["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const a=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await vC(t,e,r+o,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function vC(t,e,r,n,i,s){const a=mC(e,n,i,s);let o;try{o=await t(r,Object.assign({},a))}catch(l){throw console.error(l),new f1(Xo(l),0)}if(o.ok||await E5(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await E5(l)}}function Gi(t){var e;let r=null;bC(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=Zj(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function j5(t){const e=Gi(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function eo(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function yC(t){return{data:t,error:null}}function wC(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=t,a=lc(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function C5(t){return t}function bC(t){return t.access_token&&t.refresh_token&&t.expires_in}const dg=["global","local","others"];class xC{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=f3(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=dg[0]){if(dg.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${dg.join(", ")}`);try{return await lt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(et(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await lt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:eo})}catch(n){if(et(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=lc(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await lt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:wC,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(et(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await lt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:eo})}catch(r){if(et(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,s,a,o,l;try{const u={nextPage:null,lastPage:0,total:0},h=await lt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:C5});if(h.error)throw h.error;const p=await h.json(),g=(a=h.headers.get("x-total-count"))!==null&&a!==void 0?a:0,d=(l=(o=h.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return d.length>0&&(d.forEach(b=>{const x=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(b.split(";")[1].split("=")[1]);u[`${N}Page`]=x}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},p),u),error:null}}catch(u){if(et(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Xl(e);try{return await lt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:eo})}catch(r){if(et(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Xl(e);try{return await lt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:eo})}catch(n){if(et(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Xl(e);try{return await lt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:eo})}catch(n){if(et(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Xl(e.userId);try{const{data:r,error:n}=await lt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(et(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Xl(e.userId),Xl(e.id);try{return{data:await lt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(et(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,i,s,a,o,l;try{const u={nextPage:null,lastPage:0,total:0},h=await lt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:C5});if(h.error)throw h.error;const p=await h.json(),g=(a=h.headers.get("x-total-count"))!==null&&a!==void 0?a:0,d=(l=(o=h.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return d.length>0&&(d.forEach(b=>{const x=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(b.split(";")[1].split("=")[1]);u[`${N}Page`]=x}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},p),u),error:null}}catch(u){if(et(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await lt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(et(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await lt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(et(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await lt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(et(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await lt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(et(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await lt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(et(r))return{data:null,error:r};throw r}}}function L5(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Zl={debug:!!(globalThis&&d3()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class p3 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class _C extends p3{}async function SC(t,e,r){Zl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Zl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Zl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{Zl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Zl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new _C(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Zl.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function kC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function g3(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function NC(t){return parseInt(t,16)}function AC(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function EC(t){var e;const{chainId:r,domain:n,expirationTime:i,issuedAt:s=new Date,nonce:a,notBefore:o,requestId:l,resources:u,scheme:h,uri:p,version:g}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(g!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const d=g3(t.address),b=h?`${h}://${n}`:n,x=t.statement?`${t.statement}
`:"",N=`${b} wants you to sign in with your Ethereum account:
${d}

${x}`;let w=`URI: ${p}
Version: ${g}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${s.toISOString()}`;if(i&&(w+=`
Expiration Time: ${i.toISOString()}`),o&&(w+=`
Not Before: ${o.toISOString()}`),l&&(w+=`
Request ID: ${l}`),u){let S=`
Resources:`;for(const k of u){if(!k||typeof k!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${k}`);S+=`
- ${k}`}w+=S}return`${N}
${w}`}class Ir extends Error{constructor({message:e,code:r,cause:n,name:i}){var s;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=i??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class yp extends Ir{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function jC({error:t,options:e}){var r,n,i;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ir({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ir({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Ir({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Ir({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Ir({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Ir({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new Ir({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Ir({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(m3(a)){if(s.rp.id!==a)return new Ir({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Ir({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Ir({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Ir({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ir({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function CC({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ir({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Ir({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(m3(n)){if(r.rpId!==n)return new Ir({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Ir({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Ir({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ir({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class LC{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const PC=new LC;function OC(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,i=lc(t,["challenge","user","excludeCredentials"]),s=ju(e).buffer,a=Object.assign(Object.assign({},r),{id:ju(r.id).buffer}),o=Object.assign(Object.assign({},i),{challenge:s,user:a});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];o.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:ju(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function TC(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=lc(t,["challenge","allowCredentials"]),i=ju(e).buffer,s=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const o=r[a];s.allowCredentials[a]=Object.assign(Object.assign({},o),{id:ju(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return s}function RC(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:ul(new Uint8Array(t.response.attestationObject)),clientDataJSON:ul(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function IC(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:ul(new Uint8Array(i.authenticatorData)),clientDataJSON:ul(new Uint8Array(i.clientDataJSON)),signature:ul(new Uint8Array(i.signature)),userHandle:i.userHandle?ul(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function m3(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function P5(){var t,e;return!!(ln()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function FC(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new yp("Browser returned unexpected credential type",e)}:{data:null,error:new yp("Empty credential response",e)}}catch(e){return{data:null,error:jC({error:e,options:t})}}}async function DC(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new yp("Browser returned unexpected credential type",e)}:{data:null,error:new yp("Empty credential response",e)}}catch(e){return{data:null,error:CC({error:e,options:t})}}}const MC={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},BC={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function wp(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of t)if(i)for(const s in i){const a=i[s];if(a!==void 0)if(Array.isArray(a))n[s]=a;else if(r(a))n[s]=a;else if(e(a)){const o=n[s];e(o)?n[s]=wp(o,a):n[s]=wp(a)}else n[s]=a}return n}function UC(t,e){return wp(MC,t,e||{})}function zC(t,e){return wp(BC,t,e||{})}class $C{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:i},s){try{const{data:a,error:o}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!a)return{data:null,error:o};const l=i??PC.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:u}=a.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{const u=UC(a.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:h,error:p}=await FC({publicKey:u,signal:l});return h?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}case"request":{const u=zC(a.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:h,error:p}=await DC(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:l}));return h?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}}}catch(a){return et(a)?{data:null,error:a}:{data:null,error:new nl("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new Uh("rpId is required for WebAuthn authentication")};try{if(!P5())return{data:null,error:new nl("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:s});if(!a)return{data:null,error:o};const{webauthn:l}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(a){return et(a)?{data:null,error:a}:{data:null,error:new nl("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new Uh("rpId is required for WebAuthn registration")};try{if(!P5())return{data:null,error:new nl("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(h=>{var p;return(p=h.data)===null||p===void 0?void 0:p.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===e&&g.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:o};const{data:l,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:s});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(a){return et(a)?{data:null,error:a}:{data:null,error:new nl("Unexpected error in register",a)}}}}kC();const qC={url:Bj,storageKey:Uj,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:zj,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function O5(t,e,r){return await r()}const eu={};class zh{get jwks(){var e,r;return(r=(e=eu[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){eu[this.storageKey]=Object.assign(Object.assign({},eu[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=eu[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){eu[this.storageKey]=Object.assign(Object.assign({},eu[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},qC),e);if(this.storageKey=s.storageKey,this.instanceID=(r=zh.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,zh.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&ln()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new xC({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=f3(s.fetch),this.lock=s.lock||O5,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:ln()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=SC:this.lock=O5,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new $C(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:d3()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=L5(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=L5(this.memoryStorage)),ln()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${u3}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(ln()&&(r=tC(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),ln()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Gj(s)){const l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return et(r)?this._returnResult({error:r}):this._returnResult({error:new nl("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const s=await lt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Gi}),{data:a,error:o}=s;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(et(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(e){var r,n,i;try{let s;if("email"in e){const{email:h,password:p,options:g}=e;let d=null,b=null;this.flowType==="pkce"&&([d,b]=await Yl(this.storage,this.storageKey)),s=await lt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:h,password:p,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:d,code_challenge_method:b},xform:Gi})}else if("phone"in e){const{phone:h,password:p,options:g}=e;s=await lt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:p,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},channel:(i=g==null?void 0:g.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:Gi})}else throw new lf("You must provide either an email or phone number and a password");const{data:a,error:o}=s;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(et(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(e){try{let r;if("email"in e){const{email:s,password:a,options:o}=e;r=await lt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:j5})}else if("phone"in e){const{phone:s,password:a,options:o}=e;r=await lt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:j5})}else throw new lf("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const s=new Ql;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(et(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,i,s,a,o,l,u,h,p,g;let d,b;if("message"in e)d=e.message,b=e.signature;else{const{chain:x,wallet:N,statement:w,options:S}=e;let k;if(ln())if(typeof N=="object")k=N;else{const F=window;if("ethereum"in F&&typeof F.ethereum=="object"&&"request"in F.ethereum&&typeof F.ethereum.request=="function")k=F.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=N}const A=new URL((r=S==null?void 0:S.url)!==null&&r!==void 0?r:window.location.href),q=await k.request({method:"eth_requestAccounts"}).then(F=>F).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!q||q.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Y=g3(q[0]);let $=(n=S==null?void 0:S.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!$){const F=await k.request({method:"eth_chainId"});$=NC(F)}const M={domain:A.host,address:Y,statement:w,uri:A.href,version:"1",chainId:$,nonce:(i=S==null?void 0:S.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(s=S==null?void 0:S.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(o=S==null?void 0:S.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=S==null?void 0:S.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=S==null?void 0:S.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(h=S==null?void 0:S.signInWithEthereum)===null||h===void 0?void 0:h.resources};d=EC(M),b=await k.request({method:"personal_sign",params:[AC(d),Y]})}try{const{data:x,error:N}=await lt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:d,signature:b},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Gi});if(N)throw N;if(!x||!x.session||!x.user){const w=new Ql;return this._returnResult({data:{user:null,session:null},error:w})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:N})}catch(x){if(et(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async signInWithSolana(e){var r,n,i,s,a,o,l,u,h,p,g,d;let b,x;if("message"in e)b=e.message,x=e.signature;else{const{chain:N,wallet:w,statement:S,options:k}=e;let A;if(ln())if(typeof w=="object")A=w;else{const Y=window;if("solana"in Y&&typeof Y.solana=="object"&&("signIn"in Y.solana&&typeof Y.solana.signIn=="function"||"signMessage"in Y.solana&&typeof Y.solana.signMessage=="function"))A=Y.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(k!=null&&k.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=w}const q=new URL((r=k==null?void 0:k.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in A&&A.signIn){const Y=await A.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},k==null?void 0:k.signInWithSolana),{version:"1",domain:q.host,uri:q.href}),S?{statement:S}:null));let $;if(Array.isArray(Y)&&Y[0]&&typeof Y[0]=="object")$=Y[0];else if(Y&&typeof Y=="object"&&"signedMessage"in Y&&"signature"in Y)$=Y;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in $&&"signature"in $&&(typeof $.signedMessage=="string"||$.signedMessage instanceof Uint8Array)&&$.signature instanceof Uint8Array)b=typeof $.signedMessage=="string"?$.signedMessage:new TextDecoder().decode($.signedMessage),x=$.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in A)||typeof A.signMessage!="function"||!("publicKey"in A)||typeof A!="object"||!A.publicKey||!("toBase58"in A.publicKey)||typeof A.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${q.host} wants you to sign in with your Solana account:`,A.publicKey.toBase58(),...S?["",S,""]:[""],"Version: 1",`URI: ${q.href}`,`Issued At: ${(i=(n=k==null?void 0:k.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=k==null?void 0:k.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${k.signInWithSolana.notBefore}`]:[],...!((a=k==null?void 0:k.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${k.signInWithSolana.expirationTime}`]:[],...!((o=k==null?void 0:k.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${k.signInWithSolana.chainId}`]:[],...!((l=k==null?void 0:k.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${k.signInWithSolana.nonce}`]:[],...!((u=k==null?void 0:k.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${k.signInWithSolana.requestId}`]:[],...!((p=(h=k==null?void 0:k.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||p===void 0)&&p.length?["Resources",...k.signInWithSolana.resources.map($=>`- ${$}`)]:[]].join(`
`);const Y=await A.signMessage(new TextEncoder().encode(b),"utf8");if(!Y||!(Y instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=Y}}try{const{data:N,error:w}=await lt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:ul(x)},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(d=e.options)===null||d===void 0?void 0:d.captchaToken}}:null),xform:Gi});if(w)throw w;if(!N||!N.session||!N.user){const S=new Ql;return this._returnResult({data:{user:null,session:null},error:S})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:w})}catch(N){if(et(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async _exchangeCodeForSession(e){const r=await Jo(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:s,error:a}=await lt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Gi});if(await qa(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){const o=new Ql;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(et(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:s,nonce:a}=e,o=await lt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Gi}),{data:l,error:u}=o;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const h=new Ql;return this._returnResult({data:{user:null,session:null},error:h})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(et(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,i,s,a;try{if("email"in e){const{email:o,options:l}=e;let u=null,h=null;this.flowType==="pkce"&&([u,h]=await Yl(this.storage,this.storageKey));const{error:p}=await lt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:h},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in e){const{phone:o,options:l}=e,{data:u,error:h}=await lt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h})}throw new lf("You must provide either an email or phone number.")}catch(o){if(et(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(e){var r,n;try{let i,s;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await lt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Gi});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,u=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(et(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var r,n,i,s,a;try{let o=null,l=null;this.flowType==="pkce"&&([o,l]=await Yl(this.storage,this.storageKey));const u=await lt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:yC});return!((s=u.data)===null||s===void 0)&&s.url&&ln()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(o){if(et(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new hi;const{error:i}=await lt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(et(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:s}=e,{error:a}=await lt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:n,type:i,options:s}=e,{data:a,error:o}=await lt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o})}throw new lf("You must provide either an email or phone number and a type")}catch(r){if(et(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Jo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<lg:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const a=await Jo(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=hg()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=pC(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await lt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:eo}):await this._useSession(async r=>{var n,i,s;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new hi}:await lt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:eo})})}catch(r){if(et(r))return Vj(r)&&(await this._removeSession(),await qa(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new hi;const a=i.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await Yl(this.storage,this.storageKey));const{data:u,error:h}=await lt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:eo});if(h)throw h;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(et(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new hi;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:a}=cg(e.access_token);if(a.exp&&(n=a.exp,i=n<=r),i){const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o)return{data:{user:null,session:null},error:null};s=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(et(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:a,error:o}=r;if(o)throw o;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new hi;const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(et(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!ln())throw new uf("No browser detected.");if(e.error||e.error_description||e.error_code)throw new uf(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new x5("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new uf("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new x5("No code detected.");const{data:S,error:k}=await this._exchangeCodeForSession(e.code);if(k)throw k;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:S.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:o,expires_at:l,token_type:u}=e;if(!s||!o||!a||!u)throw new uf("No session defined in URL");const h=Math.round(Date.now()/1e3),p=parseInt(o);let g=h+p;l&&(g=parseInt(l));const d=g-h;d*1e3<=su&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${d}s, should have been closer to ${p}s`);const b=g-p;h-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,g,h):h-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,g,h);const{data:x,error:N}=await this._getUser(s);if(N)throw N;const w={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:p,expires_at:g,refresh_token:a,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:w,redirectType:e.type},error:null})}catch(n){if(et(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Jo(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({error:s});const a=(n=i.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(Hj(o)&&(o.status===404||o.status===401||o.status===403)))return this._returnResult({error:o})}return e!=="others"&&(await this._removeSession(),await qa(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=eC(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Yl(this.storage,this.storageKey,!0));try{return await lt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(et(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(et(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var a,o,l,u,h;const{data:p,error:g}=s;if(g)throw g;const d=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await lt(this.fetch,"GET",d,{headers:this.headers,jwt:(h=(u=p.session)===null||u===void 0?void 0:u.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return ln()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(et(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:s}}=r;if(i)throw i;const{options:a,provider:o,token:l,access_token:u,nonce:h}=e,p=await lt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s==null?void 0:s.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:l,access_token:u,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Gi}),{data:g,error:d}=p;return d?this._returnResult({data:{user:null,session:null},error:d}):!g||!g.session||!g.user?this._returnResult({data:{user:null,session:null},error:new Ql}):(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("USER_UPDATED",g.session)),this._returnResult({data:g,error:d}))}catch(i){if(et(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)throw a;return await lt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(et(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await iC(async i=>(i>0&&await nC(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await lt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Gi})),(i,s)=>{const a=200*Math.pow(2,i);return s&&ug(s)&&Date.now()+a-n<su})}catch(n){if(this._debug(r,"error",n),et(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),ln()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Jo(this.storage,this.storageKey);if(i&&this.userStorage){let a=await Jo(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await au(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:hg()}else if(i&&!i.user&&!i.user){const a=await Jo(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await qa(this.storage,this.storageKey+"-user"),await au(this.storage,this.storageKey,i)):i.user=hg()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<lg;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${lg}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),ug(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(i.access_token);!o&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new hi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Jp;const{data:s,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new hi;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={data:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(i,"error",s),et(s)){const a={data:null,error:s};return ug(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,r)}catch(l){s.push(l)}});if(await Promise.all(a),s.length>0){for(let o=0;o<s.length;o+=1)console.error(s[o]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await au(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=A5(i);await au(this.storage,this.storageKey,s)}else{const i=A5(r);await au(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await qa(this.storage,this.storageKey),await qa(this.storage,this.storageKey+"-code-verifier"),await qa(this.storage,this.storageKey+"-user"),this.userStorage&&await qa(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ln()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),su);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/su);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${su}ms, refresh threshold is ${h1} ticks`),i<=h1&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof p3)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ln()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,a]=await Yl(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(o.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?this._returnResult({data:null,error:s}):await lt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(et(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await lt(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(et(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?RC(e.webauthn.credential_response):IC(e.webauthn.credential_response)})}:{code:e.code}),{data:o,error:l}=await lt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:l}))})}catch(r){if(et(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const a=await lt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:o}=a;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:OC(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:TC(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(et(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=cg(n.access_token);let a=null;s.aal&&(a=s.aal);let o=a;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(o="aal2");const u=s.amr||[];return{data:{currentLevel:a,nextLevel:o,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await lt(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new hi})})}catch(r){if(et(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new hi});const a=await lt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&ln()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(et(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new hi});const a=await lt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&ln()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(et(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await lt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new hi})})}catch(e){if(et(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await lt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new hi})})}catch(r){if(et(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(o=>o.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(o=>o.kid===e),n&&this.jwks_cached_at+qj>i)return n;const{data:s,error:a}=await lt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(o=>o.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:d,error:b}=await this.getSession();if(b||!d.session)return this._returnResult({data:null,error:b});n=d.session.access_token}const{header:i,payload:s,signature:a,raw:{header:o,payload:l}}=cg(n);r!=null&&r.allowExpired||hC(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:d}=await this.getUser(n);if(d)throw d;return{data:{claims:s,header:i,signature:a},error:null}}const h=dC(i.alg),p=await crypto.subtle.importKey("jwk",u,h,!0,["verify"]);if(!await crypto.subtle.verify(h,p,a,Xj(`${o}.${l}`)))throw new p1("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(n){if(et(n))return this._returnResult({data:null,error:n});throw n}}}zh.nextInstanceID={};const WC=zh;class HC extends WC{constructor(e){super(e)}}class VC{constructor(e,r,n){var i,s,a;this.supabaseUrl=e,this.supabaseKey=r;const o=Mj(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const l=`sb-${o.hostname.split(".")[0]}-auth-token`,u={db:Lj,realtime:Oj,auth:Object.assign(Object.assign({},Pj),{storageKey:l}),global:Cj},h=Dj(n??{},u);this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=h.global.headers)!==null&&s!==void 0?s:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(p,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=h.auth)!==null&&a!==void 0?a:{},this.headers,h.global.fetch),this.fetch=Ij(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.accessToken&&this.accessToken().then(p=>this.realtime.setAuth(p)).catch(p=>console.warn("Failed to set initial Realtime auth token:",p)),this.rest=new OE(new URL("rest/v1",o).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new Aj(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new CE(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:s,storageKey:a,flowType:o,lock:l,debug:u,throwOnError:h},p,g){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new HC({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),p),storageKey:a,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:s,flowType:o,lock:l,debug:u,throwOnError:h,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new JE(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const GC=(t,e,r)=>new VC(t,e,r);function KC(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}KC()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const JC="https://pcmwebnnevsbvrwgcpfm.supabase.co",QC="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBjbXdlYm5uZXZzYnZyd2djcGZtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ4MzQ1NzksImV4cCI6MjA4MDQxMDU3OX0.yr6tdxN2D5d1XBeH_18KrItRPjdgP-whXFmmhd_TFcM",Qr=GC(JC,QC,{auth:{storage:sessionStorage,persistSession:!0,autoRefreshToken:!0}}),v3=ne.createContext(void 0);function YC({children:t}){const[e,r]=ne.useState(null),[n,i]=ne.useState(null),[s,a]=ne.useState(!0);ne.useEffect(()=>{let l=!1;async function u(g){const{data:d,error:b}=await Qr.from("users").select("id, email, name, role").eq("external_id",g.id).maybeSingle();if(!l){if(!d||b){i(null);return}i({id:d.id,email:d.email,name:d.name,role:d.role})}}async function h(){a(!0);const{data:{session:g}}=await Qr.auth.getSession();l||(r(g),g!=null&&g.user?await u(g.user):i(null),l||a(!1))}const{data:{subscription:p}}=Qr.auth.onAuthStateChange((g,d)=>{r(d),d!=null&&d.user?u(d.user):i(null)});return h(),()=>{l=!0,p.unsubscribe()}},[]);const o={session:e,user:(e==null?void 0:e.user)??null,profile:n,loading:s};return v.jsx(v3.Provider,{value:o,children:t})}function Qp(){const t=ne.useContext(v3);if(!t)throw new Error("useAuth must be used within AuthProvider");return t}const y3=ne.createContext(void 0),T5="eventhub-theme";function XC({children:t}){const[e,r]=ne.useState("light");ne.useEffect(()=>{var o;const s=typeof window<"u"&&localStorage.getItem(T5);let a="light";s==="light"||s==="dark"?a=s:typeof window<"u"&&(a=((o=window.matchMedia)==null?void 0:o.call(window,"(prefers-color-scheme: dark)").matches)?"dark":"light"),r(a),a==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[]),ne.useEffect(()=>{typeof window>"u"||(e==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem(T5,e))},[e]);function n(){r(s=>s==="dark"?"light":"dark")}const i={theme:e,toggleTheme:n};return v.jsx(y3.Provider,{value:i,children:t})}function ZC(){const t=ne.useContext(y3);if(!t)throw new Error("useTheme must be used within ThemeProvider");return t}const R5=[{to:"/events",label:"Events",icon:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"},{to:"/calendar",label:"Kalender",icon:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"},{to:"/costs",label:"Finanzen",icon:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"}];function eL({children:t}){var p,g;const e=js(),r=Rl(),{profile:n,user:i}=Qp(),{theme:s,toggleTheme:a}=ZC(),[o,l]=ne.useState(!1);async function u(){await Qr.auth.signOut(),r("/login",{replace:!0})}return e.pathname.startsWith("/share/")?v.jsx("div",{className:"min-h-screen bg-slate-50",children:t}):v.jsxs("div",{className:"flex min-h-screen flex-col bg-gradient-to-br from-slate-50 to-slate-100 text-slate-900 dark:from-slate-950 dark:to-slate-900 dark:text-slate-50",children:[v.jsxs("header",{className:"sticky top-0 z-40 border-b border-slate-200/80 bg-white/90 backdrop-blur-lg dark:border-slate-800/80 dark:bg-slate-900/90",children:[v.jsxs("div",{className:"mx-auto flex max-w-7xl items-center justify-between px-4 py-3 sm:px-6",children:[v.jsxs(G_,{to:"/events",className:"flex items-center gap-2.5",children:[v.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-gradient-to-br from-violet-500 to-indigo-600 shadow-md shadow-violet-500/20",children:v.jsx("svg",{className:"h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2.5,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),v.jsxs("div",{className:"flex flex-col",children:[v.jsx("span",{className:"text-base font-bold tracking-tight text-slate-900 dark:text-white",children:"EventHub"}),v.jsx("span",{className:"text-[10px] font-medium uppercase tracking-wider text-violet-600 dark:text-violet-400",children:"Immomio"})]})]}),v.jsxs("nav",{className:"hidden items-center gap-1 md:flex",children:[R5.map(d=>v.jsxs(Qd,{to:d.to,end:d.to==="/events",className:({isActive:b})=>`flex items-center gap-2 rounded-xl px-4 py-2 text-sm font-medium transition-all ${b?"bg-gradient-to-r from-violet-500 to-indigo-600 text-white shadow-md shadow-violet-500/25":"text-slate-600 hover:bg-slate-100 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white"}`,children:[v.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:d.icon})}),d.label]},d.to)),(n==null?void 0:n.role)==="admin"&&v.jsxs(Qd,{to:"/users",className:({isActive:d})=>`flex items-center gap-2 rounded-xl px-4 py-2 text-sm font-medium transition-all ${d?"bg-gradient-to-r from-violet-500 to-indigo-600 text-white shadow-md shadow-violet-500/25":"text-slate-600 hover:bg-slate-100 hover:text-slate-900 dark:text-slate-300 dark:hover:bg-slate-800 dark:hover:text-white"}`,children:[v.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),"Team"]})]}),v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("button",{type:"button",onClick:a,className:"flex h-9 w-9 items-center justify-center rounded-xl border border-slate-200 bg-white text-slate-500 shadow-sm transition-all hover:bg-slate-50 hover:text-slate-700 dark:border-slate-700 dark:bg-slate-800 dark:text-slate-400 dark:hover:bg-slate-700 dark:hover:text-slate-200",title:s==="dark"?"Light Mode":"Dark Mode",children:s==="dark"?v.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}):v.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})})}),i&&v.jsxs("div",{className:"hidden items-center gap-3 md:flex",children:[v.jsxs("div",{className:"flex items-center gap-2.5",children:[v.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-xl bg-gradient-to-br from-violet-500 to-indigo-600 text-sm font-bold text-white shadow-md shadow-violet-500/20",children:((n==null?void 0:n.name)||i.email||"?").charAt(0).toUpperCase()}),v.jsxs("div",{className:"flex flex-col",children:[v.jsx("span",{className:"text-sm font-medium text-slate-900 dark:text-white",children:(n==null?void 0:n.name)||((p=i.email)==null?void 0:p.split("@")[0])}),v.jsx("span",{className:`text-[10px] font-semibold uppercase tracking-wider ${(n==null?void 0:n.role)==="admin"?"text-violet-600 dark:text-violet-400":"text-slate-400"}`,children:(n==null?void 0:n.role)==="admin"?"Admin":"User"})]})]}),v.jsxs("button",{type:"button",onClick:u,className:"flex h-9 items-center gap-1.5 rounded-xl border border-slate-200 bg-white px-3 text-xs font-medium text-slate-600 shadow-sm transition-all hover:bg-slate-50 hover:text-slate-900 dark:border-slate-700 dark:bg-slate-800 dark:text-slate-300 dark:hover:bg-slate-700 dark:hover:text-white",children:[v.jsx("svg",{className:"h-3.5 w-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Logout"]})]}),v.jsx("button",{type:"button",onClick:()=>l(!o),className:"flex h-9 w-9 items-center justify-center rounded-xl border border-slate-200 bg-white text-slate-500 shadow-sm md:hidden dark:border-slate-700 dark:bg-slate-800 dark:text-slate-400",children:o?v.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}):v.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})})})]})]}),o&&v.jsxs("div",{className:"border-t border-slate-200 bg-white px-4 py-4 md:hidden dark:border-slate-800 dark:bg-slate-900",children:[v.jsxs("nav",{className:"flex flex-col gap-1",children:[R5.map(d=>v.jsxs(Qd,{to:d.to,end:d.to==="/events",onClick:()=>l(!1),className:({isActive:b})=>`flex items-center gap-3 rounded-xl px-4 py-3 text-sm font-medium transition-all ${b?"bg-gradient-to-r from-violet-500 to-indigo-600 text-white":"text-slate-600 hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-slate-800"}`,children:[v.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:d.icon})}),d.label]},d.to)),(n==null?void 0:n.role)==="admin"&&v.jsxs(Qd,{to:"/users",onClick:()=>l(!1),className:({isActive:d})=>`flex items-center gap-3 rounded-xl px-4 py-3 text-sm font-medium transition-all ${d?"bg-gradient-to-r from-violet-500 to-indigo-600 text-white":"text-slate-600 hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-slate-800"}`,children:[v.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),"Team"]})]}),i&&v.jsxs("div",{className:"mt-4 flex items-center justify-between border-t border-slate-200 pt-4 dark:border-slate-800",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-br from-violet-500 to-indigo-600 text-sm font-bold text-white",children:((n==null?void 0:n.name)||i.email||"?").charAt(0).toUpperCase()}),v.jsxs("div",{className:"flex flex-col",children:[v.jsx("span",{className:"text-sm font-medium text-slate-900 dark:text-white",children:(n==null?void 0:n.name)||((g=i.email)==null?void 0:g.split("@")[0])}),v.jsx("span",{className:`text-xs font-medium ${(n==null?void 0:n.role)==="admin"?"text-violet-600":"text-slate-400"}`,children:(n==null?void 0:n.role)==="admin"?"Admin":"User"})]})]}),v.jsx("button",{type:"button",onClick:u,className:"rounded-xl border border-slate-200 bg-white px-4 py-2 text-sm font-medium text-slate-600 dark:border-slate-700 dark:bg-slate-800 dark:text-slate-300",children:"Logout"})]})]})]}),v.jsx("main",{className:"mx-auto flex w-full max-w-7xl flex-1 flex-col overflow-hidden px-4 py-6 sm:px-6",children:t})]})}const zv="-",tL=t=>{const e=nL(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:a=>{const o=a.split(zv);return o[0]===""&&o.length!==1&&o.shift(),w3(o,e)||rL(a)},getConflictingClassGroupIds:(a,o)=>{const l=r[a]||[];return o&&n[a]?[...l,...n[a]]:l}}},w3=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?w3(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(zv);return(a=e.validators.find(({validator:o})=>o(s)))==null?void 0:a.classGroupId},I5=/^\[(.+)\]$/,rL=t=>{if(I5.test(t)){const e=I5.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},nL=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return sL(Object.entries(t.classGroups),r).forEach(([s,a])=>{g1(a,n,s,e)}),n},g1=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:F5(e,i);s.classGroupId=r;return}if(typeof i=="function"){if(iL(i)){g1(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([s,a])=>{g1(a,F5(e,s),r,n)})})},F5=(t,e)=>{let r=t;return e.split(zv).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},iL=t=>t.isThemeGetter,sL=(t,e)=>e?t.map(([r,n])=>{const i=n.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,o])=>[e+a,o])):s);return[r,i]}):t,aL=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(s,a)=>{r.set(s,a),e++,e>t&&(e=0,n=r,r=new Map)};return{get(s){let a=r.get(s);if(a!==void 0)return a;if((a=n.get(s))!==void 0)return i(s,a),a},set(s,a){r.has(s)?r.set(s,a):i(s,a)}}},b3="!",oL=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,i=e[0],s=e.length,a=o=>{const l=[];let u=0,h=0,p;for(let N=0;N<o.length;N++){let w=o[N];if(u===0){if(w===i&&(n||o.slice(N,N+s)===e)){l.push(o.slice(h,N)),h=N+s;continue}if(w==="/"){p=N;continue}}w==="["?u++:w==="]"&&u--}const g=l.length===0?o:o.substring(h),d=g.startsWith(b3),b=d?g.substring(1):g,x=p&&p>h?p-h:void 0;return{modifiers:l,hasImportantModifier:d,baseClassName:b,maybePostfixModifierPosition:x}};return r?o=>r({className:o,parseClassName:a}):a},lL=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},uL=t=>({cache:aL(t.cacheSize),parseClassName:oL(t),...tL(t)}),cL=/\s+/,hL=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,s=[],a=t.trim().split(cL);let o="";for(let l=a.length-1;l>=0;l-=1){const u=a[l],{modifiers:h,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:d}=r(u);let b=!!d,x=n(b?g.substring(0,d):g);if(!x){if(!b){o=u+(o.length>0?" "+o:o);continue}if(x=n(g),!x){o=u+(o.length>0?" "+o:o);continue}b=!1}const N=lL(h).join(":"),w=p?N+b3:N,S=w+x;if(s.includes(S))continue;s.push(S);const k=i(x,b);for(let A=0;A<k.length;++A){const q=k[A];s.push(w+q)}o=u+(o.length>0?" "+o:o)}return o};function dL(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=x3(e))&&(n&&(n+=" "),n+=r);return n}const x3=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=x3(t[n]))&&(r&&(r+=" "),r+=e);return r};function fL(t,...e){let r,n,i,s=a;function a(l){const u=e.reduce((h,p)=>p(h),t());return r=uL(u),n=r.cache.get,i=r.cache.set,s=o,o(l)}function o(l){const u=n(l);if(u)return u;const h=hL(l,r);return i(l,h),h}return function(){return s(dL.apply(null,arguments))}}const ir=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},_3=/^\[(?:([a-z-]+):)?(.+)\]$/i,pL=/^\d+\/\d+$/,gL=new Set(["px","full","screen"]),mL=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,vL=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,yL=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,wL=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,bL=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ys=t=>Cu(t)||gL.has(t)||pL.test(t),Wa=t=>hc(t,"length",jL),Cu=t=>!!t&&!Number.isNaN(Number(t)),fg=t=>hc(t,"number",Cu),Gc=t=>!!t&&Number.isInteger(Number(t)),xL=t=>t.endsWith("%")&&Cu(t.slice(0,-1)),kt=t=>_3.test(t),Ha=t=>mL.test(t),_L=new Set(["length","size","percentage"]),SL=t=>hc(t,_L,S3),kL=t=>hc(t,"position",S3),NL=new Set(["image","url"]),AL=t=>hc(t,NL,LL),EL=t=>hc(t,"",CL),Kc=()=>!0,hc=(t,e,r)=>{const n=_3.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},jL=t=>vL.test(t)&&!yL.test(t),S3=()=>!1,CL=t=>wL.test(t),LL=t=>bL.test(t),PL=()=>{const t=ir("colors"),e=ir("spacing"),r=ir("blur"),n=ir("brightness"),i=ir("borderColor"),s=ir("borderRadius"),a=ir("borderSpacing"),o=ir("borderWidth"),l=ir("contrast"),u=ir("grayscale"),h=ir("hueRotate"),p=ir("invert"),g=ir("gap"),d=ir("gradientColorStops"),b=ir("gradientColorStopPositions"),x=ir("inset"),N=ir("margin"),w=ir("opacity"),S=ir("padding"),k=ir("saturate"),A=ir("scale"),q=ir("sepia"),Y=ir("skew"),$=ir("space"),M=ir("translate"),F=()=>["auto","contain","none"],V=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto",kt,e],R=()=>[kt,e],K=()=>["",Ys,Wa],J=()=>["auto",Cu,kt],de=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],me=()=>["solid","dashed","dotted","double","none"],pe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Q=()=>["start","end","center","between","around","evenly","stretch"],se=()=>["","0",kt],fe=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ge=()=>[Cu,kt];return{cacheSize:500,separator:":",theme:{colors:[Kc],spacing:[Ys,Wa],blur:["none","",Ha,kt],brightness:ge(),borderColor:[t],borderRadius:["none","","full",Ha,kt],borderSpacing:R(),borderWidth:K(),contrast:ge(),grayscale:se(),hueRotate:ge(),invert:se(),gap:R(),gradientColorStops:[t],gradientColorStopPositions:[xL,Wa],inset:L(),margin:L(),opacity:ge(),padding:R(),saturate:ge(),scale:ge(),sepia:se(),skew:ge(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",kt]}],container:["container"],columns:[{columns:[Ha]}],"break-after":[{"break-after":fe()}],"break-before":[{"break-before":fe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...de(),kt]}],overflow:[{overflow:V()}],"overflow-x":[{"overflow-x":V()}],"overflow-y":[{"overflow-y":V()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Gc,kt]}],basis:[{basis:L()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",kt]}],grow:[{grow:se()}],shrink:[{shrink:se()}],order:[{order:["first","last","none",Gc,kt]}],"grid-cols":[{"grid-cols":[Kc]}],"col-start-end":[{col:["auto",{span:["full",Gc,kt]},kt]}],"col-start":[{"col-start":J()}],"col-end":[{"col-end":J()}],"grid-rows":[{"grid-rows":[Kc]}],"row-start-end":[{row:["auto",{span:[Gc,kt]},kt]}],"row-start":[{"row-start":J()}],"row-end":[{"row-end":J()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",kt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",kt]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...Q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[S]}],px:[{px:[S]}],py:[{py:[S]}],ps:[{ps:[S]}],pe:[{pe:[S]}],pt:[{pt:[S]}],pr:[{pr:[S]}],pb:[{pb:[S]}],pl:[{pl:[S]}],m:[{m:[N]}],mx:[{mx:[N]}],my:[{my:[N]}],ms:[{ms:[N]}],me:[{me:[N]}],mt:[{mt:[N]}],mr:[{mr:[N]}],mb:[{mb:[N]}],ml:[{ml:[N]}],"space-x":[{"space-x":[$]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[$]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",kt,e]}],"min-w":[{"min-w":[kt,e,"min","max","fit"]}],"max-w":[{"max-w":[kt,e,"none","full","min","max","fit","prose",{screen:[Ha]},Ha]}],h:[{h:[kt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[kt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[kt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[kt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ha,Wa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",fg]}],"font-family":[{font:[Kc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",kt]}],"line-clamp":[{"line-clamp":["none",Cu,fg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ys,kt]}],"list-image":[{"list-image":["none",kt]}],"list-style-type":[{list:["none","disc","decimal",kt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...me(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ys,Wa]}],"underline-offset":[{"underline-offset":["auto",Ys,kt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",kt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",kt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...de(),kL]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",SL]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},AL]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[d]}],"gradient-via":[{via:[d]}],"gradient-to":[{to:[d]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...me(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:me()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...me()]}],"outline-offset":[{"outline-offset":[Ys,kt]}],"outline-w":[{outline:[Ys,Wa]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:K()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Ys,Wa]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ha,EL]}],"shadow-color":[{shadow:[Kc]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...pe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":pe()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Ha,kt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[p]}],saturate:[{saturate:[k]}],sepia:[{sepia:[q]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[k]}],"backdrop-sepia":[{"backdrop-sepia":[q]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",kt]}],duration:[{duration:ge()}],ease:[{ease:["linear","in","out","in-out",kt]}],delay:[{delay:ge()}],animate:[{animate:["none","spin","ping","pulse","bounce",kt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[Gc,kt]}],"translate-x":[{"translate-x":[M]}],"translate-y":[{"translate-y":[M]}],"skew-x":[{"skew-x":[Y]}],"skew-y":[{"skew-y":[Y]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",kt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",kt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",kt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ys,Wa,fg]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},k3=fL(PL);function Zo({variant:t="primary",children:e,className:r,...n}){const i="inline-flex items-center justify-center rounded-full px-4 py-2 text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-60",s={primary:"bg-brand text-white hover:bg-brand-dark",secondary:"bg-white text-slate-900 border border-slate-200 hover:bg-slate-50",ghost:"bg-transparent text-slate-700 hover:bg-slate-100"};return v.jsx("button",{className:k3(i,s[t],r),...n,children:e})}function Hr({className:t,...e}){return v.jsx("input",{className:k3("block w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 shadow-sm placeholder:text-slate-400 focus:border-brand focus:outline-none focus:ring-1 focus:ring-brand",t),...e})}function OL(){var g,d;const[t,e]=ne.useState(""),[r,n]=ne.useState(""),[i,s]=ne.useState(!1),[a,o]=ne.useState(null),l=Rl(),h=((d=(g=js().state)==null?void 0:g.from)==null?void 0:d.pathname)||"/events";async function p(b){b.preventDefault(),s(!0),o(null);const{error:x}=await Qr.auth.signInWithPassword({email:t,password:r});if(x){o(x.message),s(!1);return}s(!1),l(h,{replace:!0})}return v.jsx("div",{className:"flex min-h-[60vh] items-center justify-center",children:v.jsxs("div",{className:"w-full max-w-md rounded-2xl bg-white p-8 shadow-sm",children:[v.jsx("h1",{className:"mb-2 text-xl font-semibold text-slate-900",children:"Login"}),v.jsxs("p",{className:"mb-6 text-sm text-slate-500",children:["Bitte mit deiner ",v.jsx("span",{className:"font-medium",children:"@immomio.de"}),"-Adresse anmelden."]}),v.jsxs("form",{className:"space-y-4",onSubmit:p,children:[v.jsxs("div",{children:[v.jsx("label",{className:"mb-1 block text-sm font-medium text-slate-700",htmlFor:"email",children:"E-Mail"}),v.jsx(Hr,{id:"email",type:"email",autoComplete:"email",required:!0,value:t,onChange:b=>e(b.target.value),placeholder:"du@immomio.de"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"mb-1 block text-sm font-medium text-slate-700",htmlFor:"password",children:"Passwort"}),v.jsx(Hr,{id:"password",type:"password",autoComplete:"current-password",required:!0,value:r,onChange:b=>n(b.target.value),placeholder:""})]}),a&&v.jsx("p",{className:"text-sm text-red-600",children:a}),v.jsx(Zo,{type:"submit",className:"w-full",disabled:i,children:i?"Anmelden":"Anmelden"})]})]})})}function N3(){return ed({queryKey:["events"],queryFn:async()=>{const{data:t,error:e}=await Qr.from("events").select(["id","title","organizer","start_date","end_date","city","location","status","booked","colleagues","tags","cost_type","cost_value","event_url","notes","attachments","linkedin_plan","linkedin_note","publication_status"].join(", ")).order("start_date",{ascending:!0});if(e)throw e;return t??[]}})}function TL(){const t=Po();return Il({mutationFn:async e=>{const{data:r,error:n}=await Qr.from("events").insert({title:e.title,organizer:e.organizer??null,city:e.city??null,start_date:e.start_date??null,end_date:e.end_date??null,cost_type:e.cost_type,cost_value:e.cost_value}).select("id").single();if(n)throw n;return r},onSuccess:()=>{t.invalidateQueries({queryKey:["events"]}),Kn.success("Event wurde erstellt")},onError:e=>{Kn.error(`Fehler beim Erstellen: ${e.message}`)}})}function RL(){const t=Po();return Il({mutationFn:async e=>{const{id:r,...n}=e,{data:i,error:s}=await Qr.from("events").update({...n,updated_at:new Date().toISOString()}).eq("id",r).select("id").single();if(s)throw s;return{id:r,...n}},onSuccess:e=>{t.setQueryData(["events"],r=>r&&r.map(n=>n.id===e.id?{...n,...e}:n)),t.invalidateQueries({queryKey:["events"]}),Kn.success("nderungen gespeichert")},onError:e=>{Kn.error(`Fehler beim Speichern: ${e.message}`)}})}function IL(){const t=Po();return Il({mutationFn:async e=>{const{error:r}=await Qr.from("events").delete().eq("id",e);if(r)throw r},onSuccess:()=>{t.invalidateQueries({queryKey:["events"]}),t.invalidateQueries({queryKey:["event_costs"]}),Kn.success("Event wurde gelscht")},onError:e=>{Kn.error(`Fehler beim Lschen: ${e.message}`)}})}function FL(t){return ed({queryKey:["event-history",t],enabled:!!t,queryFn:async()=>{const{data:e,error:r}=await Qr.from("event_history").select("id, event_id, action, timestamp").eq("event_id",t).order("timestamp",{ascending:!1});if(r)throw r;return e??[]}})}function DL(){const t=Po();return Il({mutationFn:async e=>{const{eventId:r,action:n}=e,{data:i,error:s}=await Qr.from("event_history").insert({event_id:r,action:n}).select("id, event_id, action, timestamp").single();if(s)throw s;return i},onSuccess:(e,r)=>{t.invalidateQueries({queryKey:["event-history",r.eventId]})}})}function ML(){return Il({mutationFn:async({eventId:t,file:e})=>{const r="event-documents",n=e.name.replace(/[^a-zA-Z0-9_.-]/g,"_"),i=`${t}/${Date.now()}-${n}`,{error:s}=await Qr.storage.from(r).upload(i,e,{cacheControl:"3600",upsert:!1});if(s)throw s;const{data:a}=Qr.storage.from(r).getPublicUrl(i);return{publicUrl:a.publicUrl,path:i}}})}function BL(t){const e=`${window.location.origin}/events?id=${t}`;navigator.clipboard.writeText(e).then(()=>{Kn.success("Link kopiert!")}).catch(()=>{Kn.error("Link konnte nicht kopiert werden")})}function UL(t){if(!t)return"";const e=new Date(t);return Number.isNaN(e.getTime())?"":e.toLocaleDateString("de-DE")}function D5(t){const e=t.trim();return e?/^https?:\/\//i.test(e)?e:`https://${e}`:""}function Jc(t,e){return t==="cancelled"?"abgesagt":t==="attended"||e?"gebucht":t==="consider"?"bewertung":"geplant"}function M5(t){switch(t){case"bewertung":return{status:"consider",booked:!1};case"geplant":return{status:"planned",booked:!1};case"gebucht":return{status:"attended",booked:!0};case"abgesagt":return{status:"cancelled",booked:!1};default:return{status:"planned",booked:!1}}}function zL(){var Na;const[t,e]=X8(),{data:r,isLoading:n,error:i}=N3(),s=r??[],[a,o]=ne.useState(null);ne.useEffect(()=>{const le=t.get("id");le&&s.length>0&&s.some(Bt=>Bt.id===le)&&(o(le),e({},{replace:!0}))},[t,s,e]);const[l,u]=ne.useState(!1),[h,p]=ne.useState(""),[g,d]=ne.useState("all"),[b,x]=ne.useState("all"),[N,w]=ne.useState(""),[S,k]=ne.useState(""),[A,q]=ne.useState(""),[Y,$]=ne.useState(""),[M,F]=ne.useState(""),[V,L]=ne.useState(""),[R,K]=ne.useState(""),[J,de]=ne.useState(""),[me,pe]=ne.useState(""),Q=TL(),se=RL(),fe=IL(),[ge,C]=ne.useState(null),[W,H]=ne.useState(""),[ee,te]=ne.useState("planned"),[ae,ye]=ne.useState(""),[ve,_e]=ne.useState(""),[je,Te]=ne.useState(""),[Re,He]=ne.useState(""),[D,G]=ne.useState(""),[Ne,Pe]=ne.useState(""),[be,Je]=ne.useState(""),[Fe,Qe]=ne.useState("participant"),[Ve,Ct]=ne.useState(""),[ft,qe]=ne.useState(""),[at,xt]=ne.useState(""),[ze,ht]=ne.useState(""),[Xe,lr]=ne.useState(!1),[Et,yt]=ne.useState(""),[mt,Gt]=ne.useState(!1),[rt,Mt]=ne.useState(!1),ot=ne.useRef(null),ut=Jc(ee,rt),Yt=Array.from(new Set(s.map(le=>le.organizer).filter(le=>!!le))).sort((le,pt)=>le.localeCompare(pt,"de-DE")),Nt=Array.from(new Set(s.map(le=>le.city).filter(le=>!!le))).sort((le,pt)=>le.localeCompare(pt,"de-DE")),it=new Set;s.forEach(le=>{(le.colleagues||[]).forEach(pt=>{pt&&it.add(pt)})});const Dt=Array.from(it).sort((le,pt)=>le.localeCompare(pt,"de-DE")),os=new Set;s.forEach(le=>{(le.tags||[]).forEach(pt=>{pt&&os.add(pt)})});const Yr=Array.from(os).sort((le,pt)=>le.localeCompare(pt,"de-DE")),xi=new Set;s.forEach(le=>{const pt=le.start_date??le.end_date;if(pt){const Bt=new Date(pt).getFullYear();Number.isNaN(Bt)||xi.add(Bt)}});const _i=Array.from(xi).sort((le,pt)=>pt-le),st=h.trim().toLowerCase(),kn=s.filter(le=>{const pt=Jc(le.status,le.booked);if(g!=="all"&&pt!==g)return!1;const Bt=le.start_date??le.end_date??null;return!(b!=="all"&&Bt&&new Date(Bt).getFullYear()!==b||st&&![le.title,le.city,le.organizer,(le.colleagues||[]).join(" "),(le.tags||[]).join(" ")].filter(Boolean).join(" ").toLowerCase().includes(st)||N&&le.organizer!==N||S&&le.city!==S||A&&!(le.colleagues||[]).includes(A)||Y&&!(le.tags||[]).includes(Y))}),Si=a&&kn.some(le=>le.id===a)?a:((Na=kn[0])==null?void 0:Na.id)??null,Oe=s.find(le=>le.id===Si),{data:dn=[],isLoading:Xt}=FL(Si??null),Pr=DL(),_r=ML(),Ls=Ne.split(",").map(le=>le.trim()).filter(Boolean),ls=be.split(",").map(le=>le.trim()).filter(Boolean),Bn=at.split(`
`).map(le=>le.trim()).filter(Boolean),Zn=Bn,ei=Number(Ve.replace(",","."))||0,Un=!!(Oe&&(W.trim()!==(Oe.title??"")||ae.trim()!==(Oe.organizer??"")||ve.trim()!==(Oe.city??"")||je.trim()!==(Oe.location??"")||Re!==(Oe.start_date??"")||D!==(Oe.end_date??"")||ee!==Oe.status||rt!==Oe.booked||Fe!==Oe.cost_type||ei!==(Oe.cost_value??0)||ft.trim()!==(Oe.event_url??"")||ze.trim()!==(Oe.notes??"")||!!Et.trim()!==Oe.linkedin_plan||Et.trim()!==(Oe.linkedin_note??"")||mt!==Oe.publication_status||JSON.stringify(Ls)!==JSON.stringify(Oe.colleagues||[])||JSON.stringify(ls)!==JSON.stringify(Oe.tags||[])||JSON.stringify(Bn)!==JSON.stringify(Oe.attachments||[])));ne.useEffect(()=>{if(!Oe){H(""),te("planned"),ye(""),_e(""),Te(""),He(""),G(""),Pe(""),Je(""),Qe("participant"),Ct(""),qe(""),xt(""),ht(""),lr(!1),yt(""),Gt(!1),Mt(!1);return}H(Oe.title??""),te(Oe.status),ye(Oe.organizer??""),_e(Oe.city??""),Te(Oe.location??""),He(Oe.start_date??""),G(Oe.end_date??""),Pe((Oe.colleagues||[]).join(", ")),Je((Oe.tags||[]).join(", ")),Qe(Oe.cost_type),Ct(String(Oe.cost_value??"")),qe(Oe.event_url??""),xt((Oe.attachments||[]).join(`
`)),ht(Oe.notes??""),lr(Oe.linkedin_plan),yt(Oe.linkedin_note??""),Gt(Oe.publication_status),Mt(Oe.booked)},[Oe==null?void 0:Oe.id]);async function zn(le){if(le.preventDefault(),!M.trim())return;const pt=Number(me.replace(",","."))||0;try{await Q.mutateAsync({title:M.trim(),city:V.trim()||null,organizer:R.trim()||null,start_date:J||null,cost_type:"participant",cost_value:pt}),F(""),L(""),K(""),de(""),pe(""),u(!1)}catch{}}function Ps(le){switch(le){case"bewertung":return"Bewertung";case"geplant":return"Geplant";case"gebucht":return"Gebucht";case"abgesagt":return"Abgesagt";default:return le}}async function ti(le){if(!Oe)return;let pt=ee,Bt=rt;if(le){const pn=M5("gebucht");pt=pn.status,Bt=pn.booked,te(pt),Mt(Bt)}const Or=Jc(Oe.status,Oe.booked),Dr=Jc(pt,Bt),Nn=[];le&&Or!=="gebucht"&&Dr==="gebucht"&&Nn.push("Als gebucht markiert"),Or!==Dr&&Nn.push(`Status gendert zu: ${Ps(Dr)}`);const us=Number(Ve.replace(",","."))||0,Ts=Ne.split(",").map(pn=>pn.trim()).filter(Boolean),Rs=be.split(",").map(pn=>pn.trim()).filter(Boolean),fn=at.split(`
`).map(pn=>pn.trim()).filter(Boolean),cs=Et.trim(),Ml=!!cs,Lt=[];W.trim()!==(Oe.title??"")&&Lt.push("Titel"),ae.trim()!==(Oe.organizer??"")&&Lt.push("Veranstalter"),(ve.trim()!==(Oe.city??"")||je.trim()!==(Oe.location??""))&&Lt.push("Ort/Location"),(Re!==(Oe.start_date??"")||D!==(Oe.end_date??""))&&Lt.push("Zeitraum"),(Fe!==Oe.cost_type||us!==(Oe.cost_value??0))&&Lt.push("Kosten"),ft.trim()!==(Oe.event_url??"")&&Lt.push("Event-URL"),ze.trim()!==(Oe.notes??"")&&Lt.push("Notizen"),(Ml!==Oe.linkedin_plan||cs!==(Oe.linkedin_note??""))&&Lt.push("LinkedIn-Planung"),mt!==Oe.publication_status&&Lt.push("Website-Status");const Bl=Oe.colleagues||[],ki=Oe.tags||[],Aa=Oe.attachments||[];JSON.stringify(Ts)!==JSON.stringify(Bl)&&Lt.push("Kolleg:innen"),JSON.stringify(Rs)!==JSON.stringify(ki)&&Lt.push("Tags"),JSON.stringify(fn)!==JSON.stringify(Aa)&&Lt.push("Anhnge"),Lt.length>0&&Nn.push(`Eventdaten gendert (${Lt.join(", ")})`);try{await se.mutateAsync({id:Oe.id,title:W.trim(),organizer:ae.trim()||null,city:ve.trim()||null,location:je.trim()||null,start_date:Re||null,end_date:D||null,status:pt,booked:Bt,colleagues:Ts,tags:Rs,cost_type:Fe,cost_value:us,event_url:ft.trim()||null,notes:ze.trim()||null,attachments:fn,linkedin_plan:Ml,linkedin_note:cs||null,publication_status:mt}),Nn.forEach(pn=>{pn&&Pr.mutate({eventId:Oe.id,action:pn})})}catch{}}function Os(){var le;Oe&&((le=ot.current)==null||le.click())}function _a(le){var Bt;if(!Oe)return;const pt=(Bt=le.target.files)==null?void 0:Bt[0];pt&&_r.mutate({eventId:Oe.id,file:pt},{onSuccess:Or=>{const Dr=Or.publicUrl;if(!Dr)return;const Nn=at.trim(),us=Nn?`${Nn}
${Dr}`:Dr;xt(us)},onSettled:()=>{le.target.value=""}})}function Sa(){ti()}function ka(){ti(!0)}async function fc(){if(ge)try{await fe.mutateAsync(ge),C(null),a===ge&&o(null)}catch{}}return v.jsxs("div",{className:"flex min-h-0 w-full flex-1 flex-col space-y-4 overflow-hidden",children:[v.jsxs("div",{className:"flex items-center justify-between gap-4",children:[v.jsxs("div",{className:"flex flex-1 items-center gap-3",children:[v.jsx(Hr,{placeholder:"Suche in Titel, Ort, Veranstalter",className:"max-w-md",value:h,onChange:le=>p(le.target.value)}),v.jsxs("select",{className:"h-9 rounded-full border border-slate-200 bg-white px-3 text-xs font-medium text-slate-700 shadow-sm",value:g,onChange:le=>d(le.target.value),children:[v.jsx("option",{value:"all",children:"Status"}),v.jsx("option",{value:"bewertung",children:"Bewertung"}),v.jsx("option",{value:"geplant",children:"Geplant"}),v.jsx("option",{value:"gebucht",children:"Gebucht"}),v.jsx("option",{value:"abgesagt",children:"Abgesagt"})]}),v.jsxs("select",{className:"h-9 rounded-full border border-slate-200 bg-white px-3 text-xs font-medium text-slate-700 shadow-sm",value:b,onChange:le=>x(le.target.value==="all"?"all":Number(le.target.value)),children:[v.jsx("option",{value:"all",children:"Jahr"}),_i.map(le=>v.jsx("option",{value:le,children:le},le))]})]}),v.jsx(Zo,{type:"button",onClick:()=>u(le=>!le),children:l?"Abbrechen":"+ Neues Event"})]}),l&&v.jsxs("form",{onSubmit:zn,className:"grid gap-3 rounded-2xl border border-dashed border-slate-300 bg-white/80 p-4 text-xs shadow-sm md:grid-cols-5",children:[v.jsxs("div",{className:"md:col-span-2",children:[v.jsx("label",{className:"mb-1 block font-medium text-slate-700",children:"Titel"}),v.jsx(Hr,{value:M,onChange:le=>F(le.target.value),placeholder:"z. B. Verbandstag Nds-HB",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"mb-1 block font-medium text-slate-700",children:"Ort"}),v.jsx(Hr,{value:V,onChange:le=>L(le.target.value),placeholder:"Stadt"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"mb-1 block font-medium text-slate-700",children:"Veranstalter"}),v.jsx(Hr,{value:R,onChange:le=>K(le.target.value),placeholder:"z. B. VNW"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"mb-1 block font-medium text-slate-700",children:"Startdatum"}),v.jsx(Hr,{type:"date",value:J,onChange:le=>de(le.target.value)})]}),v.jsxs("div",{children:[v.jsx("label",{className:"mb-1 block font-medium text-slate-700",children:"Ticketpreis (optional)"}),v.jsx(Hr,{value:me,onChange:le=>pe(le.target.value),placeholder:"z. B. 690,00"})]}),v.jsx("div",{className:"flex items-end justify-end md:col-span-5",children:v.jsx(Zo,{type:"submit",disabled:Q.isPending||!M.trim(),children:Q.isPending?"Speichere":"Event anlegen"})})]}),v.jsxs("div",{className:"flex flex-wrap gap-3 text-xs text-slate-600",children:[v.jsxs("select",{className:"h-8 min-w-[11rem] rounded-full border border-slate-200 bg-white px-3 pr-8 text-xs font-medium text-slate-700 shadow-sm",value:N,onChange:le=>w(le.target.value),children:[v.jsx("option",{value:"",children:"Alle Veranstalter"}),Yt.map(le=>v.jsx("option",{value:le,children:le},le))]}),v.jsxs("select",{className:"h-8 min-w-[9rem] rounded-full border border-slate-200 bg-white px-3 pr-8 text-xs font-medium text-slate-700 shadow-sm",value:S,onChange:le=>k(le.target.value),children:[v.jsx("option",{value:"",children:"Alle Orte"}),Nt.map(le=>v.jsx("option",{value:le,children:le},le))]}),v.jsxs("select",{className:"h-8 min-w-[11rem] rounded-full border border-slate-200 bg-white px-3 pr-8 text-xs font-medium text-slate-700 shadow-sm",value:A,onChange:le=>q(le.target.value),children:[v.jsx("option",{value:"",children:"Alle Kolleg:innen"}),Dt.map(le=>v.jsx("option",{value:le,children:le},le))]}),v.jsxs("select",{className:"h-8 min-w-[9rem] rounded-full border border-slate-200 bg-white px-3 pr-8 text-xs font-medium text-slate-700 shadow-sm",value:Y,onChange:le=>$(le.target.value),children:[v.jsx("option",{value:"",children:"Alle Tags"}),Yr.map(le=>v.jsx("option",{value:le,children:le},le))]})]}),v.jsxs("div",{className:"grid min-h-0 flex-1 gap-4 overflow-hidden lg:grid-cols-[minmax(0,2fr)_minmax(0,3fr)]",children:[v.jsxs("div",{className:"flex min-h-0 flex-col overflow-hidden rounded-2xl border border-slate-200 bg-white shadow-sm",children:[v.jsxs("div",{className:"shrink-0 border-b border-slate-100 bg-slate-50 px-4 py-2 text-xs font-semibold uppercase tracking-wide text-slate-500",children:["Events (",kn.length,")"]}),v.jsxs("div",{className:"min-h-0 flex-1 divide-y divide-slate-100 overflow-y-auto text-sm",children:[n&&v.jsx("div",{className:"px-4 py-3 text-xs text-slate-400",children:"Lade Events"}),i&&v.jsxs("div",{className:"px-4 py-3 text-xs text-red-600",children:["Fehler beim Laden: ",i.message]}),!n&&!i&&s.length===0&&v.jsx("div",{className:"px-4 py-3 text-xs text-slate-400",children:"Keine Events vorhanden."}),!n&&!i&&s.length>0&&kn.length===0&&v.jsx("div",{className:"px-4 py-3 text-xs text-slate-400",children:"Keine Events fr die aktuellen Filter."}),!n&&!i&&kn.map(le=>{const pt=(Oe==null?void 0:Oe.id)===le.id,Bt=Jc(le.status,le.booked);let Or="",Dr="";switch(Bt){case"bewertung":Or="Bewertung",Dr="border-amber-100 bg-amber-50 text-amber-700";break;case"geplant":Or="Geplant",Dr="border-sky-100 bg-sky-50 text-sky-700";break;case"gebucht":Or="Gebucht",Dr="border-emerald-200 bg-emerald-50 text-emerald-700";break;case"abgesagt":Or="Abgesagt",Dr="border-rose-100 bg-rose-50 text-rose-700";break;default:Or="",Dr="border-slate-200 bg-slate-100 text-slate-700"}const Nn="inline-flex items-center rounded-full border px-3 py-0.5 text-xs font-semibold",Ts=[(le.colleagues||[]).join(", "),le.city,le.organizer].filter(Boolean).join("  "),Rs=UL(le.start_date)||"kein Datum",fn=le.city??"";return v.jsxs("button",{type:"button",onClick:()=>o(le.id),className:`flex w-full items-center gap-3 px-4 py-3 text-left transition-colors ${pt?"bg-slate-900 text-white hover:bg-slate-900":"hover:bg-slate-50"}`,children:[v.jsxs("div",{className:"w-24 text-xs",children:[v.jsx("div",{className:pt?"text-slate-300":"text-slate-500",children:Rs}),fn&&v.jsx("div",{className:"mt-0.5 text-[11px] text-slate-400",children:fn})]}),v.jsxs("div",{className:"flex-1",children:[v.jsx("div",{className:`font-medium ${pt?"text-white":"text-slate-900 dark:text-slate-50"}`,children:le.title}),v.jsx("div",{className:`text-xs ${pt?"text-slate-300":"text-slate-500"}`,children:Ts})]}),Or&&v.jsx("span",{className:`${Nn} ${Dr} ${pt?"ring-1 ring-white/40":""}`,children:Or})]},le.id)})]})]}),v.jsxs("div",{className:"flex min-h-0 flex-col overflow-hidden rounded-2xl border border-slate-200 bg-white shadow-sm",children:[v.jsxs("div",{className:"flex shrink-0 items-center justify-between border-b border-slate-100 px-4 py-2 text-xs font-semibold uppercase tracking-wide text-slate-500",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("span",{children:"Event-Management"}),Oe&&v.jsxs("select",{className:`cursor-pointer appearance-none rounded-full border px-3 py-1 pr-7 text-xs font-semibold normal-case tracking-normal ${ut==="bewertung"?"border-amber-200 bg-amber-50 text-amber-700":ut==="geplant"?"border-sky-200 bg-sky-50 text-sky-700":ut==="gebucht"?"border-emerald-200 bg-emerald-50 text-emerald-700":"border-rose-200 bg-rose-50 text-rose-700"}`,value:ut,onChange:le=>{const pt=M5(le.target.value);te(pt.status),Mt(pt.booked)},style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 6px center",backgroundSize:"14px"},children:[v.jsx("option",{value:"bewertung",children:"Bewertung"}),v.jsx("option",{value:"geplant",children:"Geplant"}),v.jsx("option",{value:"gebucht",children:"Gebucht"}),v.jsx("option",{value:"abgesagt",children:"Abgesagt"})]})]}),Oe&&v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("button",{type:"button",onClick:()=>BL(Oe.id),className:"flex h-8 w-8 items-center justify-center rounded-full border border-slate-200 bg-white text-slate-500 shadow-sm transition-colors hover:bg-slate-50 hover:text-slate-700",title:"Link kopieren",children:v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"}),v.jsx("polyline",{points:"16 6 12 2 8 6"}),v.jsx("line",{x1:"12",y1:"2",x2:"12",y2:"15"})]})}),v.jsx("button",{type:"button",onClick:()=>C(Oe.id),className:"flex h-8 w-8 items-center justify-center rounded-full border border-rose-200 bg-white text-rose-500 shadow-sm transition-colors hover:bg-rose-50 hover:text-rose-600",title:"Event lschen",children:v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("path",{d:"M3 6h18"}),v.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),v.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),v.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),v.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})}),v.jsx(Zo,{type:"button",variant:Un?"primary":"secondary",className:"h-8 px-3 text-xs",onClick:Sa,disabled:se.isPending||!Un,children:se.isPending?"Speichere":"nderungen speichern"})]})]}),v.jsx("div",{className:"min-h-0 flex-1 overflow-y-auto",children:Oe?v.jsxs("div",{className:"grid gap-4 px-4 py-4 md:grid-cols-2",children:[v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{children:[v.jsx("label",{className:"mb-1 block text-xs font-medium text-slate-700",children:"Titel"}),v.jsx(Hr,{value:W,onChange:le=>H(le.target.value)})]}),v.jsxs("div",{children:[v.jsx("label",{className:"mb-1 block text-xs font-medium text-slate-700",children:"Veranstalter"}),v.jsx(Hr,{value:ae,onChange:le=>ye(le.target.value)})]}),v.jsxs("div",{children:[v.jsx("label",{className:"mb-1 block text-xs font-medium text-slate-700",children:"Tags (z. B. Verband, Kongress)"}),v.jsx(Hr,{value:be,onChange:le=>Je(le.target.value),placeholder:"Verband, Kongress"})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[v.jsxs("div",{children:[v.jsx("label",{className:"mb-1 block text-xs font-medium text-slate-700",children:"Startdatum"}),v.jsx(Hr,{type:"date",value:Re,onChange:le=>He(le.target.value)})]}),v.jsxs("div",{children:[v.jsx("label",{className:"mb-1 block text-xs font-medium text-slate-700",children:"Enddatum"}),v.jsx(Hr,{type:"date",value:D,onChange:le=>G(le.target.value)})]})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[v.jsxs("div",{children:[v.jsx("label",{className:"mb-1 block text-xs font-medium text-slate-700",children:"Stadt"}),v.jsx(Hr,{value:ve,onChange:le=>_e(le.target.value)})]}),v.jsxs("div",{children:[v.jsx("label",{className:"mb-1 block text-xs font-medium text-slate-700",children:"Location"}),v.jsx(Hr,{value:je,onChange:le=>Te(le.target.value)})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"mb-1 block text-xs font-medium text-slate-700",children:"Kolleg:innen (Komma-getrennt)"}),v.jsx(Hr,{value:Ne,onChange:le=>Pe(le.target.value),placeholder:"z. B. Yannik, Daniel"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"mb-1 block text-xs font-medium text-slate-700",children:"LinkedIn-Post (geplant: Datum / Hinweis)"}),v.jsx(Hr,{value:Et,onChange:le=>yt(le.target.value),placeholder:"z. B. 10.03. | Recap-Post"})]}),v.jsxs("div",{className:"flex items-start gap-2 rounded-lg border border-slate-100 bg-slate-50 p-3",children:[v.jsx("input",{type:"checkbox",className:"mt-0.5 h-4 w-4 rounded border-slate-300 text-brand focus:ring-brand",checked:mt,onChange:le=>Gt(le.target.checked)}),v.jsxs("div",{className:"leading-snug",children:[v.jsx("div",{className:"text-xs font-medium text-slate-700",children:"Website: Teilnahme verffentlicht"}),v.jsx("div",{className:"text-[11px] text-slate-500",children:"Hkchen, wenn die Teilnahme auf der Website steht."})]})]})]}),v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[v.jsxs("div",{children:[v.jsx("label",{className:"mb-1 block text-xs font-medium text-slate-700",children:"Kosten / Ticket pro Person"}),v.jsx(Hr,{value:Ve,onChange:le=>Ct(le.target.value)})]}),v.jsxs("div",{children:[v.jsx("label",{className:"mb-1 block text-xs font-medium text-slate-700",children:"Kostenart"}),v.jsxs("select",{className:"h-9 w-full rounded-lg border border-slate-200 bg-white px-2 text-xs font-medium text-slate-700 shadow-sm",value:Fe,onChange:le=>Qe(le.target.value),children:[v.jsx("option",{value:"participant",children:"Teilnehmerkosten"}),v.jsx("option",{value:"booth",children:"Standkosten"})]})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"mb-1 block text-xs font-medium text-slate-700",children:"Event-Website (URL)"}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx(Hr,{className:"flex-1",value:ft,onChange:le=>qe(le.target.value)}),ft.trim()&&v.jsx("a",{href:D5(ft),target:"_blank",rel:"noreferrer",className:"inline-flex h-9 items-center rounded-full border border-slate-200 bg-white px-3 text-xs font-medium text-slate-700 shadow-sm hover:bg-slate-50",children:"ffnen"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"mb-1 block text-xs font-medium text-slate-700",children:"Anlagen / Links (eine pro Zeile)"}),v.jsx("textarea",{className:"h-24 w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-xs text-slate-900 shadow-sm placeholder:text-slate-400 focus:border-brand focus:outline-none focus:ring-1 focus:ring-brand",value:at,onChange:le=>xt(le.target.value)}),v.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[v.jsx(Zo,{type:"button",variant:"secondary",className:"h-8 px-3 text-xs",onClick:Os,disabled:!Oe||_r.isPending,children:_r.isPending?"Lade hoch":"PDF hochladen"}),v.jsx("span",{className:"text-[11px] text-slate-500",children:"Wird als Link im Feld oben gespeichert."})]}),v.jsx("input",{ref:ot,type:"file",accept:"application/pdf",className:"hidden",onChange:_a}),Zn.length>0&&v.jsxs("div",{className:"mt-3 space-y-1.5",children:[v.jsx("div",{className:"text-[11px] font-medium text-slate-500",children:"Gespeicherte Links:"}),Zn.map(le=>v.jsxs("a",{href:D5(le),target:"_blank",rel:"noreferrer",className:"flex items-center gap-2 truncate text-xs text-brand hover:underline",children:[v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 shrink-0",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}),v.jsx("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"})]}),v.jsx("span",{className:"truncate",children:le})]},le))]})]})]}),v.jsxs("div",{className:"mt-4 space-y-3 border-t border-slate-100 pt-4 md:col-span-2",children:[v.jsxs("div",{children:[v.jsx("label",{className:"mb-1 block text-xs font-medium text-slate-700",children:"Notizen"}),v.jsx("textarea",{className:"h-32 w-full resize-y rounded-lg border border-slate-200 bg-white px-3 py-2 text-xs text-slate-900 shadow-sm placeholder:text-slate-400 focus:border-brand focus:outline-none focus:ring-1 focus:ring-brand",value:ze,onChange:le=>ht(le.target.value)})]}),v.jsxs("div",{className:"flex items-center justify-between gap-3 text-xs text-slate-700",children:[v.jsx("div",{className:"font-medium",children:"Historie"}),Oe&&v.jsx(Zo,{type:"button",variant:"secondary",className:"h-8 px-3 text-xs",onClick:ka,disabled:se.isPending,children:"Als besucht markieren"})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-slate-50 px-4 py-3 text-xs text-slate-700",children:[Xt&&v.jsx("div",{className:"text-slate-400",children:"Lade Historie"}),!Xt&&dn.length===0&&v.jsx("div",{className:"text-slate-400",children:"Noch keine Eintrge vorhanden."}),!Xt&&dn.length>0&&v.jsx("ul",{className:"space-y-1",children:dn.map(le=>v.jsxs("li",{className:"flex gap-3",children:[v.jsx("span",{className:"w-20 shrink-0 text-[11px] text-slate-400",children:new Date(le.timestamp).toLocaleDateString("de-DE")}),v.jsx("span",{className:"flex-1 text-xs text-slate-700",children:le.action})]},le.id))})]}),v.jsx("div",{className:"pt-1 text-[11px] text-slate-400",children:"Status- und Historiennderungen werden protokolliert."})]})]})]}):v.jsx("div",{className:"px-4 py-6 text-sm text-slate-500",children:"Bitte ein Event in der Liste auswhlen, um Details zu sehen."})})]})]}),ge&&v.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:v.jsxs("div",{className:"mx-4 w-full max-w-sm rounded-2xl bg-white p-6 shadow-xl",children:[v.jsx("h3",{className:"mb-2 text-lg font-semibold text-slate-900",children:"Event lschen?"}),v.jsx("p",{className:"mb-6 text-sm text-slate-500",children:"Das Event wird unwiderruflich gelscht. Diese Aktion kann nicht rckgngig gemacht werden."}),v.jsxs("div",{className:"flex justify-end gap-3",children:[v.jsx(Zo,{type:"button",variant:"secondary",onClick:()=>C(null),disabled:fe.isPending,children:"Abbrechen"}),v.jsx("button",{type:"button",onClick:fc,disabled:fe.isPending,className:"inline-flex items-center justify-center rounded-full bg-rose-500 px-4 py-2 text-sm font-medium text-white transition-colors hover:bg-rose-600 disabled:cursor-not-allowed disabled:opacity-60",children:fe.isPending?"Lsche":"Lschen"})]})]})})]})}function $L(){const{token:t}=_8(),{data:e,isLoading:r,error:n}=ed({queryKey:["shared-event",t],enabled:!!t,queryFn:async()=>{const{data:o,error:l}=await Qr.from("share_tokens").select("event_id, expires_at").eq("token",t).single();if(l||!o)throw new Error("Ungltiger oder abgelaufener Link");if(o.expires_at&&new Date(o.expires_at)<new Date)throw new Error("Dieser Link ist abgelaufen");const{data:u,error:h}=await Qr.from("events").select("id, title, organizer, start_date, end_date, city, location, status, colleagues, cost_type, cost_value, event_url, notes").eq("id",o.event_id).single();if(h||!u)throw new Error("Event nicht gefunden");return u}}),i=o=>o?new Date(o).toLocaleDateString("de-DE",{day:"2-digit",month:"long",year:"numeric"}):"",s=o=>({planned:{label:"Geplant",color:"bg-sky-100 text-sky-700"},consider:{label:"In Bewertung",color:"bg-amber-100 text-amber-700"},attended:{label:"Teilgenommen",color:"bg-emerald-100 text-emerald-700"},cancelled:{label:"Abgesagt",color:"bg-rose-100 text-rose-700"}})[o]||{label:o,color:"bg-slate-100 text-slate-700"};if(r)return v.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-slate-50 to-slate-100",children:v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"mx-auto h-8 w-8 animate-spin rounded-full border-2 border-violet-200 border-t-violet-600"}),v.jsx("p",{className:"mt-4 text-sm text-slate-500",children:"Lade Event..."})]})});if(n||!e)return v.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-slate-50 to-slate-100 p-4",children:v.jsxs("div",{className:"w-full max-w-md rounded-2xl bg-white p-8 text-center shadow-xl",children:[v.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-rose-100",children:v.jsx("svg",{className:"h-8 w-8 text-rose-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),v.jsx("h1",{className:"text-xl font-semibold text-slate-900",children:"Link ungltig"}),v.jsx("p",{className:"mt-2 text-sm text-slate-500",children:n instanceof Error?n.message:"Dieser Link ist ungltig oder abgelaufen."})]})});const a=s(e.status);return v.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-4 sm:p-8",children:v.jsxs("div",{className:"mx-auto max-w-2xl",children:[v.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-gradient-to-br from-violet-500 to-indigo-600",children:v.jsx("svg",{className:"h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2.5,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),v.jsx("span",{className:"text-sm font-semibold text-slate-900",children:"EventHub"})]}),v.jsx("span",{className:"rounded-full bg-slate-100 px-3 py-1 text-xs font-medium text-slate-500",children:"Geteilte Ansicht"})]}),v.jsxs("div",{className:"overflow-hidden rounded-2xl bg-white shadow-xl",children:[v.jsxs("div",{className:"border-b border-slate-100 bg-gradient-to-r from-violet-500 to-indigo-600 p-6 text-white",children:[v.jsx("div",{className:"mb-2 flex items-center gap-2",children:v.jsx("span",{className:`rounded-full px-2.5 py-0.5 text-xs font-semibold ${a.color}`,children:a.label})}),v.jsx("h1",{className:"text-2xl font-bold",children:e.title}),e.organizer&&v.jsxs("p",{className:"mt-1 text-violet-100",children:["von ",e.organizer]})]}),v.jsxs("div",{className:"divide-y divide-slate-100 p-6",children:[v.jsxs("div",{className:"grid gap-4 pb-6 sm:grid-cols-2",children:[v.jsxs("div",{children:[v.jsxs("div",{className:"mb-1 flex items-center gap-2 text-xs font-medium uppercase tracking-wider text-slate-400",children:[v.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Datum"]}),v.jsxs("p",{className:"text-sm font-medium text-slate-900",children:[i(e.start_date),e.end_date&&e.end_date!==e.start_date&&v.jsxs(v.Fragment,{children:["  ",i(e.end_date)]})]})]}),v.jsxs("div",{children:[v.jsxs("div",{className:"mb-1 flex items-center gap-2 text-xs font-medium uppercase tracking-wider text-slate-400",children:[v.jsxs("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Ort"]}),v.jsxs("p",{className:"text-sm font-medium text-slate-900",children:[e.city||"",e.location&&v.jsxs("span",{className:"text-slate-500",children:["  ",e.location]})]})]})]}),e.colleagues&&e.colleagues.length>0&&v.jsxs("div",{className:"py-6",children:[v.jsxs("div",{className:"mb-2 flex items-center gap-2 text-xs font-medium uppercase tracking-wider text-slate-400",children:[v.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),"Teilnehmer (",e.colleagues.length,")"]}),v.jsx("div",{className:"flex flex-wrap gap-2",children:e.colleagues.map(o=>v.jsx("span",{className:"rounded-full bg-slate-100 px-3 py-1 text-sm font-medium text-slate-700",children:o},o))})]}),e.notes&&v.jsxs("div",{className:"py-6",children:[v.jsxs("div",{className:"mb-2 flex items-center gap-2 text-xs font-medium uppercase tracking-wider text-slate-400",children:[v.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Notizen"]}),v.jsx("p",{className:"whitespace-pre-wrap text-sm text-slate-600",children:e.notes})]}),e.event_url&&v.jsx("div",{className:"pt-6",children:v.jsxs("a",{href:e.event_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 rounded-xl bg-gradient-to-r from-violet-500 to-indigo-600 px-4 py-2.5 text-sm font-medium text-white shadow-md shadow-violet-500/25 transition-all hover:shadow-lg hover:shadow-violet-500/30",children:[v.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),"Event-Website ffnen"]})})]})]}),v.jsx("p",{className:"mt-6 text-center text-xs text-slate-400",children:"Geteilt ber EventHub  Immomio"})]})})}function qL(t){const e=`${window.location.origin}/events?id=${t}`;navigator.clipboard.writeText(e).then(()=>{Kn.success("Link kopiert!")}).catch(()=>{Kn.error("Link konnte nicht kopiert werden")})}const pg=["Januar","Februar","Mrz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"];function WL(t){const e=t.start_date??t.end_date;if(!e)return null;const r=new Date(e);return Number.isNaN(r.getTime())?null:r}function B5(t){return t.getDate().toString()}function HL(t,e){if(!t)return"";const n=new Date(t).toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric"});if(!e||e===t)return n;const s=new Date(e).toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric"});return`${n}  ${s}`}function tu(t){return t.status==="cancelled"?{label:"Abgesagt",color:"rose"}:t.status==="attended"||t.booked?{label:"Gebucht",color:"emerald"}:t.status==="consider"?{label:"Bewertung",color:"amber"}:{label:"Geplant",color:"sky"}}function VL(){const t=Rl(),{data:e,isLoading:r,error:n}=N3(),i=e??[],[s,a]=ne.useState("year"),o=new Date().getFullYear(),l=new Date().getMonth(),[u,h]=ne.useState(o),[p,g]=ne.useState(l),[d,b]=ne.useState(null),x=i.map($=>{const M=WL($);return M?{event:$,date:M,year:M.getFullYear(),month:M.getMonth()}:null}).filter($=>$!==null),N=new Set(x.map($=>$.year));N.add(o);const w=Array.from(N).sort(($,M)=>$-M),S=x.filter($=>$.year===u),k=S.filter($=>$.month===p),A=new Set(S.map($=>$.month)),q=Array.from(A).sort(($,M)=>$-M),Y=s==="year"?S.length:k.length;return v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-lg font-semibold text-slate-900",children:"Kalenderansicht"}),v.jsx("p",{className:"text-sm text-slate-500",children:"Zeigt alle Events aus der aktuellen Filterung."})]}),v.jsxs("div",{className:"flex items-center gap-3 text-xs text-slate-600",children:[v.jsxs("span",{className:"hidden text-slate-400 sm:inline",children:[Y," Events"]}),v.jsxs("select",{className:"h-8 rounded-full border border-slate-200 bg-white px-3 text-xs font-medium text-slate-700 shadow-sm",value:s,onChange:$=>a($.target.value),children:[v.jsx("option",{value:"year",children:"Jahresansicht"}),v.jsx("option",{value:"month",children:"Monatsansicht"})]}),v.jsx("select",{className:"h-8 rounded-full border border-slate-200 bg-white px-3 text-xs font-medium text-slate-700 shadow-sm",value:u,onChange:$=>h(Number($.target.value)),children:w.map($=>v.jsx("option",{value:$,children:$},$))}),s==="month"&&v.jsx("select",{className:"h-8 rounded-full border border-slate-200 bg-white px-3 text-xs font-medium text-slate-700 shadow-sm",value:p,onChange:$=>g(Number($.target.value)),children:pg.map(($,M)=>v.jsx("option",{value:M,disabled:q.length>0&&!q.includes(M),children:$},$))})]})]}),r&&v.jsx("div",{className:"text-xs text-slate-400",children:"Lade Events"}),n&&v.jsxs("div",{className:"text-xs text-red-600",children:["Fehler beim Laden der Events: ",n.message]}),!r&&!n&&s==="year"&&v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[v.jsxs("span",{className:"font-semibold text-slate-700",children:["Jahr ",u]}),v.jsxs("span",{children:[S.length," Events"]})]}),v.jsx("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-3",children:pg.map(($,M)=>{const F=S.filter(L=>L.month===M).slice().sort((L,R)=>L.date.getTime()-R.date.getTime()),V=F.length;return v.jsxs("div",{className:"flex flex-col rounded-2xl border border-slate-200 bg-white shadow-sm",children:[v.jsxs("div",{className:"flex items-center justify-between border-b border-slate-100 px-4 py-2.5",children:[v.jsx("span",{className:"text-sm font-semibold text-slate-700",children:$}),V>0&&v.jsx("span",{className:"flex h-5 min-w-5 items-center justify-center rounded-full bg-slate-100 px-1.5 text-[11px] font-medium text-slate-600",children:V})]}),v.jsx("div",{className:"max-h-[180px] overflow-y-auto px-3 py-2",children:V===0?v.jsx("div",{className:"py-2 text-xs italic text-slate-400",children:"Keine Eintrge"}):v.jsx("div",{className:"space-y-0.5",children:F.map(({event:L,date:R})=>{const J=tu(L).color==="emerald";return v.jsx("button",{type:"button",onClick:()=>b(L),className:`w-full cursor-pointer rounded-lg px-2 py-2 text-left transition-colors hover:bg-slate-50 ${J?"bg-emerald-50/50":""}`,children:v.jsxs("div",{className:"flex items-start justify-between gap-2",children:[v.jsxs("div",{className:"min-w-0 flex-1",children:[v.jsxs("div",{className:"flex items-baseline gap-1.5",children:[v.jsxs("span",{className:"shrink-0 text-xs font-medium text-slate-400",children:[B5(R),"."]}),v.jsx("span",{className:"truncate text-sm font-medium text-slate-900",children:L.title})]}),L.city&&v.jsx("div",{className:"mt-0.5 truncate pl-5 text-xs text-slate-500",children:L.city})]}),J&&v.jsx("span",{className:"mt-0.5 shrink-0 rounded bg-emerald-100 px-1.5 py-0.5 text-[10px] font-semibold text-emerald-700",children:"Gebucht"})]})},L.id)})})})]},$)})})]}),!r&&!n&&s==="month"&&v.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[v.jsxs("div",{className:"mb-3 flex items-center justify-between text-sm text-slate-500",children:[v.jsxs("span",{className:"font-semibold text-slate-700",children:[pg[p]," ",u]}),v.jsxs("span",{children:[k.length," Events"]})]}),k.length===0?v.jsx("div",{className:"py-4 text-center text-sm italic text-slate-400",children:"Keine Eintrge"}):v.jsx("div",{className:"space-y-2",children:k.slice().sort(($,M)=>$.date.getTime()-M.date.getTime()).map(({event:$,date:M})=>{const F=tu($),V=F.color==="emerald";return v.jsx("button",{type:"button",onClick:()=>b($),className:`w-full cursor-pointer rounded-xl border px-4 py-3 text-left transition-all hover:shadow-md ${V?"border-emerald-100 bg-emerald-50/50":"border-slate-100 bg-white hover:border-slate-200"}`,children:v.jsxs("div",{className:"flex items-start justify-between gap-3",children:[v.jsxs("div",{className:"min-w-0 flex-1",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs("span",{className:"text-xs font-medium text-slate-400",children:[B5(M),"."]}),v.jsx("span",{className:"font-medium text-slate-900",children:$.title})]}),v.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-2 text-xs text-slate-500",children:[$.city&&v.jsx("span",{children:$.city}),$.city&&$.organizer&&v.jsx("span",{children:""}),$.organizer&&v.jsx("span",{children:$.organizer})]})]}),v.jsx("span",{className:`shrink-0 rounded-full px-2 py-0.5 text-[10px] font-semibold ${F.color==="emerald"?"bg-emerald-100 text-emerald-700":F.color==="amber"?"bg-amber-100 text-amber-700":F.color==="rose"?"bg-rose-100 text-rose-700":"bg-sky-100 text-sky-700"}`,children:F.label})]})},$.id)})})]}),d&&v.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 p-4",onClick:()=>b(null),children:v.jsxs("div",{className:"w-full max-w-md rounded-2xl bg-white shadow-2xl",onClick:$=>$.stopPropagation(),children:[v.jsxs("div",{className:"flex items-start justify-between border-b border-slate-100 p-4",children:[v.jsxs("div",{className:"flex-1 pr-4",children:[v.jsx("div",{className:"flex items-center gap-2",children:v.jsx("span",{className:`inline-flex rounded-full px-2 py-0.5 text-[10px] font-semibold ${tu(d).color==="emerald"?"bg-emerald-100 text-emerald-700":tu(d).color==="amber"?"bg-amber-100 text-amber-700":tu(d).color==="rose"?"bg-rose-100 text-rose-700":"bg-sky-100 text-sky-700"}`,children:tu(d).label})}),v.jsx("h2",{className:"mt-2 text-lg font-semibold text-slate-900",children:d.title}),d.organizer&&v.jsx("p",{className:"text-sm text-slate-500",children:d.organizer})]}),v.jsx("button",{type:"button",onClick:()=>b(null),className:"rounded-full p-1 text-slate-400 hover:bg-slate-100 hover:text-slate-600",children:v.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),v.jsxs("div",{className:"space-y-3 p-4",children:[v.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[v.jsx("svg",{className:"h-4 w-4 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),v.jsx("span",{className:"text-slate-700",children:HL(d.start_date,d.end_date)})]}),d.city&&v.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[v.jsxs("svg",{className:"h-4 w-4 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),v.jsxs("span",{className:"text-slate-700",children:[d.city,d.location&&`  ${d.location}`]})]}),d.colleagues&&d.colleagues.length>0&&v.jsxs("div",{className:"flex items-start gap-3 text-sm",children:[v.jsx("svg",{className:"mt-0.5 h-4 w-4 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z"})}),v.jsx("span",{className:"text-slate-700",children:d.colleagues.join(", ")})]}),d.cost_value>0&&v.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[v.jsx("svg",{className:"h-4 w-4 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),v.jsxs("span",{className:"text-slate-700",children:[d.cost_value.toLocaleString("de-DE",{style:"currency",currency:"EUR"}),d.cost_type==="booth"?" (Standkosten)":" / Person"]})]}),d.notes&&v.jsx("div",{className:"rounded-lg bg-slate-50 p-3 text-sm text-slate-600",children:d.notes})]}),v.jsxs("div",{className:"flex items-center justify-between border-t border-slate-100 px-4 py-3",children:[v.jsxs("button",{type:"button",onClick:()=>{qL(d.id)},className:"flex items-center gap-2 rounded-full border border-slate-200 bg-white px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50",children:[v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"}),v.jsx("polyline",{points:"16 6 12 2 8 6"}),v.jsx("line",{x1:"12",y1:"2",x2:"12",y2:"15"})]}),"Link teilen"]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{type:"button",onClick:()=>b(null),className:"rounded-full border border-slate-200 bg-white px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50",children:"Schlieen"}),v.jsx("button",{type:"button",onClick:()=>{t(`/events?id=${d.id}`)},className:"rounded-full bg-brand px-4 py-2 text-sm font-medium text-white hover:bg-brand/90",children:"Zum Event "})]})]})]})})]})}function GL(){return ed({queryKey:["event-costs"],queryFn:async()=>{const{data:t,error:e}=await Qr.from("events").select("id, title, organizer, city, status, booked, start_date, cost_type, cost_value, colleagues").order("start_date",{ascending:!0});if(e)throw e;return(t??[]).map(r=>{const n=r.colleagues??[],i=n.length,s=r.cost_value??0;let a=0;r.cost_type==="participant"?a=s*Math.max(i,0):r.cost_type==="booth"&&(a=s);let o=0;return r.cost_type==="booth"&&i>0?o=s/i:r.cost_type==="participant"&&i>0&&(o=s),{...r,colleagues:n,colleagues_count:i,total_cost:a,cost_per_participant:o}})}})}const KL="modulepreload",JL=function(t){return"/"+t},U5={},gg=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(r.map(l=>{if(l=JL(l),l in U5)return;U5[l]=!0;const u=l.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${h}`))return;const p=document.createElement("link");if(p.rel=u?"stylesheet":KL,u||(p.as="script"),p.crossOrigin="",p.href=l,o&&p.setAttribute("nonce",o),document.head.appendChild(p),u)return new Promise((g,d)=>{p.addEventListener("load",g),p.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};function Ht(t){"@babel/helpers - typeof";return Ht=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ht(t)}var is=Uint8Array,mi=Uint16Array,$v=Int32Array,qv=new is([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Wv=new is([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),z5=new is([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),A3=function(t,e){for(var r=new mi(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new $v(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)i[s]=s-r[n]<<5|n;return{b:r,r:i}},E3=A3(qv,2),QL=E3.b,m1=E3.r;QL[28]=258,m1[258]=28;var YL=A3(Wv,0),$5=YL.r,v1=new mi(32768);for(var ar=0;ar<32768;++ar){var Va=(ar&43690)>>1|(ar&21845)<<1;Va=(Va&52428)>>2|(Va&13107)<<2,Va=(Va&61680)>>4|(Va&3855)<<4,v1[ar]=((Va&65280)>>8|(Va&255)<<8)>>1}var gh=function(t,e,r){for(var n=t.length,i=0,s=new mi(e);i<n;++i)t[i]&&++s[t[i]-1];var a=new mi(e);for(i=1;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var o;if(r){o=new mi(1<<e);var l=15-e;for(i=0;i<n;++i)if(t[i])for(var u=i<<4|t[i],h=e-t[i],p=a[t[i]-1]++<<h,g=p|(1<<h)-1;p<=g;++p)o[v1[p]>>l]=u}else for(o=new mi(n),i=0;i<n;++i)t[i]&&(o[i]=v1[a[t[i]-1]++]>>15-t[i]);return o},Ll=new is(288);for(var ar=0;ar<144;++ar)Ll[ar]=8;for(var ar=144;ar<256;++ar)Ll[ar]=9;for(var ar=256;ar<280;++ar)Ll[ar]=7;for(var ar=280;ar<288;++ar)Ll[ar]=8;var bp=new is(32);for(var ar=0;ar<32;++ar)bp[ar]=5;var XL=gh(Ll,9,0),ZL=gh(bp,5,0),j3=function(t){return(t+7)/8|0},eP=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new is(t.subarray(e,r))},Xs=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},Qc=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},mg=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,s=r.slice();if(!i)return{t:L3,l:0};if(i==1){var a=new is(r[0].s+1);return a[r[0].s]=1,{t:a,l:1}}r.sort(function(q,Y){return q.f-Y.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],u=0,h=1,p=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};h!=i-1;)o=r[r[u].f<r[p].f?u++:p++],l=r[u!=h&&r[u].f<r[p].f?u++:p++],r[h++]={s:-1,f:o.f+l.f,l:o,r:l};for(var g=s[0].s,n=1;n<i;++n)s[n].s>g&&(g=s[n].s);var d=new mi(g+1),b=y1(r[h-1],d,0);if(b>e){var n=0,x=0,N=b-e,w=1<<N;for(s.sort(function(Y,$){return d[$.s]-d[Y.s]||Y.f-$.f});n<i;++n){var S=s[n].s;if(d[S]>e)x+=w-(1<<b-d[S]),d[S]=e;else break}for(x>>=N;x>0;){var k=s[n].s;d[k]<e?x-=1<<e-d[k]++-1:++n}for(;n>=0&&x;--n){var A=s[n].s;d[A]==e&&(--d[A],++x)}b=e}return{t:new is(d),l:b}},y1=function(t,e,r){return t.s==-1?Math.max(y1(t.l,e,r+1),y1(t.r,e,r+1)):e[t.s]=r},q5=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new mi(++e),n=0,i=t[0],s=1,a=function(l){r[n++]=l},o=1;o<=e;++o)if(t[o]==i&&o!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=t[o]}return{c:r.subarray(0,n),n:e}},Yc=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},C3=function(t,e,r){var n=r.length,i=j3(e+2);t[i]=n&255,t[i+1]=n>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<n;++s)t[i+s+4]=r[s];return(i+4+n)*8},W5=function(t,e,r,n,i,s,a,o,l,u,h){Xs(e,h++,r),++i[256];for(var p=mg(i,15),g=p.t,d=p.l,b=mg(s,15),x=b.t,N=b.l,w=q5(g),S=w.c,k=w.n,A=q5(x),q=A.c,Y=A.n,$=new mi(19),M=0;M<S.length;++M)++$[S[M]&31];for(var M=0;M<q.length;++M)++$[q[M]&31];for(var F=mg($,7),V=F.t,L=F.l,R=19;R>4&&!V[z5[R-1]];--R);var K=u+5<<3,J=Yc(i,Ll)+Yc(s,bp)+a,de=Yc(i,g)+Yc(s,x)+a+14+3*R+Yc($,V)+2*$[16]+3*$[17]+7*$[18];if(l>=0&&K<=J&&K<=de)return C3(e,h,t.subarray(l,l+u));var me,pe,Q,se;if(Xs(e,h,1+(de<J)),h+=2,de<J){me=gh(g,d,0),pe=g,Q=gh(x,N,0),se=x;var fe=gh(V,L,0);Xs(e,h,k-257),Xs(e,h+5,Y-1),Xs(e,h+10,R-4),h+=14;for(var M=0;M<R;++M)Xs(e,h+3*M,V[z5[M]]);h+=3*R;for(var ge=[S,q],C=0;C<2;++C)for(var W=ge[C],M=0;M<W.length;++M){var H=W[M]&31;Xs(e,h,fe[H]),h+=V[H],H>15&&(Xs(e,h,W[M]>>5&127),h+=W[M]>>12)}}else me=XL,pe=Ll,Q=ZL,se=bp;for(var M=0;M<o;++M){var ee=n[M];if(ee>255){var H=ee>>18&31;Qc(e,h,me[H+257]),h+=pe[H+257],H>7&&(Xs(e,h,ee>>23&31),h+=qv[H]);var te=ee&31;Qc(e,h,Q[te]),h+=se[te],te>3&&(Qc(e,h,ee>>5&8191),h+=Wv[te])}else Qc(e,h,me[ee]),h+=pe[ee]}return Qc(e,h,me[256]),h+pe[256]},tP=new $v([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),L3=new is(0),rP=function(t,e,r,n,i,s){var a=s.z||t.length,o=new is(n+a+5*(1+Math.ceil(a/7e3))+i),l=o.subarray(n,o.length-i),u=s.l,h=(s.r||0)&7;if(e){h&&(l[0]=s.r>>3);for(var p=tP[e-1],g=p>>13,d=p&8191,b=(1<<r)-1,x=s.p||new mi(32768),N=s.h||new mi(b+1),w=Math.ceil(r/3),S=2*w,k=function(He){return(t[He]^t[He+1]<<w^t[He+2]<<S)&b},A=new $v(25e3),q=new mi(288),Y=new mi(32),$=0,M=0,F=s.i||0,V=0,L=s.w||0,R=0;F+2<a;++F){var K=k(F),J=F&32767,de=N[K];if(x[J]=de,N[K]=J,L<=F){var me=a-F;if(($>7e3||V>24576)&&(me>423||!u)){h=W5(t,l,0,A,q,Y,M,V,R,F-R,h),V=$=M=0,R=F;for(var pe=0;pe<286;++pe)q[pe]=0;for(var pe=0;pe<30;++pe)Y[pe]=0}var Q=2,se=0,fe=d,ge=J-de&32767;if(me>2&&K==k(F-ge))for(var C=Math.min(g,me)-1,W=Math.min(32767,F),H=Math.min(258,me);ge<=W&&--fe&&J!=de;){if(t[F+Q]==t[F+Q-ge]){for(var ee=0;ee<H&&t[F+ee]==t[F+ee-ge];++ee);if(ee>Q){if(Q=ee,se=ge,ee>C)break;for(var te=Math.min(ge,ee-2),ae=0,pe=0;pe<te;++pe){var ye=F-ge+pe&32767,ve=x[ye],_e=ye-ve&32767;_e>ae&&(ae=_e,de=ye)}}}J=de,de=x[J],ge+=J-de&32767}if(se){A[V++]=268435456|m1[Q]<<18|$5[se];var je=m1[Q]&31,Te=$5[se]&31;M+=qv[je]+Wv[Te],++q[257+je],++Y[Te],L=F+Q,++$}else A[V++]=t[F],++q[t[F]]}}for(F=Math.max(F,L);F<a;++F)A[V++]=t[F],++q[t[F]];h=W5(t,l,u,A,q,Y,M,V,R,F-R,h),u||(s.r=h&7|l[h/8|0]<<3,h-=7,s.h=N,s.p=x,s.i=F,s.w=L)}else{for(var F=s.w||0;F<a+u;F+=65535){var Re=F+65535;Re>=a&&(l[h/8|0]=u,Re=a),h=C3(l,h+1,t.subarray(F,Re))}s.i=a}return eP(o,0,n+j3(h)+i)},P3=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,s=r.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=n+=r[a];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}t=n,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},nP=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new is(s.length+t.length);a.set(s),a.set(t,s.length),t=a,i.w=s.length}return rP(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,i)},O3=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},iP=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=P3();i.p(e.dictionary),O3(t,2,i.d())}};function w1(t,e){e||(e={});var r=P3();r.p(t);var n=nP(t,e,e.dictionary?6:2,4);return iP(n,e),O3(n,n.length-4,r.d()),n}var sP=typeof TextDecoder<"u"&&new TextDecoder,aP=0;try{sP.decode(L3,{stream:!0}),aP=1}catch{}function oP(t){if(Array.isArray(t))return t}function lP(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],l=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(h){u=!0,i=h}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function H5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function uP(t,e){if(t){if(typeof t=="string")return H5(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?H5(t,e):void 0}}function cP(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V5(t,e){return oP(t)||lP(t,e)||uP(t,e)||cP()}function G5(t,e="utf8"){return new TextDecoder(e).decode(t)}const hP=new TextEncoder;function dP(t){return hP.encode(t)}const fP=1024*8,pP=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),vg={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Hv{constructor(e=fP,r={}){Wt(this,"buffer");Wt(this,"byteLength");Wt(this,"byteOffset");Wt(this,"length");Wt(this,"offset");Wt(this,"lastWrittenByte");Wt(this,"littleEndian");Wt(this,"_data");Wt(this,"_mark");Wt(this,"_marks");let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const i=r.offset?r.offset>>>0:0,s=e.byteLength-i;let a=i;(ArrayBuffer.isView(e)||e instanceof Hv)&&(e.byteLength!==e.buffer.byteLength&&(a=e.byteOffset+i),e=e.buffer),n?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const n=vg[r].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+n);if(this.littleEndian===pP&&r!=="uint8"&&r!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+n));o.reverse();const l=new vg[r](o.buffer);return this.offset+=n,l.reverse(),l}const a=new vg[r](s);return this.offset+=n,a}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let n=0;n<e;n++)r+=this.readChar();return r}readUtf8(e=1){return G5(this.readBytes(e))}decodeText(e=1,r="utf8"){return G5(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(dP(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function dc(t){let e=t.length;for(;--e>=0;)t[e]=0}const gP=3,mP=258,T3=29,vP=256,yP=vP+1+T3,R3=30,wP=512,bP=new Array((yP+2)*2);dc(bP);const xP=new Array(R3*2);dc(xP);const _P=new Array(wP);dc(_P);const SP=new Array(mP-gP+1);dc(SP);const kP=new Array(T3);dc(kP);const NP=new Array(R3);dc(NP);const AP=(t,e,r,n)=>{let i=t&65535|0,s=t>>>16&65535|0,a=0;for(;r!==0;){a=r>2e3?2e3:r,r-=a;do i=i+e[n++]|0,s=s+i|0;while(--a);i%=65521,s%=65521}return i|s<<16|0};var b1=AP;const EP=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},jP=new Uint32Array(EP()),CP=(t,e,r,n)=>{const i=jP,s=n+r;t^=-1;for(let a=n;a<s;a++)t=t>>>8^i[(t^e[a])&255];return t^-1};var ms=CP,x1={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},I3={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const LP=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var PP=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)LP(r,n)&&(t[n]=r[n])}}return t},OP=t=>{let e=0;for(let n=0,i=t.length;n<i;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,i=0,s=t.length;n<s;n++){let a=t[n];r.set(a,i),i+=a.length}return r},F3={assign:PP,flattenChunks:OP};let D3=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{D3=!1}const $h=new Uint8Array(256);for(let t=0;t<256;t++)$h[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;$h[254]=$h[254]=1;var TP=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,i,s,a=t.length,o=0;for(i=0;i<a;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<a&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(o),s=0,i=0;s<o;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<a&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[s++]=r:r<2048?(e[s++]=192|r>>>6,e[s++]=128|r&63):r<65536?(e[s++]=224|r>>>12,e[s++]=128|r>>>6&63,e[s++]=128|r&63):(e[s++]=240|r>>>18,e[s++]=128|r>>>12&63,e[s++]=128|r>>>6&63,e[s++]=128|r&63);return e};const RP=(t,e)=>{if(e<65534&&t.subarray&&D3)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var IP=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,i;const s=new Array(r*2);for(i=0,n=0;n<r;){let a=t[n++];if(a<128){s[i++]=a;continue}let o=$h[a];if(o>4){s[i++]=65533,n+=o-1;continue}for(a&=o===2?31:o===3?15:7;o>1&&n<r;)a=a<<6|t[n++]&63,o--;if(o>1){s[i++]=65533;continue}a<65536?s[i++]=a:(a-=65536,s[i++]=55296|a>>10&1023,s[i++]=56320|a&1023)}return RP(s,i)},FP=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+$h[t[r]]>e?r:e},_1={string2buf:TP,buf2string:IP,utf8border:FP};function DP(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var MP=DP;const cf=16209,BP=16191;var UP=function(e,r){let n,i,s,a,o,l,u,h,p,g,d,b,x,N,w,S,k,A,q,Y,$,M,F,V;const L=e.state;n=e.next_in,F=e.input,i=n+(e.avail_in-5),s=e.next_out,V=e.output,a=s-(r-e.avail_out),o=s+(e.avail_out-257),l=L.dmax,u=L.wsize,h=L.whave,p=L.wnext,g=L.window,d=L.hold,b=L.bits,x=L.lencode,N=L.distcode,w=(1<<L.lenbits)-1,S=(1<<L.distbits)-1;e:do{b<15&&(d+=F[n++]<<b,b+=8,d+=F[n++]<<b,b+=8),k=x[d&w];t:for(;;){if(A=k>>>24,d>>>=A,b-=A,A=k>>>16&255,A===0)V[s++]=k&65535;else if(A&16){q=k&65535,A&=15,A&&(b<A&&(d+=F[n++]<<b,b+=8),q+=d&(1<<A)-1,d>>>=A,b-=A),b<15&&(d+=F[n++]<<b,b+=8,d+=F[n++]<<b,b+=8),k=N[d&S];r:for(;;){if(A=k>>>24,d>>>=A,b-=A,A=k>>>16&255,A&16){if(Y=k&65535,A&=15,b<A&&(d+=F[n++]<<b,b+=8,b<A&&(d+=F[n++]<<b,b+=8)),Y+=d&(1<<A)-1,Y>l){e.msg="invalid distance too far back",L.mode=cf;break e}if(d>>>=A,b-=A,A=s-a,Y>A){if(A=Y-A,A>h&&L.sane){e.msg="invalid distance too far back",L.mode=cf;break e}if($=0,M=g,p===0){if($+=u-A,A<q){q-=A;do V[s++]=g[$++];while(--A);$=s-Y,M=V}}else if(p<A){if($+=u+p-A,A-=p,A<q){q-=A;do V[s++]=g[$++];while(--A);if($=0,p<q){A=p,q-=A;do V[s++]=g[$++];while(--A);$=s-Y,M=V}}}else if($+=p-A,A<q){q-=A;do V[s++]=g[$++];while(--A);$=s-Y,M=V}for(;q>2;)V[s++]=M[$++],V[s++]=M[$++],V[s++]=M[$++],q-=3;q&&(V[s++]=M[$++],q>1&&(V[s++]=M[$++]))}else{$=s-Y;do V[s++]=V[$++],V[s++]=V[$++],V[s++]=V[$++],q-=3;while(q>2);q&&(V[s++]=V[$++],q>1&&(V[s++]=V[$++]))}}else if(A&64){e.msg="invalid distance code",L.mode=cf;break e}else{k=N[(k&65535)+(d&(1<<A)-1)];continue r}break}}else if(A&64)if(A&32){L.mode=BP;break e}else{e.msg="invalid literal/length code",L.mode=cf;break e}else{k=x[(k&65535)+(d&(1<<A)-1)];continue t}break}}while(n<i&&s<o);q=b>>3,n-=q,b-=q<<3,d&=(1<<b)-1,e.next_in=n,e.next_out=s,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=s<o?257+(o-s):257-(s-o),L.hold=d,L.bits=b};const ru=15,K5=852,J5=592,Q5=0,yg=1,Y5=2,zP=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),$P=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),qP=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),WP=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),HP=(t,e,r,n,i,s,a,o)=>{const l=o.bits;let u=0,h=0,p=0,g=0,d=0,b=0,x=0,N=0,w=0,S=0,k,A,q,Y,$,M=null,F;const V=new Uint16Array(ru+1),L=new Uint16Array(ru+1);let R=null,K,J,de;for(u=0;u<=ru;u++)V[u]=0;for(h=0;h<n;h++)V[e[r+h]]++;for(d=l,g=ru;g>=1&&V[g]===0;g--);if(d>g&&(d=g),g===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,o.bits=1,0;for(p=1;p<g&&V[p]===0;p++);for(d<p&&(d=p),N=1,u=1;u<=ru;u++)if(N<<=1,N-=V[u],N<0)return-1;if(N>0&&(t===Q5||g!==1))return-1;for(L[1]=0,u=1;u<ru;u++)L[u+1]=L[u]+V[u];for(h=0;h<n;h++)e[r+h]!==0&&(a[L[e[r+h]]++]=h);if(t===Q5?(M=R=a,F=20):t===yg?(M=zP,R=$P,F=257):(M=qP,R=WP,F=0),S=0,h=0,u=p,$=s,b=d,x=0,q=-1,w=1<<d,Y=w-1,t===yg&&w>K5||t===Y5&&w>J5)return 1;for(;;){K=u-x,a[h]+1<F?(J=0,de=a[h]):a[h]>=F?(J=R[a[h]-F],de=M[a[h]-F]):(J=96,de=0),k=1<<u-x,A=1<<b,p=A;do A-=k,i[$+(S>>x)+A]=K<<24|J<<16|de|0;while(A!==0);for(k=1<<u-1;S&k;)k>>=1;if(k!==0?(S&=k-1,S+=k):S=0,h++,--V[u]===0){if(u===g)break;u=e[r+a[h]]}if(u>d&&(S&Y)!==q){for(x===0&&(x=d),$+=p,b=u-x,N=1<<b;b+x<g&&(N-=V[b+x],!(N<=0));)b++,N<<=1;if(w+=1<<b,t===yg&&w>K5||t===Y5&&w>J5)return 1;q=S&Y,i[q]=d<<24|b<<16|$-s|0}}return S!==0&&(i[$+S]=u-x<<24|64<<16|0),o.bits=d,0};var mh=HP;const VP=0,M3=1,B3=2,{Z_FINISH:X5,Z_BLOCK:GP,Z_TREES:hf,Z_OK:Pl,Z_STREAM_END:KP,Z_NEED_DICT:JP,Z_STREAM_ERROR:Mi,Z_DATA_ERROR:U3,Z_MEM_ERROR:z3,Z_BUF_ERROR:QP,Z_DEFLATED:Z5}=I3,Yp=16180,ew=16181,tw=16182,rw=16183,nw=16184,iw=16185,sw=16186,aw=16187,ow=16188,lw=16189,xp=16190,Zs=16191,wg=16192,uw=16193,bg=16194,cw=16195,hw=16196,dw=16197,fw=16198,df=16199,ff=16200,pw=16201,gw=16202,mw=16203,vw=16204,yw=16205,xg=16206,ww=16207,bw=16208,ur=16209,$3=16210,q3=16211,YP=852,XP=592,ZP=15,e7=ZP,xw=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function t7(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Fl=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<Yp||e.mode>q3?1:0},W3=t=>{if(Fl(t))return Mi;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=Yp,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(YP),e.distcode=e.distdyn=new Int32Array(XP),e.sane=1,e.back=-1,Pl},H3=t=>{if(Fl(t))return Mi;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,W3(t)},V3=(t,e)=>{let r;if(Fl(t))return Mi;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Mi:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,H3(t))},G3=(t,e)=>{if(!t)return Mi;const r=new t7;t.state=r,r.strm=t,r.window=null,r.mode=Yp;const n=V3(t,e);return n!==Pl&&(t.state=null),n},r7=t=>G3(t,e7);let _w=!0,_g,Sg;const n7=t=>{if(_w){_g=new Int32Array(512),Sg=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(mh(M3,t.lens,0,288,_g,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;mh(B3,t.lens,0,32,Sg,0,t.work,{bits:5}),_w=!1}t.lencode=_g,t.lenbits=9,t.distcode=Sg,t.distbits=5},K3=(t,e,r,n)=>{let i;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(e.subarray(r-s.wsize,r),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>n&&(i=n),s.window.set(e.subarray(r-n,r-n+i),s.wnext),n-=i,n?(s.window.set(e.subarray(r-n,r),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},i7=(t,e)=>{let r,n,i,s,a,o,l,u,h,p,g,d,b,x,N=0,w,S,k,A,q,Y,$,M;const F=new Uint8Array(4);let V,L;const R=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Fl(t)||!t.output||!t.input&&t.avail_in!==0)return Mi;r=t.state,r.mode===Zs&&(r.mode=wg),a=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,n=t.input,o=t.avail_in,u=r.hold,h=r.bits,p=o,g=l,M=Pl;e:for(;;)switch(r.mode){case Yp:if(r.wrap===0){r.mode=wg;break}for(;h<16;){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}if(r.wrap&2&&u===35615){r.wbits===0&&(r.wbits=15),r.check=0,F[0]=u&255,F[1]=u>>>8&255,r.check=ms(r.check,F,2,0),u=0,h=0,r.mode=ew;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",r.mode=ur;break}if((u&15)!==Z5){t.msg="unknown compression method",r.mode=ur;break}if(u>>>=4,h-=4,$=(u&15)+8,r.wbits===0&&(r.wbits=$),$>15||$>r.wbits){t.msg="invalid window size",r.mode=ur;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=u&512?lw:Zs,u=0,h=0;break;case ew:for(;h<16;){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}if(r.flags=u,(r.flags&255)!==Z5){t.msg="unknown compression method",r.mode=ur;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=ur;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&r.wrap&4&&(F[0]=u&255,F[1]=u>>>8&255,r.check=ms(r.check,F,2,0)),u=0,h=0,r.mode=tw;case tw:for(;h<32;){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}r.head&&(r.head.time=u),r.flags&512&&r.wrap&4&&(F[0]=u&255,F[1]=u>>>8&255,F[2]=u>>>16&255,F[3]=u>>>24&255,r.check=ms(r.check,F,4,0)),u=0,h=0,r.mode=rw;case rw:for(;h<16;){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&r.wrap&4&&(F[0]=u&255,F[1]=u>>>8&255,r.check=ms(r.check,F,2,0)),u=0,h=0,r.mode=nw;case nw:if(r.flags&1024){for(;h<16;){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&r.wrap&4&&(F[0]=u&255,F[1]=u>>>8&255,r.check=ms(r.check,F,2,0)),u=0,h=0}else r.head&&(r.head.extra=null);r.mode=iw;case iw:if(r.flags&1024&&(d=r.length,d>o&&(d=o),d&&(r.head&&($=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(s,s+d),$)),r.flags&512&&r.wrap&4&&(r.check=ms(r.check,n,d,s)),o-=d,s+=d,r.length-=d),r.length))break e;r.length=0,r.mode=sw;case sw:if(r.flags&2048){if(o===0)break e;d=0;do $=n[s+d++],r.head&&$&&r.length<65536&&(r.head.name+=String.fromCharCode($));while($&&d<o);if(r.flags&512&&r.wrap&4&&(r.check=ms(r.check,n,d,s)),o-=d,s+=d,$)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=aw;case aw:if(r.flags&4096){if(o===0)break e;d=0;do $=n[s+d++],r.head&&$&&r.length<65536&&(r.head.comment+=String.fromCharCode($));while($&&d<o);if(r.flags&512&&r.wrap&4&&(r.check=ms(r.check,n,d,s)),o-=d,s+=d,$)break e}else r.head&&(r.head.comment=null);r.mode=ow;case ow:if(r.flags&512){for(;h<16;){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}if(r.wrap&4&&u!==(r.check&65535)){t.msg="header crc mismatch",r.mode=ur;break}u=0,h=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=Zs;break;case lw:for(;h<32;){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}t.adler=r.check=xw(u),u=0,h=0,r.mode=xp;case xp:if(r.havedict===0)return t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,r.hold=u,r.bits=h,JP;t.adler=r.check=1,r.mode=Zs;case Zs:if(e===GP||e===hf)break e;case wg:if(r.last){u>>>=h&7,h-=h&7,r.mode=xg;break}for(;h<3;){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}switch(r.last=u&1,u>>>=1,h-=1,u&3){case 0:r.mode=uw;break;case 1:if(n7(r),r.mode=df,e===hf){u>>>=2,h-=2;break e}break;case 2:r.mode=hw;break;case 3:t.msg="invalid block type",r.mode=ur}u>>>=2,h-=2;break;case uw:for(u>>>=h&7,h-=h&7;h<32;){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",r.mode=ur;break}if(r.length=u&65535,u=0,h=0,r.mode=bg,e===hf)break e;case bg:r.mode=cw;case cw:if(d=r.length,d){if(d>o&&(d=o),d>l&&(d=l),d===0)break e;i.set(n.subarray(s,s+d),a),o-=d,s+=d,l-=d,a+=d,r.length-=d;break}r.mode=Zs;break;case hw:for(;h<14;){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}if(r.nlen=(u&31)+257,u>>>=5,h-=5,r.ndist=(u&31)+1,u>>>=5,h-=5,r.ncode=(u&15)+4,u>>>=4,h-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=ur;break}r.have=0,r.mode=dw;case dw:for(;r.have<r.ncode;){for(;h<3;){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}r.lens[R[r.have++]]=u&7,u>>>=3,h-=3}for(;r.have<19;)r.lens[R[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,V={bits:r.lenbits},M=mh(VP,r.lens,0,19,r.lencode,0,r.work,V),r.lenbits=V.bits,M){t.msg="invalid code lengths set",r.mode=ur;break}r.have=0,r.mode=fw;case fw:for(;r.have<r.nlen+r.ndist;){for(;N=r.lencode[u&(1<<r.lenbits)-1],w=N>>>24,S=N>>>16&255,k=N&65535,!(w<=h);){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}if(k<16)u>>>=w,h-=w,r.lens[r.have++]=k;else{if(k===16){for(L=w+2;h<L;){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}if(u>>>=w,h-=w,r.have===0){t.msg="invalid bit length repeat",r.mode=ur;break}$=r.lens[r.have-1],d=3+(u&3),u>>>=2,h-=2}else if(k===17){for(L=w+3;h<L;){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}u>>>=w,h-=w,$=0,d=3+(u&7),u>>>=3,h-=3}else{for(L=w+7;h<L;){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}u>>>=w,h-=w,$=0,d=11+(u&127),u>>>=7,h-=7}if(r.have+d>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=ur;break}for(;d--;)r.lens[r.have++]=$}}if(r.mode===ur)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=ur;break}if(r.lenbits=9,V={bits:r.lenbits},M=mh(M3,r.lens,0,r.nlen,r.lencode,0,r.work,V),r.lenbits=V.bits,M){t.msg="invalid literal/lengths set",r.mode=ur;break}if(r.distbits=6,r.distcode=r.distdyn,V={bits:r.distbits},M=mh(B3,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,V),r.distbits=V.bits,M){t.msg="invalid distances set",r.mode=ur;break}if(r.mode=df,e===hf)break e;case df:r.mode=ff;case ff:if(o>=6&&l>=258){t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,r.hold=u,r.bits=h,UP(t,g),a=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,n=t.input,o=t.avail_in,u=r.hold,h=r.bits,r.mode===Zs&&(r.back=-1);break}for(r.back=0;N=r.lencode[u&(1<<r.lenbits)-1],w=N>>>24,S=N>>>16&255,k=N&65535,!(w<=h);){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}if(S&&!(S&240)){for(A=w,q=S,Y=k;N=r.lencode[Y+((u&(1<<A+q)-1)>>A)],w=N>>>24,S=N>>>16&255,k=N&65535,!(A+w<=h);){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}u>>>=A,h-=A,r.back+=A}if(u>>>=w,h-=w,r.back+=w,r.length=k,S===0){r.mode=yw;break}if(S&32){r.back=-1,r.mode=Zs;break}if(S&64){t.msg="invalid literal/length code",r.mode=ur;break}r.extra=S&15,r.mode=pw;case pw:if(r.extra){for(L=r.extra;h<L;){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,h-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=gw;case gw:for(;N=r.distcode[u&(1<<r.distbits)-1],w=N>>>24,S=N>>>16&255,k=N&65535,!(w<=h);){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}if(!(S&240)){for(A=w,q=S,Y=k;N=r.distcode[Y+((u&(1<<A+q)-1)>>A)],w=N>>>24,S=N>>>16&255,k=N&65535,!(A+w<=h);){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}u>>>=A,h-=A,r.back+=A}if(u>>>=w,h-=w,r.back+=w,S&64){t.msg="invalid distance code",r.mode=ur;break}r.offset=k,r.extra=S&15,r.mode=mw;case mw:if(r.extra){for(L=r.extra;h<L;){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,h-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=ur;break}r.mode=vw;case vw:if(l===0)break e;if(d=g-l,r.offset>d){if(d=r.offset-d,d>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=ur;break}d>r.wnext?(d-=r.wnext,b=r.wsize-d):b=r.wnext-d,d>r.length&&(d=r.length),x=r.window}else x=i,b=a-r.offset,d=r.length;d>l&&(d=l),l-=d,r.length-=d;do i[a++]=x[b++];while(--d);r.length===0&&(r.mode=ff);break;case yw:if(l===0)break e;i[a++]=r.length,l--,r.mode=ff;break;case xg:if(r.wrap){for(;h<32;){if(o===0)break e;o--,u|=n[s++]<<h,h+=8}if(g-=l,t.total_out+=g,r.total+=g,r.wrap&4&&g&&(t.adler=r.check=r.flags?ms(r.check,i,g,a-g):b1(r.check,i,g,a-g)),g=l,r.wrap&4&&(r.flags?u:xw(u))!==r.check){t.msg="incorrect data check",r.mode=ur;break}u=0,h=0}r.mode=ww;case ww:if(r.wrap&&r.flags){for(;h<32;){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}if(r.wrap&4&&u!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=ur;break}u=0,h=0}r.mode=bw;case bw:M=KP;break e;case ur:M=U3;break e;case $3:return z3;case q3:default:return Mi}return t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,r.hold=u,r.bits=h,(r.wsize||g!==t.avail_out&&r.mode<ur&&(r.mode<xg||e!==X5))&&K3(t,t.output,t.next_out,g-t.avail_out),p-=t.avail_in,g-=t.avail_out,t.total_in+=p,t.total_out+=g,r.total+=g,r.wrap&4&&g&&(t.adler=r.check=r.flags?ms(r.check,i,g,t.next_out-g):b1(r.check,i,g,t.next_out-g)),t.data_type=r.bits+(r.last?64:0)+(r.mode===Zs?128:0)+(r.mode===df||r.mode===bg?256:0),(p===0&&g===0||e===X5)&&M===Pl&&(M=QP),M},s7=t=>{if(Fl(t))return Mi;let e=t.state;return e.window&&(e.window=null),t.state=null,Pl},a7=(t,e)=>{if(Fl(t))return Mi;const r=t.state;return r.wrap&2?(r.head=e,e.done=!1,Pl):Mi},o7=(t,e)=>{const r=e.length;let n,i,s;return Fl(t)||(n=t.state,n.wrap!==0&&n.mode!==xp)?Mi:n.mode===xp&&(i=1,i=b1(i,e,r,0),i!==n.check)?U3:(s=K3(t,e,r,r),s?(n.mode=$3,z3):(n.havedict=1,Pl))};var l7=H3,u7=V3,c7=W3,h7=r7,d7=G3,f7=i7,p7=s7,g7=a7,m7=o7,v7="pako inflate (from Nodeca project)",ia={inflateReset:l7,inflateReset2:u7,inflateResetKeep:c7,inflateInit:h7,inflateInit2:d7,inflate:f7,inflateEnd:p7,inflateGetHeader:g7,inflateSetDictionary:m7,inflateInfo:v7};function y7(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var w7=y7;const J3=Object.prototype.toString,{Z_NO_FLUSH:b7,Z_FINISH:x7,Z_OK:qh,Z_STREAM_END:kg,Z_NEED_DICT:Ng,Z_STREAM_ERROR:_7,Z_DATA_ERROR:Sw,Z_MEM_ERROR:S7}=I3;function nd(t){this.options=F3.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new MP,this.strm.avail_out=0;let r=ia.inflateInit2(this.strm,e.windowBits);if(r!==qh)throw new Error(x1[r]);if(this.header=new w7,ia.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=_1.string2buf(e.dictionary):J3.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=ia.inflateSetDictionary(this.strm,e.dictionary),r!==qh)))throw new Error(x1[r])}nd.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let s,a,o;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?x7:b7,J3.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),s=ia.inflate(r,a),s===Ng&&i&&(s=ia.inflateSetDictionary(r,i),s===qh?s=ia.inflate(r,a):s===Sw&&(s=Ng));r.avail_in>0&&s===kg&&r.state.wrap>0&&t[r.next_in]!==0;)ia.inflateReset(r),s=ia.inflate(r,a);switch(s){case _7:case Sw:case Ng:case S7:return this.onEnd(s),this.ended=!0,!1}if(o=r.avail_out,r.next_out&&(r.avail_out===0||s===kg))if(this.options.to==="string"){let l=_1.utf8border(r.output,r.next_out),u=r.next_out-l,h=_1.buf2string(r.output,l);r.next_out=u,r.avail_out=n-u,u&&r.output.set(r.output.subarray(l,l+u),0),this.onData(h)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(s===qh&&o===0)){if(s===kg)return s=ia.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};nd.prototype.onData=function(t){this.chunks.push(t)};nd.prototype.onEnd=function(t){t===qh&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=F3.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function k7(t,e){const r=new nd(e);if(r.push(t),r.err)throw r.msg||x1[r.err];return r.result}var N7=nd,A7=k7,E7={Inflate:N7,inflate:A7};const{Inflate:j7,inflate:C7}=E7;var kw=j7,L7=C7;const Q3=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;Q3[t]=e}const Nw=4294967295;function P7(t,e,r){let n=t;for(let i=0;i<r;i++)n=Q3[(n^e[i])&255]^n>>>8;return n}function O7(t,e){return(P7(Nw,t,e)^Nw)>>>0}function Aw(t,e,r){const n=t.readUint32(),i=O7(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function Y3(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function X3(t,e,r,n){let i=0;for(;i<n;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+e[i-n]&255}function Z3(t,e,r,n){let i=0;if(r.length===0)for(;i<n;i++)e[i]=t[i];else for(;i<n;i++)e[i]=t[i]+r[i]&255}function eS(t,e,r,n,i){let s=0;if(r.length===0){for(;s<i;s++)e[s]=t[s];for(;s<n;s++)e[s]=t[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=t[s]+(r[s]>>1)&255;for(;s<n;s++)e[s]=t[s]+(e[s-i]+r[s]>>1)&255}}function tS(t,e,r,n,i){let s=0;if(r.length===0){for(;s<i;s++)e[s]=t[s];for(;s<n;s++)e[s]=t[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=t[s]+r[s]&255;for(;s<n;s++)e[s]=t[s]+T7(e[s-i],r[s],r[s-i])&255}}function T7(t,e,r){const n=t+e-r,i=Math.abs(n-t),s=Math.abs(n-e),a=Math.abs(n-r);return i<=s&&i<=a?t:s<=a?e:r}function R7(t,e,r,n,i,s){switch(t){case 0:Y3(e,r,i);break;case 1:X3(e,r,i,s);break;case 2:Z3(e,r,n,i);break;case 3:eS(e,r,n,i,s);break;case 4:tS(e,r,n,i,s);break;default:throw new Error(`Unsupported filter: ${t}`)}}const I7=new Uint16Array([255]),F7=new Uint8Array(I7.buffer),D7=F7[0]===255;function M7(t){const{data:e,width:r,height:n,channels:i,depth:s}=t,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(s/8)*i,l=new Uint8Array(n*r*o);let u=0;for(let h=0;h<7;h++){const p=a[h],g=Math.ceil((r-p.x)/p.xStep),d=Math.ceil((n-p.y)/p.yStep);if(g<=0||d<=0)continue;const b=g*o,x=new Uint8Array(b);for(let N=0;N<d;N++){const w=e[u++],S=e.subarray(u,u+b);u+=b;const k=new Uint8Array(b);R7(w,S,k,x,b,o),x.set(k);for(let A=0;A<g;A++){const q=p.x+A*p.xStep,Y=p.y+N*p.yStep;if(!(q>=r||Y>=n))for(let $=0;$<o;$++)l[(Y*r+q)*o+$]=k[A*o+$]}}}if(s===16){const h=new Uint16Array(l.buffer);if(D7)for(let p=0;p<h.length;p++)h[p]=B7(h[p]);return h}else return l}function B7(t){return(t&255)<<8|t>>8&255}const U7=new Uint16Array([255]),z7=new Uint8Array(U7.buffer),$7=z7[0]===255,q7=new Uint8Array(0);function Ew(t){const{data:e,width:r,height:n,channels:i,depth:s}=t,a=Math.ceil(s/8)*i,o=Math.ceil(s/8*i*r),l=new Uint8Array(n*o);let u=q7,h=0,p,g;for(let d=0;d<n;d++){switch(p=e.subarray(h+1,h+1+o),g=l.subarray(d*o,(d+1)*o),e[h]){case 0:Y3(p,g,o);break;case 1:X3(p,g,o,a);break;case 2:Z3(p,g,u,o);break;case 3:eS(p,g,u,o,a);break;case 4:tS(p,g,u,o,a);break;default:throw new Error(`Unsupported filter: ${e[h]}`)}u=g,h+=o+1}if(s===16){const d=new Uint16Array(l.buffer);if($7)for(let b=0;b<d.length;b++)d[b]=W7(d[b]);return d}else return l}function W7(t){return(t&255)<<8|t>>8&255}const Tf=Uint8Array.of(137,80,78,71,13,10,26,10);function jw(t){if(!H7(t.readBytes(Tf.length)))throw new Error("wrong PNG signature")}function H7(t){if(t.length<Tf.length)return!1;for(let e=0;e<Tf.length;e++)if(t[e]!==Tf[e])return!1;return!0}const V7="tEXt",G7=0,rS=new TextDecoder("latin1");function K7(t){if(Q7(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const J7=/^[\u0000-\u00FF]*$/;function Q7(t){if(!J7.test(t))throw new Error("invalid latin1 text")}function Y7(t,e,r){const n=nS(e);t[n]=X7(e,r-n.length-1)}function nS(t){for(t.mark();t.readByte()!==G7;);const e=t.offset;t.reset();const r=rS.decode(t.readBytes(e-t.offset-1));return t.skip(1),K7(r),r}function X7(t,e){return rS.decode(t.readBytes(e))}const ci={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Ag={UNKNOWN:-1,DEFLATE:0},Cw={UNKNOWN:-1,ADAPTIVE:0},Eg={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},pf={NONE:0,BACKGROUND:1,PREVIOUS:2},jg={SOURCE:0,OVER:1};class Z7 extends Hv{constructor(r,n={}){super(r);Wt(this,"_checkCrc");Wt(this,"_inflator");Wt(this,"_png");Wt(this,"_apng");Wt(this,"_end");Wt(this,"_hasPalette");Wt(this,"_palette");Wt(this,"_hasTransparency");Wt(this,"_transparency");Wt(this,"_compressionMethod");Wt(this,"_filterMethod");Wt(this,"_interlaceMethod");Wt(this,"_colorType");Wt(this,"_isAnimated");Wt(this,"_numberOfFrames");Wt(this,"_numberOfPlays");Wt(this,"_frames");Wt(this,"_writingDataChunks");const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new kw,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Ag.UNKNOWN,this._filterMethod=Cw.UNKNOWN,this._interlaceMethod=Eg.UNKNOWN,this._colorType=ci.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(jw(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(jw(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case V7:Y7(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?Aw(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=i+r;break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?Aw(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=eO(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case ci.GREYSCALE:i=1;break;case ci.TRUECOLOUR:i=3;break;case ci.INDEXED_COLOUR:i=1;break;case ci.GREYSCALE_ALPHA:i=2;break;case ci.TRUECOLOUR_ALPHA:i=4;break;case ci.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==Ag.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const i=[];this._palette=i;for(let s=0;s<n;s++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case ci.GREYSCALE:case ci.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case ci.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case ci.UNKNOWN:case ci.GREYSCALE_ALPHA:case ci.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=nS(this),i=this.readUint8();if(i!==Ag.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const s=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:L7(s)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:r,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(r);if(i){if(i.data=Ew({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const s=this._apng.frames.at(r-1);this.disposeFrame(i,s,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,i){switch(r.disposeOp){case pf.NONE:break;case pf.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let a=0;a<this._png.width;a++){const o=(s*r.width+a)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[o+l]=0}break;case pf.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const i=1<<this._png.depth,s=(a,o)=>{const l=((a+n.yOffset)*this._png.width+n.xOffset+o)*this._png.channels,u=(a*n.width+o)*this._png.channels;return{index:l,frameIndex:u}};switch(n.blendOp){case jg.SOURCE:for(let a=0;a<n.height;a++)for(let o=0;o<n.width;o++){const{index:l,frameIndex:u}=s(a,o);for(let h=0;h<this._png.channels;h++)r.data[l+h]=n.data[u+h]}break;case jg.OVER:for(let a=0;a<n.height;a++)for(let o=0;o<n.width;o++){const{index:l,frameIndex:u}=s(a,o);for(let h=0;h<this._png.channels;h++){const p=n.data[u+this._png.channels-1]/i,g=h%(this._png.channels-1)===0?1:n.data[u+h],d=Math.floor(p*g+(1-p)*r.data[l+h]);r.data[l+h]+=d}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==Cw.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Eg.NO_INTERLACE)this._png.data=Ew({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Eg.ADAM7)this._png.data=M7({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:pf.NONE,blendOp:jg.SOURCE,data:r}),this._inflator=new kw,this._writingDataChunks=!1}}function eO(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var Lw;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(Lw||(Lw={}));function tO(t,e){return new Z7(t,e).decode()}var ct=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Cg(){ct.console&&typeof ct.console.log=="function"&&ct.console.log.apply(ct.console,arguments)}var Qt={log:Cg,warn:function(t){ct.console&&(typeof ct.console.warn=="function"?ct.console.warn.apply(ct.console,arguments):Cg.call(null,arguments))},error:function(t){ct.console&&(typeof ct.console.error=="function"?ct.console.error.apply(ct.console,arguments):Cg(t))}};function Lg(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){el(n.response,e,r)},n.onerror=function(){Qt.error("could not download file")},n.send()}function Pw(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function gf(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var el=ct.saveAs||((typeof window>"u"?"undefined":Ht(window))!=="object"||window!==ct?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=ct.URL||ct.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?Pw(i.href)?Lg(t,e,r):gf(i,i.target="_blank"):gf(i)):(i.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){gf(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(Pw(t))Lg(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){gf(n)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:Ht(s)!=="object"&&(Qt.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return Lg(t,e,r);var i=t.type==="application/octet-stream",s=/constructor/i.test(ct.HTMLElement)||ct.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":Ht(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var h=o.result;h=a?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=h:location=h,n=null},o.readAsDataURL(t)}else{var l=ct.URL||ct.webkitURL,u=l.createObjectURL(t);n?n.location=u:location.href=u,n=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function iS(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,s=r[n].process,a=i.exec(t);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+o+l+u}}var Rf=ct.atob.bind(ct),Ow=ct.btoa.bind(ct);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Pg(t,e){var r=t[0],n=t[1],i=t[2],s=t[3];r=yn(r,n,i,s,e[0],7,-680876936),s=yn(s,r,n,i,e[1],12,-389564586),i=yn(i,s,r,n,e[2],17,606105819),n=yn(n,i,s,r,e[3],22,-1044525330),r=yn(r,n,i,s,e[4],7,-176418897),s=yn(s,r,n,i,e[5],12,1200080426),i=yn(i,s,r,n,e[6],17,-1473231341),n=yn(n,i,s,r,e[7],22,-45705983),r=yn(r,n,i,s,e[8],7,1770035416),s=yn(s,r,n,i,e[9],12,-1958414417),i=yn(i,s,r,n,e[10],17,-42063),n=yn(n,i,s,r,e[11],22,-1990404162),r=yn(r,n,i,s,e[12],7,1804603682),s=yn(s,r,n,i,e[13],12,-40341101),i=yn(i,s,r,n,e[14],17,-1502002290),r=wn(r,n=yn(n,i,s,r,e[15],22,1236535329),i,s,e[1],5,-165796510),s=wn(s,r,n,i,e[6],9,-1069501632),i=wn(i,s,r,n,e[11],14,643717713),n=wn(n,i,s,r,e[0],20,-373897302),r=wn(r,n,i,s,e[5],5,-701558691),s=wn(s,r,n,i,e[10],9,38016083),i=wn(i,s,r,n,e[15],14,-660478335),n=wn(n,i,s,r,e[4],20,-405537848),r=wn(r,n,i,s,e[9],5,568446438),s=wn(s,r,n,i,e[14],9,-1019803690),i=wn(i,s,r,n,e[3],14,-187363961),n=wn(n,i,s,r,e[8],20,1163531501),r=wn(r,n,i,s,e[13],5,-1444681467),s=wn(s,r,n,i,e[2],9,-51403784),i=wn(i,s,r,n,e[7],14,1735328473),r=bn(r,n=wn(n,i,s,r,e[12],20,-1926607734),i,s,e[5],4,-378558),s=bn(s,r,n,i,e[8],11,-2022574463),i=bn(i,s,r,n,e[11],16,1839030562),n=bn(n,i,s,r,e[14],23,-35309556),r=bn(r,n,i,s,e[1],4,-1530992060),s=bn(s,r,n,i,e[4],11,1272893353),i=bn(i,s,r,n,e[7],16,-155497632),n=bn(n,i,s,r,e[10],23,-1094730640),r=bn(r,n,i,s,e[13],4,681279174),s=bn(s,r,n,i,e[0],11,-358537222),i=bn(i,s,r,n,e[3],16,-722521979),n=bn(n,i,s,r,e[6],23,76029189),r=bn(r,n,i,s,e[9],4,-640364487),s=bn(s,r,n,i,e[12],11,-421815835),i=bn(i,s,r,n,e[15],16,530742520),r=xn(r,n=bn(n,i,s,r,e[2],23,-995338651),i,s,e[0],6,-198630844),s=xn(s,r,n,i,e[7],10,1126891415),i=xn(i,s,r,n,e[14],15,-1416354905),n=xn(n,i,s,r,e[5],21,-57434055),r=xn(r,n,i,s,e[12],6,1700485571),s=xn(s,r,n,i,e[3],10,-1894986606),i=xn(i,s,r,n,e[10],15,-1051523),n=xn(n,i,s,r,e[1],21,-2054922799),r=xn(r,n,i,s,e[8],6,1873313359),s=xn(s,r,n,i,e[15],10,-30611744),i=xn(i,s,r,n,e[6],15,-1560198380),n=xn(n,i,s,r,e[13],21,1309151649),r=xn(r,n,i,s,e[4],6,-145523070),s=xn(s,r,n,i,e[11],10,-1120210379),i=xn(i,s,r,n,e[2],15,718787259),n=xn(n,i,s,r,e[9],21,-343485551),t[0]=po(r,t[0]),t[1]=po(n,t[1]),t[2]=po(i,t[2]),t[3]=po(s,t[3])}function Xp(t,e,r,n,i,s){return e=po(po(e,t),po(n,s)),po(e<<i|e>>>32-i,r)}function yn(t,e,r,n,i,s,a){return Xp(e&r|~e&n,t,e,i,s,a)}function wn(t,e,r,n,i,s,a){return Xp(e&n|r&~n,t,e,i,s,a)}function bn(t,e,r,n,i,s,a){return Xp(e^r^n,t,e,i,s,a)}function xn(t,e,r,n,i,s,a){return Xp(r^(e|~n),t,e,i,s,a)}function sS(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Pg(n,rO(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(Pg(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*r,Pg(n,i),n}function rO(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var Tw="0123456789abcdef".split("");function nO(t){for(var e="",r=0;r<4;r++)e+=Tw[t>>8*r+4&15]+Tw[t>>8*r&15];return e}function iO(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function S1(t){return sS(t).map(iO).join("")}var sO=function(t){for(var e=0;e<t.length;e++)t[e]=nO(t[e]);return t.join("")}(sS("hello"))!="5d41402abc4b2a76b9719d911017c592";function po(t,e){if(sO){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function k1(t,e){var r,n,i,s;if(t!==r){for(var a=(i=t,s=1+(256/t.length|0),new Array(s+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var u=0;for(l=0;l<256;l++){var h=o[l];u=(u+h+a.charCodeAt(l))%256,o[l]=o[u],o[u]=h}r=t,n=o}else o=n;var p=e.length,g=0,d=0,b="";for(l=0;l<p;l++)d=(d+(h=o[g=(g+1)%256]))%256,o[g]=o[d],o[d]=h,a=o[(o[g]+o[d])%256],b+=String.fromCharCode(e.charCodeAt(l)^a);return b}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Rw={print:4,modify:8,copy:16,"annot-forms":32};function ou(t,e,r,n){this.v=1,this.r=2;var i=192;t.forEach(function(o){if(Rw.perm!==void 0)throw new Error("Invalid permission: "+o);i+=Rw[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),a=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=S1(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=k1(this.encryptionKey,this.padding)}function lu(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[n]}return e}function Iw(t){if(Ht(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var s=Math.random().toString(35);return e[r][s]=[n,!!i],s},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[r]){var a=e[r][s];try{a[0].apply(t,n)}catch(o){ct.console&&Qt.error("jsPDF PubSub Error",o.message,o)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function _p(t){if(!(this instanceof _p))return new _p(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function aS(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function il(t,e,r,n,i){if(!(this instanceof il))return new il(t,e,r,n,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,aS.call(this,n,i)}function xu(t,e,r,n,i){if(!(this instanceof xu))return new xu(t,e,r,n,i);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,aS.call(this,n,i)}function tt(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],s=arguments[3],a=[],o=1,l=16,u="S",h=null;Ht(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,i=t.format||i,s=t.compress||t.compressPdf||s,(h=t.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),u=t.defaultPathOperation||"S"),a=t.filters||(s===!0?["FlateEncode"]:a),n=n||"mm",r=(""+(r||"P")).toLowerCase();var p=t.putOnlyUsedFonts||!1,g={},d={internal:{},__private__:{}};d.__private__.PubSub=Iw;var b="1.3",x=d.__private__.getPdfVersion=function(){return b};d.__private__.setPdfVersion=function(m){b=m};var N={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};d.__private__.getPageFormats=function(){return N};var w=d.__private__.getPageFormat=function(m){return N[m]};i=i||"a4";var S="compat",k="advanced",A=S;function q(){this.saveGraphicsState(),D(new st(ht,0,0,-ht,0,Mo()*ht).toString()+" cm"),this.setFontSize(this.getFontSize()/ht),u="n",A=k}function Y(){this.restoreGraphicsState(),u="S",A=S}var $=d.__private__.combineFontStyleAndFontWeight=function(m,E){if(m=="bold"&&E=="normal"||m=="bold"&&E==400||m=="normal"&&E=="italic"||m=="bold"&&E=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return E&&(m=E==400||E==="normal"?m==="italic"?"italic":"normal":E!=700&&E!=="bold"||m!=="normal"?(E==700?"bold":E)+""+m:"bold"),m};d.advancedAPI=function(m){var E=A===S;return E&&q.call(this),typeof m!="function"||(m(this),E&&Y.call(this)),this},d.compatAPI=function(m){var E=A===k;return E&&Y.call(this),typeof m!="function"||(m(this),E&&q.call(this)),this},d.isAdvancedAPI=function(){return A===k};var M,F=function(m){if(A!==k)throw new Error(m+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},V=d.roundToPrecision=d.__private__.roundToPrecision=function(m,E){var z=e||E;if(isNaN(m)||isNaN(z))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return m.toFixed(z).replace(/0+$/,"")};M=d.hpf=d.__private__.hpf=typeof l=="number"?function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return V(m,l)}:l==="smart"?function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return V(m,m>-1&&m<1?16:5)}:function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return V(m,16)};var L=d.f2=d.__private__.f2=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.f2");return V(m,2)},R=d.__private__.f3=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.f3");return V(m,3)},K=d.scale=d.__private__.scale=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.scale");return A===S?m*ht:A===k?m:void 0},J=function(m){return K(function(E){return A===S?Mo()-E:A===k?E:void 0}(m))};d.__private__.setPrecision=d.setPrecision=function(m){typeof parseInt(m,10)=="number"&&(e=parseInt(m,10))};var de,me="00000000000000000000000000000000",pe=d.__private__.getFileId=function(){return me},Q=d.__private__.setFileId=function(m){return me=m!==void 0&&/^[a-fA-F0-9]{32}$/.test(m)?m.toUpperCase():me.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(Mr=new ou(h.userPermissions,h.userPassword,h.ownerPassword,me)),me};d.setFileId=function(m){return Q(m),this},d.getFileId=function(){return pe()};var se=d.__private__.convertDateToPDFDate=function(m){var E=m.getTimezoneOffset(),z=E<0?"+":"-",Z=Math.floor(Math.abs(E/60)),oe=Math.abs(E%60),Se=[z,H(Z),"'",H(oe),"'"].join("");return["D:",m.getFullYear(),H(m.getMonth()+1),H(m.getDate()),H(m.getHours()),H(m.getMinutes()),H(m.getSeconds()),Se].join("")},fe=d.__private__.convertPDFDateToDate=function(m){var E=parseInt(m.substr(2,4),10),z=parseInt(m.substr(6,2),10)-1,Z=parseInt(m.substr(8,2),10),oe=parseInt(m.substr(10,2),10),Se=parseInt(m.substr(12,2),10),Ae=parseInt(m.substr(14,2),10);return new Date(E,z,Z,oe,Se,Ae,0)},ge=d.__private__.setCreationDate=function(m){var E;if(m===void 0&&(m=new Date),m instanceof Date)E=se(m);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(m))throw new Error("Invalid argument passed to jsPDF.setCreationDate");E=m}return de=E},C=d.__private__.getCreationDate=function(m){var E=de;return m==="jsDate"&&(E=fe(de)),E};d.setCreationDate=function(m){return ge(m),this},d.getCreationDate=function(m){return C(m)};var W,H=d.__private__.padd2=function(m){return("0"+parseInt(m)).slice(-2)},ee=d.__private__.padd2Hex=function(m){return("00"+(m=m.toString())).substr(m.length)},te=0,ae=[],ye=[],ve=0,_e=[],je=[],Te=!1,Re=ye;d.__private__.setCustomOutputDestination=function(m){Te=!0,Re=m};var He=function(m){Te||(Re=m)};d.__private__.resetCustomOutputDestination=function(){Te=!1,Re=ye};var D=d.__private__.out=function(m){return m=m.toString(),ve+=m.length+1,Re.push(m),Re},G=d.__private__.write=function(m){return D(arguments.length===1?m.toString():Array.prototype.join.call(arguments," "))},Ne=d.__private__.getArrayBuffer=function(m){for(var E=m.length,z=new ArrayBuffer(E),Z=new Uint8Array(z);E--;)Z[E]=m.charCodeAt(E);return z},Pe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];d.__private__.getStandardFonts=function(){return Pe};var be=t.fontSize||16;d.__private__.setFontSize=d.setFontSize=function(m){return be=A===k?m/ht:m,this};var Je,Fe=d.__private__.getFontSize=d.getFontSize=function(){return A===S?be:be*ht},Qe=t.R2L||!1;d.__private__.setR2L=d.setR2L=function(m){return Qe=m,this},d.__private__.getR2L=d.getR2L=function(){return Qe};var Ve,Ct=d.__private__.setZoomMode=function(m){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(m))Je=m;else if(isNaN(m)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(m)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+m+'" is not recognized.');Je=m}else Je=parseInt(m,10)};d.__private__.getZoomMode=function(){return Je};var ft,qe=d.__private__.setPageMode=function(m){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(m)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+m+'" is not recognized.');Ve=m};d.__private__.getPageMode=function(){return Ve};var at=d.__private__.setLayoutMode=function(m){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(m)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+m+'" is not recognized.');ft=m};d.__private__.getLayoutMode=function(){return ft},d.__private__.setDisplayMode=d.setDisplayMode=function(m,E,z){return Ct(m),at(E),qe(z),this};var xt={title:"",subject:"",author:"",keywords:"",creator:""};d.__private__.getDocumentProperty=function(m){if(Object.keys(xt).indexOf(m)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return xt[m]},d.__private__.getDocumentProperties=function(){return xt},d.__private__.setDocumentProperties=d.setProperties=d.setDocumentProperties=function(m){for(var E in xt)xt.hasOwnProperty(E)&&m[E]&&(xt[E]=m[E]);return this},d.__private__.setDocumentProperty=function(m,E){if(Object.keys(xt).indexOf(m)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return xt[m]=E};var ze,ht,Xe,lr,Et,yt={},mt={},Gt=[],rt={},Mt={},ot={},ut={},Yt=null,Nt=0,it=[],Dt=new Iw(d),os=t.hotfixes||[],Yr={},xi={},_i=[],st=function m(E,z,Z,oe,Se,Ae){if(!(this instanceof m))return new m(E,z,Z,oe,Se,Ae);isNaN(E)&&(E=1),isNaN(z)&&(z=0),isNaN(Z)&&(Z=0),isNaN(oe)&&(oe=1),isNaN(Se)&&(Se=0),isNaN(Ae)&&(Ae=0),this._matrix=[E,z,Z,oe,Se,Ae]};Object.defineProperty(st.prototype,"sx",{get:function(){return this._matrix[0]},set:function(m){this._matrix[0]=m}}),Object.defineProperty(st.prototype,"shy",{get:function(){return this._matrix[1]},set:function(m){this._matrix[1]=m}}),Object.defineProperty(st.prototype,"shx",{get:function(){return this._matrix[2]},set:function(m){this._matrix[2]=m}}),Object.defineProperty(st.prototype,"sy",{get:function(){return this._matrix[3]},set:function(m){this._matrix[3]=m}}),Object.defineProperty(st.prototype,"tx",{get:function(){return this._matrix[4]},set:function(m){this._matrix[4]=m}}),Object.defineProperty(st.prototype,"ty",{get:function(){return this._matrix[5]},set:function(m){this._matrix[5]=m}}),Object.defineProperty(st.prototype,"a",{get:function(){return this._matrix[0]},set:function(m){this._matrix[0]=m}}),Object.defineProperty(st.prototype,"b",{get:function(){return this._matrix[1]},set:function(m){this._matrix[1]=m}}),Object.defineProperty(st.prototype,"c",{get:function(){return this._matrix[2]},set:function(m){this._matrix[2]=m}}),Object.defineProperty(st.prototype,"d",{get:function(){return this._matrix[3]},set:function(m){this._matrix[3]=m}}),Object.defineProperty(st.prototype,"e",{get:function(){return this._matrix[4]},set:function(m){this._matrix[4]=m}}),Object.defineProperty(st.prototype,"f",{get:function(){return this._matrix[5]},set:function(m){this._matrix[5]=m}}),Object.defineProperty(st.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(st.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(st.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(st.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),st.prototype.join=function(m){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(M).join(m)},st.prototype.multiply=function(m){var E=m.sx*this.sx+m.shy*this.shx,z=m.sx*this.shy+m.shy*this.sy,Z=m.shx*this.sx+m.sy*this.shx,oe=m.shx*this.shy+m.sy*this.sy,Se=m.tx*this.sx+m.ty*this.shx+this.tx,Ae=m.tx*this.shy+m.ty*this.sy+this.ty;return new st(E,z,Z,oe,Se,Ae)},st.prototype.decompose=function(){var m=this.sx,E=this.shy,z=this.shx,Z=this.sy,oe=this.tx,Se=this.ty,Ae=Math.sqrt(m*m+E*E),We=(m/=Ae)*z+(E/=Ae)*Z;z-=m*We,Z-=E*We;var Ye=Math.sqrt(z*z+Z*Z);return We/=Ye,m*(Z/=Ye)<E*(z/=Ye)&&(m=-m,E=-E,We=-We,Ae=-Ae),{scale:new st(Ae,0,0,Ye,0,0),translate:new st(1,0,0,1,oe,Se),rotate:new st(m,E,-E,m,0,0),skew:new st(1,0,We,1,0,0)}},st.prototype.toString=function(m){return this.join(" ")},st.prototype.inversed=function(){var m=this.sx,E=this.shy,z=this.shx,Z=this.sy,oe=this.tx,Se=this.ty,Ae=1/(m*Z-E*z),We=Z*Ae,Ye=-E*Ae,dt=-z*Ae,bt=m*Ae;return new st(We,Ye,dt,bt,-We*oe-dt*Se,-Ye*oe-bt*Se)},st.prototype.applyToPoint=function(m){var E=m.x*this.sx+m.y*this.shx+this.tx,z=m.x*this.shy+m.y*this.sy+this.ty;return new Bs(E,z)},st.prototype.applyToRectangle=function(m){var E=this.applyToPoint(m),z=this.applyToPoint(new Bs(m.x+m.w,m.y+m.h));return new wc(E.x,E.y,z.x-E.x,z.y-E.y)},st.prototype.clone=function(){var m=this.sx,E=this.shy,z=this.shx,Z=this.sy,oe=this.tx,Se=this.ty;return new st(m,E,z,Z,oe,Se)},d.Matrix=st;var kn=d.matrixMult=function(m,E){return E.multiply(m)},Si=new st(1,0,0,1,0,0);d.unitMatrix=d.identityMatrix=Si;var Oe=function(m,E){if(!Mt[m]){var z=(E instanceof il?"Sh":"P")+(Object.keys(rt).length+1).toString(10);E.id=z,Mt[m]=z,rt[z]=E,Dt.publish("addPattern",E)}};d.ShadingPattern=il,d.TilingPattern=xu,d.addShadingPattern=function(m,E){return F("addShadingPattern()"),Oe(m,E),this},d.beginTilingPattern=function(m){F("beginTilingPattern()"),bc(m.boundingBox[0],m.boundingBox[1],m.boundingBox[2]-m.boundingBox[0],m.boundingBox[3]-m.boundingBox[1],m.matrix)},d.endTilingPattern=function(m,E){F("endTilingPattern()"),E.stream=je[W].join(`
`),Oe(m,E),Dt.publish("endTilingPattern",E),_i.pop().restore()};var dn,Xt=d.__private__.newObject=function(){var m=Pr();return _r(m,!0),m},Pr=d.__private__.newObjectDeferred=function(){return te++,ae[te]=function(){return ve},te},_r=function(m,E){return E=typeof E=="boolean"&&E,ae[m]=ve,E&&D(m+" 0 obj"),m},Ls=d.__private__.newAdditionalObject=function(){var m={objId:Pr(),content:""};return _e.push(m),m},ls=Pr(),Bn=Pr(),Zn=d.__private__.decodeColorString=function(m){var E=m.split(" ");if(E.length!==2||E[1]!=="g"&&E[1]!=="G")E.length!==5||E[4]!=="k"&&E[4]!=="K"||(E=[(1-E[0])*(1-E[3]),(1-E[1])*(1-E[3]),(1-E[2])*(1-E[3]),"r"]);else{var z=parseFloat(E[0]);E=[z,z,z,"r"]}for(var Z="#",oe=0;oe<3;oe++)Z+=("0"+Math.floor(255*parseFloat(E[oe])).toString(16)).slice(-2);return Z},ei=d.__private__.encodeColorString=function(m){var E;typeof m=="string"&&(m={ch1:m});var z=m.ch1,Z=m.ch2,oe=m.ch3,Se=m.ch4,Ae=m.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof z=="string"&&z.charAt(0)!=="#"){var We=new iS(z);if(We.ok)z=We.toHex();else if(!/^\d*\.?\d*$/.test(z))throw new Error('Invalid color "'+z+'" passed to jsPDF.encodeColorString.')}if(typeof z=="string"&&/^#[0-9A-Fa-f]{3}$/.test(z)&&(z="#"+z[1]+z[1]+z[2]+z[2]+z[3]+z[3]),typeof z=="string"&&/^#[0-9A-Fa-f]{6}$/.test(z)){var Ye=parseInt(z.substr(1),16);z=Ye>>16&255,Z=Ye>>8&255,oe=255&Ye}if(Z===void 0||Se===void 0&&z===Z&&Z===oe)E=typeof z=="string"?z+" "+Ae[0]:m.precision===2?L(z/255)+" "+Ae[0]:R(z/255)+" "+Ae[0];else if(Se===void 0||Ht(Se)==="object"){if(Se&&!isNaN(Se.a)&&Se.a===0)return["1.","1.","1.",Ae[1]].join(" ");E=typeof z=="string"?[z,Z,oe,Ae[1]].join(" "):m.precision===2?[L(z/255),L(Z/255),L(oe/255),Ae[1]].join(" "):[R(z/255),R(Z/255),R(oe/255),Ae[1]].join(" ")}else E=typeof z=="string"?[z,Z,oe,Se,Ae[2]].join(" "):m.precision===2?[L(z),L(Z),L(oe),L(Se),Ae[2]].join(" "):[R(z),R(Z),R(oe),R(Se),Ae[2]].join(" ");return E},Un=d.__private__.getFilters=function(){return a},zn=d.__private__.putStream=function(m){var E=(m=m||{}).data||"",z=m.filters||Un(),Z=m.alreadyAppliedFilters||[],oe=m.addLength1||!1,Se=E.length,Ae=m.objectId,We=function(Br){return Br};if(h!==null&&Ae===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(We=Mr.encryptor(Ae,0));var Ye={};z===!0&&(z=["FlateEncode"]);var dt=m.additionalKeyValues||[],bt=(Ye=tt.API.processDataByFilters!==void 0?tt.API.processDataByFilters(E,z):{data:E,reverseChain:[]}).reverseChain+(Array.isArray(Z)?Z.join(" "):Z.toString());if(Ye.data.length!==0&&(dt.push({key:"Length",value:Ye.data.length}),oe===!0&&dt.push({key:"Length1",value:Se})),bt.length!=0)if(bt.split("/").length-1==1)dt.push({key:"Filter",value:bt});else{dt.push({key:"Filter",value:"["+bt+"]"});for(var Rt=0;Rt<dt.length;Rt+=1)if(dt[Rt].key==="DecodeParms"){for(var hr=[],Tr=0;Tr<Ye.reverseChain.split("/").length-1;Tr+=1)hr.push("null");hr.push(dt[Rt].value),dt[Rt].value="["+hr.join(" ")+"]"}}D("<<");for(var Zt=0;Zt<dt.length;Zt++)D("/"+dt[Zt].key+" "+dt[Zt].value);D(">>"),Ye.data.length!==0&&(D("stream"),D(We(Ye.data)),D("endstream"))},Ps=d.__private__.putPage=function(m){var E=m.number,z=m.data,Z=m.objId,oe=m.contentsObjId;_r(Z,!0),D("<</Type /Page"),D("/Parent "+m.rootDictionaryObjId+" 0 R"),D("/Resources "+m.resourceDictionaryObjId+" 0 R"),D("/MediaBox ["+parseFloat(M(m.mediaBox.bottomLeftX))+" "+parseFloat(M(m.mediaBox.bottomLeftY))+" "+M(m.mediaBox.topRightX)+" "+M(m.mediaBox.topRightY)+"]"),m.cropBox!==null&&D("/CropBox ["+M(m.cropBox.bottomLeftX)+" "+M(m.cropBox.bottomLeftY)+" "+M(m.cropBox.topRightX)+" "+M(m.cropBox.topRightY)+"]"),m.bleedBox!==null&&D("/BleedBox ["+M(m.bleedBox.bottomLeftX)+" "+M(m.bleedBox.bottomLeftY)+" "+M(m.bleedBox.topRightX)+" "+M(m.bleedBox.topRightY)+"]"),m.trimBox!==null&&D("/TrimBox ["+M(m.trimBox.bottomLeftX)+" "+M(m.trimBox.bottomLeftY)+" "+M(m.trimBox.topRightX)+" "+M(m.trimBox.topRightY)+"]"),m.artBox!==null&&D("/ArtBox ["+M(m.artBox.bottomLeftX)+" "+M(m.artBox.bottomLeftY)+" "+M(m.artBox.topRightX)+" "+M(m.artBox.topRightY)+"]"),typeof m.userUnit=="number"&&m.userUnit!==1&&D("/UserUnit "+m.userUnit),Dt.publish("putPage",{objId:Z,pageContext:it[E],pageNumber:E,page:z}),D("/Contents "+oe+" 0 R"),D(">>"),D("endobj");var Se=z.join(`
`);return A===k&&(Se+=`
Q`),_r(oe,!0),zn({data:Se,filters:Un(),objectId:oe}),D("endobj"),Z},ti=d.__private__.putPages=function(){var m,E,z=[];for(m=1;m<=Nt;m++)it[m].objId=Pr(),it[m].contentsObjId=Pr();for(m=1;m<=Nt;m++)z.push(Ps({number:m,data:je[m],objId:it[m].objId,contentsObjId:it[m].contentsObjId,mediaBox:it[m].mediaBox,cropBox:it[m].cropBox,bleedBox:it[m].bleedBox,trimBox:it[m].trimBox,artBox:it[m].artBox,userUnit:it[m].userUnit,rootDictionaryObjId:ls,resourceDictionaryObjId:Bn}));_r(ls,!0),D("<</Type /Pages");var Z="/Kids [";for(E=0;E<Nt;E++)Z+=z[E]+" 0 R ";D(Z+"]"),D("/Count "+Nt),D(">>"),D("endobj"),Dt.publish("postPutPages")},Os=function(m){Dt.publish("putFont",{font:m,out:D,newObject:Xt,putStream:zn}),m.isAlreadyPutted!==!0&&(m.objectNumber=Xt(),D("<<"),D("/Type /Font"),D("/BaseFont /"+lu(m.postScriptName)),D("/Subtype /Type1"),typeof m.encoding=="string"&&D("/Encoding /"+m.encoding),D("/FirstChar 32"),D("/LastChar 255"),D(">>"),D("endobj"))},_a=function(m){m.objectNumber=Xt();var E=[];E.push({key:"Type",value:"/XObject"}),E.push({key:"Subtype",value:"/Form"}),E.push({key:"BBox",value:"["+[M(m.x),M(m.y),M(m.x+m.width),M(m.y+m.height)].join(" ")+"]"}),E.push({key:"Matrix",value:"["+m.matrix.toString()+"]"});var z=m.pages[1].join(`
`);zn({data:z,additionalKeyValues:E,objectId:m.objectNumber}),D("endobj")},Sa=function(m,E){E||(E=21);var z=Xt(),Z=function(Ae,We){var Ye,dt=[],bt=1/(We-1);for(Ye=0;Ye<1;Ye+=bt)dt.push(Ye);if(dt.push(1),Ae[0].offset!=0){var Rt={offset:0,color:Ae[0].color};Ae.unshift(Rt)}if(Ae[Ae.length-1].offset!=1){var hr={offset:1,color:Ae[Ae.length-1].color};Ae.push(hr)}for(var Tr="",Zt=0,Br=0;Br<dt.length;Br++){for(Ye=dt[Br];Ye>Ae[Zt+1].offset;)Zt++;var Rr=Ae[Zt].offset,rn=(Ye-Rr)/(Ae[Zt+1].offset-Rr),$s=Ae[Zt].color,Ui=Ae[Zt+1].color;Tr+=ee(Math.round((1-rn)*$s[0]+rn*Ui[0]).toString(16))+ee(Math.round((1-rn)*$s[1]+rn*Ui[1]).toString(16))+ee(Math.round((1-rn)*$s[2]+rn*Ui[2]).toString(16))}return Tr.trim()}(m.colors,E),oe=[];oe.push({key:"FunctionType",value:"0"}),oe.push({key:"Domain",value:"[0.0 1.0]"}),oe.push({key:"Size",value:"["+E+"]"}),oe.push({key:"BitsPerSample",value:"8"}),oe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),oe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),zn({data:Z,additionalKeyValues:oe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:z}),D("endobj"),m.objectNumber=Xt(),D("<< /ShadingType "+m.type),D("/ColorSpace /DeviceRGB");var Se="/Coords ["+M(parseFloat(m.coords[0]))+" "+M(parseFloat(m.coords[1]))+" ";m.type===2?Se+=M(parseFloat(m.coords[2]))+" "+M(parseFloat(m.coords[3])):Se+=M(parseFloat(m.coords[2]))+" "+M(parseFloat(m.coords[3]))+" "+M(parseFloat(m.coords[4]))+" "+M(parseFloat(m.coords[5])),D(Se+="]"),m.matrix&&D("/Matrix ["+m.matrix.toString()+"]"),D("/Function "+z+" 0 R"),D("/Extend [true true]"),D(">>"),D("endobj")},ka=function(m,E){var z=Pr(),Z=Xt();E.push({resourcesOid:z,objectOid:Z}),m.objectNumber=Z;var oe=[];oe.push({key:"Type",value:"/Pattern"}),oe.push({key:"PatternType",value:"1"}),oe.push({key:"PaintType",value:"1"}),oe.push({key:"TilingType",value:"1"}),oe.push({key:"BBox",value:"["+m.boundingBox.map(M).join(" ")+"]"}),oe.push({key:"XStep",value:M(m.xStep)}),oe.push({key:"YStep",value:M(m.yStep)}),oe.push({key:"Resources",value:z+" 0 R"}),m.matrix&&oe.push({key:"Matrix",value:"["+m.matrix.toString()+"]"}),zn({data:m.stream,additionalKeyValues:oe,objectId:m.objectNumber}),D("endobj")},fc=function(m){for(var E in m.objectNumber=Xt(),D("<<"),m)switch(E){case"opacity":D("/ca "+L(m[E]));break;case"stroke-opacity":D("/CA "+L(m[E]))}D(">>"),D("endobj")},Na=function(m){_r(m.resourcesOid,!0),D("<<"),D("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var E in D("/Font <<"),yt)yt.hasOwnProperty(E)&&(p===!1||p===!0&&g.hasOwnProperty(E))&&D("/"+E+" "+yt[E].objectNumber+" 0 R");D(">>")}(),function(){if(Object.keys(rt).length>0){for(var E in D("/Shading <<"),rt)rt.hasOwnProperty(E)&&rt[E]instanceof il&&rt[E].objectNumber>=0&&D("/"+E+" "+rt[E].objectNumber+" 0 R");Dt.publish("putShadingPatternDict"),D(">>")}}(),function(E){if(Object.keys(rt).length>0){for(var z in D("/Pattern <<"),rt)rt.hasOwnProperty(z)&&rt[z]instanceof d.TilingPattern&&rt[z].objectNumber>=0&&rt[z].objectNumber<E&&D("/"+z+" "+rt[z].objectNumber+" 0 R");Dt.publish("putTilingPatternDict"),D(">>")}}(m.objectOid),function(){if(Object.keys(ot).length>0){var E;for(E in D("/ExtGState <<"),ot)ot.hasOwnProperty(E)&&ot[E].objectNumber>=0&&D("/"+E+" "+ot[E].objectNumber+" 0 R");Dt.publish("putGStateDict"),D(">>")}}(),function(){for(var E in D("/XObject <<"),Yr)Yr.hasOwnProperty(E)&&Yr[E].objectNumber>=0&&D("/"+E+" "+Yr[E].objectNumber+" 0 R");Dt.publish("putXobjectDict"),D(">>")}(),D(">>"),D("endobj")},le=function(m){mt[m.fontName]=mt[m.fontName]||{},mt[m.fontName][m.fontStyle]=m.id},pt=function(m,E,z,Z,oe){var Se={id:"F"+(Object.keys(yt).length+1).toString(10),postScriptName:m,fontName:E,fontStyle:z,encoding:Z,isStandardFont:oe||!1,metadata:{}};return Dt.publish("addFont",{font:Se,instance:this}),yt[Se.id]=Se,le(Se),Se.id},Bt=d.__private__.pdfEscape=d.pdfEscape=function(m,E){return function(z,Z){var oe,Se,Ae,We,Ye,dt,bt,Rt,hr;if(Ae=(Z=Z||{}).sourceEncoding||"Unicode",Ye=Z.outputEncoding,(Z.autoencode||Ye)&&yt[ze].metadata&&yt[ze].metadata[Ae]&&yt[ze].metadata[Ae].encoding&&(We=yt[ze].metadata[Ae].encoding,!Ye&&yt[ze].encoding&&(Ye=yt[ze].encoding),!Ye&&We.codePages&&(Ye=We.codePages[0]),typeof Ye=="string"&&(Ye=We[Ye]),Ye)){for(bt=!1,dt=[],oe=0,Se=z.length;oe<Se;oe++)(Rt=Ye[z.charCodeAt(oe)])?dt.push(String.fromCharCode(Rt)):dt.push(z[oe]),dt[oe].charCodeAt(0)>>8&&(bt=!0);z=dt.join("")}for(oe=z.length;bt===void 0&&oe!==0;)z.charCodeAt(oe-1)>>8&&(bt=!0),oe--;if(!bt)return z;for(dt=Z.noBOM?[]:[254,255],oe=0,Se=z.length;oe<Se;oe++){if((hr=(Rt=z.charCodeAt(oe))>>8)>>8)throw new Error("Character at position "+oe+" of string '"+z+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");dt.push(hr),dt.push(Rt-(hr<<8))}return String.fromCharCode.apply(void 0,dt)}(m,E).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Or=d.__private__.beginPage=function(m){je[++Nt]=[],it[Nt]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(m[0]),topRightY:Number(m[1])}},us(Nt),He(je[W])},Dr=function(m,E){var z,Z,oe;switch(r=E||r,typeof m=="string"&&(z=w(m.toLowerCase()),Array.isArray(z)&&(Z=z[0],oe=z[1])),Array.isArray(m)&&(Z=m[0]*ht,oe=m[1]*ht),isNaN(Z)&&(Z=i[0],oe=i[1]),(Z>14400||oe>14400)&&(Qt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Z=Math.min(14400,Z),oe=Math.min(14400,oe)),i=[Z,oe],r.substr(0,1)){case"l":oe>Z&&(i=[oe,Z]);break;case"p":Z>oe&&(i=[oe,Z])}Or(i),gt(gc),D(zl),vc!==0&&D(vc+" J"),yc!==0&&D(yc+" j"),Dt.publish("addPage",{pageNumber:Nt})},Nn=function(m){m>0&&m<=Nt&&(je.splice(m,1),it.splice(m,1),Nt--,W>Nt&&(W=Nt),this.setPage(W))},us=function(m){m>0&&m<=Nt&&(W=m)},Ts=d.__private__.getNumberOfPages=d.getNumberOfPages=function(){return je.length-1},Rs=function(m,E,z){var Z,oe=void 0;return z=z||{},m=m!==void 0?m:yt[ze].fontName,E=E!==void 0?E:yt[ze].fontStyle,Z=m.toLowerCase(),mt[Z]!==void 0&&mt[Z][E]!==void 0?oe=mt[Z][E]:mt[m]!==void 0&&mt[m][E]!==void 0?oe=mt[m][E]:z.disableWarning===!1&&Qt.warn("Unable to look up font label for font '"+m+"', '"+E+"'. Refer to getFontList() for available fonts."),oe||z.noFallback||(oe=mt.times[E])==null&&(oe=mt.times.normal),oe},fn=d.__private__.putInfo=function(){var m=Xt(),E=function(Z){return Z};for(var z in h!==null&&(E=Mr.encryptor(m,0)),D("<<"),D("/Producer ("+Bt(E("jsPDF "+tt.version))+")"),xt)xt.hasOwnProperty(z)&&xt[z]&&D("/"+z.substr(0,1).toUpperCase()+z.substr(1)+" ("+Bt(E(xt[z]))+")");D("/CreationDate ("+Bt(E(de))+")"),D(">>"),D("endobj")},cs=d.__private__.putCatalog=function(m){var E=(m=m||{}).rootDictionaryObjId||ls;switch(Xt(),D("<<"),D("/Type /Catalog"),D("/Pages "+E+" 0 R"),Je||(Je="fullwidth"),Je){case"fullwidth":D("/OpenAction [3 0 R /FitH null]");break;case"fullheight":D("/OpenAction [3 0 R /FitV null]");break;case"fullpage":D("/OpenAction [3 0 R /Fit]");break;case"original":D("/OpenAction [3 0 R /XYZ null null 1]");break;default:var z=""+Je;z.substr(z.length-1)==="%"&&(Je=parseInt(Je)/100),typeof Je=="number"&&D("/OpenAction [3 0 R /XYZ null null "+L(Je)+"]")}switch(ft||(ft="continuous"),ft){case"continuous":D("/PageLayout /OneColumn");break;case"single":D("/PageLayout /SinglePage");break;case"two":case"twoleft":D("/PageLayout /TwoColumnLeft");break;case"tworight":D("/PageLayout /TwoColumnRight")}Ve&&D("/PageMode /"+Ve),Dt.publish("putCatalog"),D(">>"),D("endobj")},Ml=d.__private__.putTrailer=function(){D("trailer"),D("<<"),D("/Size "+(te+1)),D("/Root "+te+" 0 R"),D("/Info "+(te-1)+" 0 R"),h!==null&&D("/Encrypt "+Mr.oid+" 0 R"),D("/ID [ <"+me+"> <"+me+"> ]"),D(">>")},Lt=d.__private__.putHeader=function(){D("%PDF-"+b),D("%")},Bl=d.__private__.putXRef=function(){var m="0000000000";D("xref"),D("0 "+(te+1)),D("0000000000 65535 f ");for(var E=1;E<=te;E++)typeof ae[E]=="function"?D((m+ae[E]()).slice(-10)+" 00000 n "):ae[E]!==void 0?D((m+ae[E]).slice(-10)+" 00000 n "):D("0000000000 00000 n ")},ki=d.__private__.buildDocument=function(){var m;te=0,ve=0,ye=[],ae=[],_e=[],ls=Pr(),Bn=Pr(),He(ye),Dt.publish("buildDocument"),Lt(),ti(),function(){Dt.publish("putAdditionalObjects");for(var z=0;z<_e.length;z++){var Z=_e[z];_r(Z.objId,!0),D(Z.content),D("endobj")}Dt.publish("postPutAdditionalObjects")}(),m=[],function(){for(var z in yt)yt.hasOwnProperty(z)&&(p===!1||p===!0&&g.hasOwnProperty(z))&&Os(yt[z])}(),function(){var z;for(z in ot)ot.hasOwnProperty(z)&&fc(ot[z])}(),function(){for(var z in Yr)Yr.hasOwnProperty(z)&&_a(Yr[z])}(),function(z){var Z;for(Z in rt)rt.hasOwnProperty(Z)&&(rt[Z]instanceof il?Sa(rt[Z]):rt[Z]instanceof xu&&ka(rt[Z],z))}(m),Dt.publish("putResources"),m.forEach(Na),Na({resourcesOid:Bn,objectOid:Number.MAX_SAFE_INTEGER}),Dt.publish("postPutResources"),h!==null&&(Mr.oid=Xt(),D("<<"),D("/Filter /Standard"),D("/V "+Mr.v),D("/R "+Mr.r),D("/U <"+Mr.toHexString(Mr.U)+">"),D("/O <"+Mr.toHexString(Mr.O)+">"),D("/P "+Mr.P),D(">>"),D("endobj")),fn(),cs();var E=ve;return Bl(),Ml(),D("startxref"),D(""+E),D("%%EOF"),He(je[W]),ye.join(`
`)},Aa=d.__private__.getBlob=function(m){return new Blob([Ne(m)],{type:"application/pdf"})},pn=d.output=d.__private__.output=(dn=function(m,E){switch(typeof(E=E||{})=="string"?E={filename:E}:E.filename=E.filename||"generated.pdf",m){case void 0:return ki();case"save":d.save(E.filename);break;case"arraybuffer":return Ne(ki());case"blob":return Aa(ki());case"bloburi":case"bloburl":if(ct.URL!==void 0&&typeof ct.URL.createObjectURL=="function")return ct.URL&&ct.URL.createObjectURL(Aa(ki()))||void 0;Qt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var z="",Z=ki();try{z=Ow(Z)}catch{z=Ow(unescape(encodeURIComponent(Z)))}return"data:application/pdf;filename="+E.filename+";base64,"+z;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ct)==="[object Window]"){var oe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Se=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';E.pdfObjectUrl&&(oe=E.pdfObjectUrl,Se="");var Ae='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+oe+'"'+Se+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(E)+");<\/script></body></html>",We=ct.open();return We!==null&&We.document.write(Ae),We}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ct)==="[object Window]"){var Ye='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(E.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+E.filename+'" width="500px" height="400px" /></body></html>',dt=ct.open();if(dt!==null){dt.document.write(Ye);var bt=this;dt.document.documentElement.querySelector("#pdfViewer").onload=function(){dt.document.title=E.filename,dt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(bt.output("bloburl"))}}return dt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ct)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Rt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",E)+'"></iframe></body></html>',hr=ct.open();if(hr!==null&&(hr.document.write(Rt),hr.document.title=E.filename),hr||typeof safari>"u")return hr;break;case"datauri":case"dataurl":return ct.document.location.href=this.output("datauristring",E);default:return null}},dn.foo=function(){try{return dn.apply(this,arguments)}catch(z){var m=z.stack||"";~m.indexOf(" at ")&&(m=m.split(" at ")[1]);var E="Error in function "+m.split(`
`)[0].split("<")[0]+": "+z.message;if(!ct.console)throw new Error(E);ct.console.error(E,z),ct.alert&&alert(E)}},dn.foo.bar=dn,dn.foo),Ni=function(m){return Array.isArray(os)===!0&&os.indexOf(m)>-1};switch(n){case"pt":ht=1;break;case"mm":ht=72/25.4;break;case"cm":ht=72/2.54;break;case"in":ht=72;break;case"px":ht=Ni("px_scaling")==1?.75:96/72;break;case"pc":case"em":ht=12;break;case"ex":ht=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);ht=n}var Mr=null;ge(),Q();var Is=d.__private__.getPageInfo=d.getPageInfo=function(m){if(isNaN(m)||m%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:it[m].objId,pageNumber:m,pageContext:it[m]}},id=d.__private__.getPageInfoByObjId=function(m){if(isNaN(m)||m%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var E in it)if(it[E].objId===m)break;return Is(E)},e0=d.__private__.getCurrentPageInfo=d.getCurrentPageInfo=function(){return{objId:it[W].objId,pageNumber:W,pageContext:it[W]}};d.addPage=function(){return Dr.apply(this,arguments),this},d.setPage=function(){return us.apply(this,arguments),He.call(this,je[W]),this},d.insertPage=function(m){return this.addPage(),this.movePage(W,m),this},d.movePage=function(m,E){var z,Z;if(m>E){z=je[m],Z=it[m];for(var oe=m;oe>E;oe--)je[oe]=je[oe-1],it[oe]=it[oe-1];je[E]=z,it[E]=Z,this.setPage(E)}else if(m<E){z=je[m],Z=it[m];for(var Se=m;Se<E;Se++)je[Se]=je[Se+1],it[Se]=it[Se+1];je[E]=z,it[E]=Z,this.setPage(E)}return this},d.deletePage=function(){return Nn.apply(this,arguments),this},d.__private__.text=d.text=function(m,E,z,Z,oe){var Se,Ae,We,Ye,dt,bt,Rt,hr,Tr,Zt=(Z=Z||{}).scope||this;if(typeof m=="number"&&typeof E=="number"&&(typeof z=="string"||Array.isArray(z))){var Br=z;z=E,E=m,m=Br}if(arguments[3]instanceof st==0?(We=arguments[4],Ye=arguments[5],Ht(Rt=arguments[3])==="object"&&Rt!==null||(typeof We=="string"&&(Ye=We,We=null),typeof Rt=="string"&&(Ye=Rt,Rt=null),typeof Rt=="number"&&(We=Rt,Rt=null),Z={flags:Rt,angle:We,align:Ye})):(F("The transform parameter of text() with a Matrix value"),Tr=oe),isNaN(E)||isNaN(z)||m==null)throw new Error("Invalid arguments passed to jsPDF.text");if(m.length===0)return Zt;var Rr,rn="",$s=typeof Z.lineHeightFactor=="number"?Z.lineHeightFactor:Io,Ui=Zt.internal.scaleFactor;function qs(Ut){return Ut=Ut.split("	").join(Array(Z.TabLen||9).join(" ")),Bt(Ut,Rt)}function _c(Ut){for(var Kt,kr=Ut.concat(),Ur=[],Vs=kr.length;Vs--;)typeof(Kt=kr.shift())=="string"?Ur.push(Kt):Array.isArray(Ut)&&(Kt.length===1||Kt[1]===void 0&&Kt[2]===void 0)?Ur.push(Kt[0]):Ur.push([Kt[0],Kt[1],Kt[2]]);return Ur}function ql(Ut,Kt){var kr;if(typeof Ut=="string")kr=Kt(Ut)[0];else if(Array.isArray(Ut)){for(var Ur,Vs,Oc=Ut.concat(),Vl=[],gd=Oc.length;gd--;)typeof(Ur=Oc.shift())=="string"?Vl.push(Kt(Ur)[0]):Array.isArray(Ur)&&typeof Ur[0]=="string"&&(Vs=Kt(Ur[0],Ur[1],Ur[2]),Vl.push([Vs[0],Vs[1],Vs[2]]));kr=Vl}return kr}var Ea=!1,Bo=!0;if(typeof m=="string")Ea=!0;else if(Array.isArray(m)){var Uo=m.concat();Ae=[];for(var ja,nn=Uo.length;nn--;)(typeof(ja=Uo.shift())!="string"||Array.isArray(ja)&&typeof ja[0]!="string")&&(Bo=!1);Ea=Bo}if(Ea===!1)throw new Error('Type of text must be string or Array. "'+m+'" is not recognized.');typeof m=="string"&&(m=m.match(/[\r?\n]/)?m.split(/\r\n|\r|\n/g):[m]);var zo=be/Zt.internal.scaleFactor,$o=zo*($s-1);switch(Z.baseline){case"bottom":z-=$o;break;case"top":z+=zo-$o;break;case"hanging":z+=zo-2*$o;break;case"middle":z+=zo/2-$o}if((bt=Z.maxWidth||0)>0&&(typeof m=="string"?m=Zt.splitTextToSize(m,bt):Object.prototype.toString.call(m)==="[object Array]"&&(m=m.reduce(function(Ut,Kt){return Ut.concat(Zt.splitTextToSize(Kt,bt))},[]))),Se={text:m,x:E,y:z,options:Z,mutex:{pdfEscape:Bt,activeFontKey:ze,fonts:yt,activeFontSize:be}},Dt.publish("preProcessText",Se),m=Se.text,We=(Z=Se.options).angle,Tr instanceof st==0&&We&&typeof We=="number"){We*=Math.PI/180,Z.rotationDirection===0&&(We=-We),A===k&&(We=-We);var Sc=Math.cos(We),kc=Math.sin(We);Tr=new st(Sc,kc,-kc,Sc,0,0)}else We&&We instanceof st&&(Tr=We);A!==k||Tr||(Tr=Si),(dt=Z.charSpace||Ms)!==void 0&&(rn+=M(K(dt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(hr=Z.horizontalScale)!==void 0&&(rn+=M(100*hr)+` Tz
`),Z.lang;var An=-1,Ws=Z.renderingMode!==void 0?Z.renderingMode:Z.stroke,Wl=Zt.internal.getCurrentPageInfo().pageContext;switch(Ws){case 0:case!1:case"fill":An=0;break;case 1:case!0:case"stroke":An=1;break;case 2:case"fillThenStroke":An=2;break;case 3:case"invisible":An=3;break;case 4:case"fillAndAddForClipping":An=4;break;case 5:case"strokeAndAddPathForClipping":An=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":An=6;break;case 7:case"addToPathForClipping":An=7}var fd=Wl.usedRenderingMode!==void 0?Wl.usedRenderingMode:-1;An!==-1?rn+=An+` Tr
`:fd!==-1&&(rn+=`0 Tr
`),An!==-1&&(Wl.usedRenderingMode=An),Ye=Z.align||"left";var Ai,qo=be*$s,Nc=Zt.internal.pageSize.getWidth(),Ac=yt[ze];dt=Z.charSpace||Ms,bt=Z.maxWidth||0,Rt=Object.assign({autoencode:!0,noBOM:!0},Z.flags);var Ca=[],Wo=function(Ut){return Zt.getStringUnitWidth(Ut,{font:Ac,charSpace:dt,fontSize:be,doKerning:!1})*be/Ui};if(Object.prototype.toString.call(m)==="[object Array]"){var ri;Ae=_c(m),Ye!=="left"&&(Ai=Ae.map(Wo));var ni,La=0;if(Ye==="right"){E-=Ai[0],m=[],nn=Ae.length;for(var Hs=0;Hs<nn;Hs++)Hs===0?(ni=Fs(E),ri=Ds(z)):(ni=K(La-Ai[Hs]),ri=-qo),m.push([Ae[Hs],ni,ri]),La=Ai[Hs]}else if(Ye==="center"){E-=Ai[0]/2,m=[],nn=Ae.length;for(var Pa=0;Pa<nn;Pa++)Pa===0?(ni=Fs(E),ri=Ds(z)):(ni=K((La-Ai[Pa])/2),ri=-qo),m.push([Ae[Pa],ni,ri]),La=Ai[Pa]}else if(Ye==="left"){m=[],nn=Ae.length;for(var Ec=0;Ec<nn;Ec++)m.push(Ae[Ec])}else if(Ye==="justify"&&Ac.encoding==="Identity-H"){m=[],nn=Ae.length,bt=bt!==0?bt:Nc;for(var Hl=0,Sr=0;Sr<nn;Sr++)if(ri=Sr===0?Ds(z):-qo,ni=Sr===0?Fs(E):Hl,Sr<nn-1){var pd=K((bt-Ai[Sr])/(Ae[Sr].split(" ").length-1)),ds=Ae[Sr].split(" ");m.push([ds[0]+" ",ni,ri]),Hl=0;for(var fs=1;fs<ds.length;fs++){var jc=(Wo(ds[fs-1]+" "+ds[fs])-Wo(ds[fs]))*Ui+pd;fs==ds.length-1?m.push([ds[fs],jc,0]):m.push([ds[fs]+" ",jc,0]),Hl-=jc}}else m.push([Ae[Sr],ni,ri]);m.push(["",Hl,0])}else{if(Ye!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(m=[],nn=Ae.length,bt=bt!==0?bt:Nc,Sr=0;Sr<nn;Sr++){ri=Sr===0?Ds(z):-qo,ni=Sr===0?Fs(E):0;var Cc=Ae[Sr].split(" ").length-1,Lc=Cc>0?(bt-Ai[Sr])/Cc:0;Sr<nn-1?Ca.push(M(K(Lc))):Ca.push(0),m.push([Ae[Sr],ni,ri])}}}(typeof Z.R2L=="boolean"?Z.R2L:Qe)===!0&&(m=ql(m,function(Ut,Kt,kr){return[Ut.split("").reverse().join(""),Kt,kr]})),Se={text:m,x:E,y:z,options:Z,mutex:{pdfEscape:Bt,activeFontKey:ze,fonts:yt,activeFontSize:be}},Dt.publish("postProcessText",Se),m=Se.text,Rr=Se.mutex.isHex||!1;var Pc=yt[ze].encoding;Pc!=="WinAnsiEncoding"&&Pc!=="StandardEncoding"||(m=ql(m,function(Ut,Kt,kr){return[qs(Ut),Kt,kr]})),Ae=_c(m),m=[];for(var Oa,Ta,Ra,Ho=Array.isArray(Ae[0])?1:0,Ia="",Vo=function(Ut,Kt,kr){var Ur="";return kr instanceof st?(kr=typeof Z.angle=="number"?kn(kr,new st(1,0,0,1,Ut,Kt)):kn(new st(1,0,0,1,Ut,Kt),kr),A===k&&(kr=kn(new st(1,0,0,-1,0,0),kr)),Ur=kr.join(" ")+` Tm
`):Ur=M(Ut)+" "+M(Kt)+` Td
`,Ur},Ei=0;Ei<Ae.length;Ei++){switch(Ia="",Ho){case 1:Ra=(Rr?"<":"(")+Ae[Ei][0]+(Rr?">":")"),Oa=parseFloat(Ae[Ei][1]),Ta=parseFloat(Ae[Ei][2]);break;case 0:Ra=(Rr?"<":"(")+Ae[Ei]+(Rr?">":")"),Oa=Fs(E),Ta=Ds(z)}Ca!==void 0&&Ca[Ei]!==void 0&&(Ia=Ca[Ei]+` Tw
`),Ei===0?m.push(Ia+Vo(Oa,Ta,Tr)+Ra):Ho===0?m.push(Ia+Ra):Ho===1&&m.push(Ia+Vo(Oa,Ta,Tr)+Ra)}m=Ho===0?m.join(` Tj
T* `):m.join(` Tj
`),m+=` Tj
`;var ps=`BT
/`;return ps+=ze+" "+be+` Tf
`,ps+=M(be*$s)+` TL
`,ps+=Fo+`
`,ps+=rn,ps+=m,D(ps+="ET"),g[ze]=!0,Zt};var t0=d.__private__.clip=d.clip=function(m){return D(m==="evenodd"?"W*":"W"),this};d.clipEvenOdd=function(){return t0("evenodd")},d.__private__.discardPath=d.discardPath=function(){return D("n"),this};var hs=d.__private__.isValidStyle=function(m){var E=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(m)!==-1&&(E=!0),E};d.__private__.setDefaultPathOperation=d.setDefaultPathOperation=function(m){return hs(m)&&(u=m),this};var sd=d.__private__.getStyle=d.getStyle=function(m){var E=u;switch(m){case"D":case"S":E="S";break;case"F":E="f";break;case"FD":case"DF":E="B";break;case"f":case"f*":case"B":case"B*":E=m}return E},ad=d.close=function(){return D("h"),this};d.stroke=function(){return D("S"),this},d.fill=function(m){return Ul("f",m),this},d.fillEvenOdd=function(m){return Ul("f*",m),this},d.fillStroke=function(m){return Ul("B",m),this},d.fillStrokeEvenOdd=function(m){return Ul("B*",m),this};var Ul=function(m,E){Ht(E)==="object"?n0(E,m):D(m)},Ro=function(m){m===null||A===k&&m===void 0||(m=sd(m),D(m))};function r0(m,E,z,Z,oe){var Se=new xu(E||this.boundingBox,z||this.xStep,Z||this.yStep,this.gState,oe||this.matrix);Se.stream=this.stream;var Ae=m+"$$"+this.cloneIndex+++"$$";return Oe(Ae,Se),Se}var n0=function(m,E){var z=Mt[m.key],Z=rt[z];if(Z instanceof il)D("q"),D(i0(E)),Z.gState&&d.setGState(Z.gState),D(m.matrix.toString()+" cm"),D("/"+z+" sh"),D("Q");else if(Z instanceof xu){var oe=new st(1,0,0,-1,0,Mo());m.matrix&&(oe=oe.multiply(m.matrix||Si),z=r0.call(Z,m.key,m.boundingBox,m.xStep,m.yStep,oe).id),D("q"),D("/Pattern cs"),D("/"+z+" scn"),Z.gState&&d.setGState(Z.gState),D(E),D("Q")}},i0=function(m){switch(m){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},pc=d.moveTo=function(m,E){return D(M(K(m))+" "+M(J(E))+" m"),this},od=d.lineTo=function(m,E){return D(M(K(m))+" "+M(J(E))+" l"),this},Bi=d.curveTo=function(m,E,z,Z,oe,Se){return D([M(K(m)),M(J(E)),M(K(z)),M(J(Z)),M(K(oe)),M(J(Se)),"c"].join(" ")),this};d.__private__.line=d.line=function(m,E,z,Z,oe){if(isNaN(m)||isNaN(E)||isNaN(z)||isNaN(Z)||!hs(oe))throw new Error("Invalid arguments passed to jsPDF.line");return A===S?this.lines([[z-m,Z-E]],m,E,[1,1],oe||"S"):this.lines([[z-m,Z-E]],m,E,[1,1]).stroke()},d.__private__.lines=d.lines=function(m,E,z,Z,oe,Se){var Ae,We,Ye,dt,bt,Rt,hr,Tr,Zt,Br,Rr,rn;if(typeof m=="number"&&(rn=z,z=E,E=m,m=rn),Z=Z||[1,1],Se=Se||!1,isNaN(E)||isNaN(z)||!Array.isArray(m)||!Array.isArray(Z)||!hs(oe)||typeof Se!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(pc(E,z),Ae=Z[0],We=Z[1],dt=m.length,Br=E,Rr=z,Ye=0;Ye<dt;Ye++)(bt=m[Ye]).length===2?(Br=bt[0]*Ae+Br,Rr=bt[1]*We+Rr,od(Br,Rr)):(Rt=bt[0]*Ae+Br,hr=bt[1]*We+Rr,Tr=bt[2]*Ae+Br,Zt=bt[3]*We+Rr,Br=bt[4]*Ae+Br,Rr=bt[5]*We+Rr,Bi(Rt,hr,Tr,Zt,Br,Rr));return Se&&ad(),Ro(oe),this},d.path=function(m){for(var E=0;E<m.length;E++){var z=m[E],Z=z.c;switch(z.op){case"m":pc(Z[0],Z[1]);break;case"l":od(Z[0],Z[1]);break;case"c":Bi.apply(this,Z);break;case"h":ad()}}return this},d.__private__.rect=d.rect=function(m,E,z,Z,oe){if(isNaN(m)||isNaN(E)||isNaN(z)||isNaN(Z)||!hs(oe))throw new Error("Invalid arguments passed to jsPDF.rect");return A===S&&(Z=-Z),D([M(K(m)),M(J(E)),M(K(z)),M(K(Z)),"re"].join(" ")),Ro(oe),this},d.__private__.triangle=d.triangle=function(m,E,z,Z,oe,Se,Ae){if(isNaN(m)||isNaN(E)||isNaN(z)||isNaN(Z)||isNaN(oe)||isNaN(Se)||!hs(Ae))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[z-m,Z-E],[oe-z,Se-Z],[m-oe,E-Se]],m,E,[1,1],Ae,!0),this},d.__private__.roundedRect=d.roundedRect=function(m,E,z,Z,oe,Se,Ae){if(isNaN(m)||isNaN(E)||isNaN(z)||isNaN(Z)||isNaN(oe)||isNaN(Se)||!hs(Ae))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var We=4/3*(Math.SQRT2-1);return oe=Math.min(oe,.5*z),Se=Math.min(Se,.5*Z),this.lines([[z-2*oe,0],[oe*We,0,oe,Se-Se*We,oe,Se],[0,Z-2*Se],[0,Se*We,-oe*We,Se,-oe,Se],[2*oe-z,0],[-oe*We,0,-oe,-Se*We,-oe,-Se],[0,2*Se-Z],[0,-Se*We,oe*We,-Se,oe,-Se]],m+oe,E,[1,1],Ae,!0),this},d.__private__.ellipse=d.ellipse=function(m,E,z,Z,oe){if(isNaN(m)||isNaN(E)||isNaN(z)||isNaN(Z)||!hs(oe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Se=4/3*(Math.SQRT2-1)*z,Ae=4/3*(Math.SQRT2-1)*Z;return pc(m+z,E),Bi(m+z,E-Ae,m+Se,E-Z,m,E-Z),Bi(m-Se,E-Z,m-z,E-Ae,m-z,E),Bi(m-z,E+Ae,m-Se,E+Z,m,E+Z),Bi(m+Se,E+Z,m+z,E+Ae,m+z,E),Ro(oe),this},d.__private__.circle=d.circle=function(m,E,z,Z){if(isNaN(m)||isNaN(E)||isNaN(z)||!hs(Z))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(m,E,z,z,Z)},d.setFont=function(m,E,z){return z&&(E=$(E,z)),ze=Rs(m,E,{disableWarning:!1}),this};var s0=d.__private__.getFont=d.getFont=function(){return yt[Rs.apply(d,arguments)]};d.__private__.getFontList=d.getFontList=function(){var m,E,z={};for(m in mt)if(mt.hasOwnProperty(m))for(E in z[m]=[],mt[m])mt[m].hasOwnProperty(E)&&z[m].push(E);return z},d.addFont=function(m,E,z,Z,oe){var Se=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Se.indexOf(arguments[3])!==-1?oe=arguments[3]:arguments[3]&&Se.indexOf(arguments[3])==-1&&(z=$(z,Z)),pt.call(this,m,E,z,oe=oe||"Identity-H")};var Io,gc=t.lineWidth||.200025,a0=d.__private__.getLineWidth=d.getLineWidth=function(){return gc},gt=d.__private__.setLineWidth=d.setLineWidth=function(m){return gc=m,D(M(K(m))+" w"),this};d.__private__.setLineDash=tt.API.setLineDash=tt.API.setLineDashPattern=function(m,E){if(m=m||[],E=E||0,isNaN(E)||!Array.isArray(m))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return m=m.map(function(z){return M(K(z))}).join(" "),E=M(K(E)),D("["+m+"] "+E+" d"),this};var o0=d.__private__.getLineHeight=d.getLineHeight=function(){return be*Io};d.__private__.getLineHeight=d.getLineHeight=function(){return be*Io};var l0=d.__private__.setLineHeightFactor=d.setLineHeightFactor=function(m){return typeof(m=m||1.15)=="number"&&(Io=m),this},u0=d.__private__.getLineHeightFactor=d.getLineHeightFactor=function(){return Io};l0(t.lineHeight);var Fs=d.__private__.getHorizontalCoordinate=function(m){return K(m)},Ds=d.__private__.getVerticalCoordinate=function(m){return A===k?m:it[W].mediaBox.topRightY-it[W].mediaBox.bottomLeftY-K(m)},c0=d.__private__.getHorizontalCoordinateString=d.getHorizontalCoordinateString=function(m){return M(Fs(m))},h0=d.__private__.getVerticalCoordinateString=d.getVerticalCoordinateString=function(m){return M(Ds(m))},zl=t.strokeColor||"0 G";d.__private__.getStrokeColor=d.getDrawColor=function(){return Zn(zl)},d.__private__.setStrokeColor=d.setDrawColor=function(m,E,z,Z){return zl=ei({ch1:m,ch2:E,ch3:z,ch4:Z,pdfColorType:"draw",precision:2}),D(zl),this};var mc=t.fillColor||"0 g";d.__private__.getFillColor=d.getFillColor=function(){return Zn(mc)},d.__private__.setFillColor=d.setFillColor=function(m,E,z,Z){return mc=ei({ch1:m,ch2:E,ch3:z,ch4:Z,pdfColorType:"fill",precision:2}),D(mc),this};var Fo=t.textColor||"0 g",d0=d.__private__.getTextColor=d.getTextColor=function(){return Zn(Fo)};d.__private__.setTextColor=d.setTextColor=function(m,E,z,Z){return Fo=ei({ch1:m,ch2:E,ch3:z,ch4:Z,pdfColorType:"text",precision:3}),this};var Ms=t.charSpace,f0=d.__private__.getCharSpace=d.getCharSpace=function(){return parseFloat(Ms||0)};d.__private__.setCharSpace=d.setCharSpace=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ms=m,this};var vc=0;d.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},d.__private__.setLineCap=d.setLineCap=function(m){var E=d.CapJoinStyles[m];if(E===void 0)throw new Error("Line cap style of '"+m+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return vc=E,D(E+" J"),this};var yc=0;d.__private__.setLineJoin=d.setLineJoin=function(m){var E=d.CapJoinStyles[m];if(E===void 0)throw new Error("Line join style of '"+m+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return yc=E,D(E+" j"),this},d.__private__.setLineMiterLimit=d.__private__.setMiterLimit=d.setLineMiterLimit=d.setMiterLimit=function(m){if(m=m||0,isNaN(m))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return D(M(K(m))+" M"),this},d.GState=_p,d.setGState=function(m){(m=typeof m=="string"?ot[ut[m]]:ld(null,m)).equals(Yt)||(D("/"+m.id+" gs"),Yt=m)};var ld=function(m,E){if(!m||!ut[m]){var z=!1;for(var Z in ot)if(ot.hasOwnProperty(Z)&&ot[Z].equals(E)){z=!0;break}if(z)E=ot[Z];else{var oe="GS"+(Object.keys(ot).length+1).toString(10);ot[oe]=E,E.id=oe}return m&&(ut[m]=E.id),Dt.publish("addGState",E),E}};d.addGState=function(m,E){return ld(m,E),this},d.saveGraphicsState=function(){return D("q"),Gt.push({key:ze,size:be,color:Fo}),this},d.restoreGraphicsState=function(){D("Q");var m=Gt.pop();return ze=m.key,be=m.size,Fo=m.color,Yt=null,this},d.setCurrentTransformationMatrix=function(m){return D(m.toString()+" cm"),this},d.comment=function(m){return D("#"+m),this};var Bs=function(m,E){var z=m||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return z},set:function(Se){isNaN(Se)||(z=parseFloat(Se))}});var Z=E||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Z},set:function(Se){isNaN(Se)||(Z=parseFloat(Se))}});var oe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return oe},set:function(Se){oe=Se.toString()}}),this},wc=function(m,E,z,Z){Bs.call(this,m,E),this.type="rect";var oe=z||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return oe},set:function(Ae){isNaN(Ae)||(oe=parseFloat(Ae))}});var Se=Z||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Se},set:function(Ae){isNaN(Ae)||(Se=parseFloat(Ae))}}),this},$l=function(){this.page=Nt,this.currentPage=W,this.pages=je.slice(0),this.pagesContext=it.slice(0),this.x=Xe,this.y=lr,this.matrix=Et,this.width=xc(W),this.height=cd(W),this.outputDestination=Re,this.id="",this.objectNumber=-1};$l.prototype.restore=function(){Nt=this.page,W=this.currentPage,it=this.pagesContext,je=this.pages,Xe=this.x,lr=this.y,Et=this.matrix,ud(W,this.width),Us(W,this.height),Re=this.outputDestination};var bc=function(m,E,z,Z,oe){_i.push(new $l),Nt=W=0,je=[],Xe=m,lr=E,Et=oe,Or([z,Z])};for(var Do in d.beginFormObject=function(m,E,z,Z,oe){return bc(m,E,z,Z,oe),this},d.endFormObject=function(m){return function(E){if(xi[E])_i.pop().restore();else{var z=new $l,Z="Xo"+(Object.keys(Yr).length+1).toString(10);z.id=Z,xi[E]=Z,Yr[Z]=z,Dt.publish("addFormObject",z),_i.pop().restore()}}(m),this},d.doFormObject=function(m,E){var z=Yr[xi[m]];return D("q"),D(E.toString()+" cm"),D("/"+z.id+" Do"),D("Q"),this},d.getFormObject=function(m){var E=Yr[xi[m]];return{x:E.x,y:E.y,width:E.width,height:E.height,matrix:E.matrix}},d.save=function(m,E){return m=m||"generated.pdf",(E=E||{}).returnPromise=E.returnPromise||!1,E.returnPromise===!1?(el(Aa(ki()),m),typeof el.unload=="function"&&ct.setTimeout&&setTimeout(el.unload,911),this):new Promise(function(z,Z){try{var oe=el(Aa(ki()),m);typeof el.unload=="function"&&ct.setTimeout&&setTimeout(el.unload,911),z(oe)}catch(Se){Z(Se.message)}})},tt.API)tt.API.hasOwnProperty(Do)&&(Do==="events"&&tt.API.events.length?function(m,E){var z,Z,oe;for(oe=E.length-1;oe!==-1;oe--)z=E[oe][0],Z=E[oe][1],m.subscribe.apply(m,[z].concat(typeof Z=="function"?[Z]:Z))}(Dt,tt.API.events):d[Do]=tt.API[Do]);function xc(m){return it[m].mediaBox.topRightX-it[m].mediaBox.bottomLeftX}function ud(m,E){it[m].mediaBox.topRightX=E+it[m].mediaBox.bottomLeftX}function cd(m){return it[m].mediaBox.topRightY-it[m].mediaBox.bottomLeftY}function Us(m,E){it[m].mediaBox.topRightY=E+it[m].mediaBox.bottomLeftY}var zs=d.getPageWidth=function(m){return xc(m=m||W)/ht},hd=d.setPageWidth=function(m,E){ud(m,E*ht)},Mo=d.getPageHeight=function(m){return cd(m=m||W)/ht},dd=d.setPageHeight=function(m,E){Us(m,E*ht)};return d.internal={pdfEscape:Bt,getStyle:sd,getFont:s0,getFontSize:Fe,getCharSpace:f0,getTextColor:d0,getLineHeight:o0,getLineHeightFactor:u0,getLineWidth:a0,write:G,getHorizontalCoordinate:Fs,getVerticalCoordinate:Ds,getCoordinateString:c0,getVerticalCoordinateString:h0,collections:{},newObject:Xt,newAdditionalObject:Ls,newObjectDeferred:Pr,newObjectDeferredBegin:_r,getFilters:Un,putStream:zn,events:Dt,scaleFactor:ht,pageSize:{getWidth:function(){return zs(W)},setWidth:function(m){hd(W,m)},getHeight:function(){return Mo(W)},setHeight:function(m){dd(W,m)}},encryptionOptions:h,encryption:Mr,getEncryptor:function(m){return h!==null?Mr.encryptor(m,0):function(E){return E}},output:pn,getNumberOfPages:Ts,get pages(){return je},out:D,f2:L,f3:R,getPageInfo:Is,getPageInfoByObjId:id,getCurrentPageInfo:e0,getPDFVersion:x,Point:Bs,Rectangle:wc,Matrix:st,hasHotfix:Ni},Object.defineProperty(d.internal.pageSize,"width",{get:function(){return zs(W)},set:function(m){hd(W,m)},enumerable:!0,configurable:!0}),Object.defineProperty(d.internal.pageSize,"height",{get:function(){return Mo(W)},set:function(m){dd(W,m)},enumerable:!0,configurable:!0}),(function(m){for(var E=0,z=Pe.length;E<z;E++){var Z=pt.call(this,m[E][0],m[E][1],m[E][2],Pe[E][3],!0);p===!1&&(g[Z]=!0);var oe=m[E][0].split("-");le({id:Z,fontName:oe[0],fontStyle:oe[1]||""})}Dt.publish("addFonts",{fonts:yt,dictionary:mt})}).call(d,Pe),ze="F1",Dr(i,r),Dt.publish("initialized"),d}ou.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},ou.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},ou.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},ou.prototype.processOwnerPassword=function(t,e){return k1(S1(e).substr(0,5),t)},ou.prototype.encryptor=function(t,e){var r=S1(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return k1(r,n)}},_p.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||Ht(t)!==Ht(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},tt.API={events:[]},tt.version="3.0.4";var br=tt.API,Vv=1,Dl=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},nu=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},vt=function(t){return t.toFixed(2)},Ga=function(t){return t.toFixed(5)};br.__acroform__={};var Xn=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},Fw=function(t){return t*Vv},vs=function(t){var e=new lS,r=$e.internal.getHeight(t)||0,n=$e.internal.getWidth(t)||0;return e.BBox=[0,0,Number(vt(n)),Number(vt(r))],e},aO=br.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},oO=br.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},lO=br.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},jr=br.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return lO(t,e-1)},Cr=br.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return aO(t,e-1)},Lr=br.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return oO(t,e-1)},uO=br.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=t[0],s=t[1],a=t[2],o=t[3],l={};return l.lowerLeft_X=r(i)||0,l.lowerLeft_Y=n(s+o)||0,l.upperRight_X=r(i+a)||0,l.upperRight_Y=n(s)||0,[Number(vt(l.lowerLeft_X)),Number(vt(l.lowerLeft_Y)),Number(vt(l.upperRight_X)),Number(vt(l.upperRight_Y))]},cO=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=N1(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+vt(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=vs(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},N1=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(L){return L.split(`
`)}):i.map(function(L){return[L]});var s=r,a=$e.internal.getHeight(t)||0;a=a<0?-a:a;var o=$e.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(L,R,K){if(L+1<i.length){var J=R+" "+i[L+1][0];return mf(J,t,K).width<=o-4}return!1};s++;e:for(;s>0;){e="",s--;var u,h,p=mf("3",t,s).height,g=t.multiline?a-s:(a-p)/2,d=g+=2,b=0,x=0,N=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+mf(e,t,s=12).width+", FieldWidth:"+o+`
`;break}for(var w="",S=0,k=0;k<i.length;k++)if(i.hasOwnProperty(k)){var A=!1;if(i[k].length!==1&&N!==i[k].length-1){if((p+2)*(S+2)+2>a)continue e;w+=i[k][N],A=!0,x=k,k--}else{w=(w+=i[k][N]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var q=parseInt(k),Y=l(q,w,s),$=k>=i.length-1;if(Y&&!$){w+=" ",N=0;continue}if(Y||$){if($)x=q;else if(t.multiline&&(p+2)*(S+2)+2>a)continue e}else{if(!t.multiline||(p+2)*(S+2)+2>a)continue e;x=q}}for(var M="",F=b;F<=x;F++){var V=i[F];if(t.multiline){if(F===x){M+=V[N]+" ",N=(N+1)%V.length;continue}if(F===b){M+=V[V.length-1]+" ";continue}}M+=V[0]+" "}switch(M=M.substr(M.length-1)==" "?M.substr(0,M.length-1):M,h=mf(M,t,s).width,t.textAlign){case"right":u=o-h-2;break;case"center":u=(o-h)/2;break;default:u=2}e+=vt(u)+" "+vt(d)+` Td
`,e+="("+Dl(M)+`) Tj
`,e+=-vt(u)+` 0 Td
`,d=-(s+2),h=0,b=A?x:x+1,S++,w=""}break}return n.text=e,n.fontSize=s,n},mf=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},hO={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},dO=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},fO=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(ss.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(hO)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Vv=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new uS,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var s=n[i];s.objId=void 0,s.hasAnnotation&&dO(s,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,i){var s=!n;for(var a in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(a)){var o=n[a],l=[],u=o.Rect;if(o.Rect&&(o.Rect=uO(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=$e.createDefaultAppearanceStream(o),Ht(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var h=cO(o);l.push({key:"AP",value:"<</N "+h+">>"}),i.internal.acroformPlugin.xForms.push(h)}if(o.appearanceStreamContent){var p="";for(var g in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(g)){var d=o.appearanceStreamContent[g];if(p+="/"+g+" ",p+="<<",Object.keys(d).length>=1||Array.isArray(d)){for(var a in d)if(d.hasOwnProperty(a)){var b=d[a];typeof b=="function"&&(b=b.call(i,o)),p+="/"+a+" "+b+" ",i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b)}}else typeof(b=d)=="function"&&(b=b.call(i,o)),p+="/"+a+" "+b,i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b);p+=">>"}l.push({key:"AP",value:`<<
`+p+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}s&&function(x,N){for(var w in x)if(x.hasOwnProperty(w)){var S=w,k=x[w];N.internal.newObjectDeferredBegin(k.objId,!0),Ht(k)==="object"&&typeof k.putStream=="function"&&k.putStream(),delete x[S]}}(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},oS=br.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(a){return a};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),Ht(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),i+="("+Dl(n(t[s].toString()))+")"):i+=t[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Og=function(t,e,r){var n=function(i){return i};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+Dl(n(t))+")"},ks=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ks.prototype.toString=function(){return this.objId+" 0 R"},ks.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},ks.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],i=this[n];i&&(Array.isArray(i)?t.push({key:n,value:oS(i,this.objId,this.scope)}):i instanceof ks?(i.scope=this.scope,t.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:n,value:i}))}return t};var lS=function(){ks.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};Xn(lS,ks);var uS=function(){ks.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Dl(r(t))+")"}},set:function(r){t=r}})};Xn(uS,ks);var ss=function t(){ks.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');e=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!jr(e,3)},set:function(w){w?this.F=Cr(e,3):this.F=Lr(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');r=w}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(w){n=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(w){n[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(w){n[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(w){n[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(w){n[3]=w}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Sp)return;s="FieldObject"+t.FieldNum++}var w=function(S){return S};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+Dl(w(s))+")"},set:function(w){s=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(w){s=w}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(w){a=w}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(w){o=w}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(w){l=w}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/Vv:u},set:function(w){u=w}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(w){h=w}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof Sp||this instanceof _l))return Og(p,this.objId,this.scope)},set:function(w){w=w.toString(),p=w}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof en==0?Og(g,this.objId,this.scope):g},set:function(w){w=w.toString(),g=this instanceof en==0?w.substr(0,1)==="("?nu(w.substr(1,w.length-2)):nu(w):w}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof en==1?nu(g.substr(1,g.length-1)):g},set:function(w){w=w.toString(),g=this instanceof en==1?"/"+w:w}});var d=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(d)return d},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof en==0?Og(d,this.objId,this.scope):d},set:function(w){w=w.toString(),d=this instanceof en==0?w.substr(0,1)==="("?nu(w.substr(1,w.length-2)):nu(w):w}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof en==1?nu(d.substr(1,d.length-1)):d},set:function(w){w=w.toString(),d=this instanceof en==1?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var b,x=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return x},set:function(w){w=!!w,x=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(b)return b},set:function(w){b=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,1)},set:function(w){w?this.Ff=Cr(this.Ff,1):this.Ff=Lr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,2)},set:function(w){w?this.Ff=Cr(this.Ff,2):this.Ff=Lr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,3)},set:function(w){w?this.Ff=Cr(this.Ff,3):this.Ff=Lr(this.Ff,3)}});var N=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(N!==null)return N},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');N=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(N){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:N=2;break;case"center":case 1:N=1;break;default:N=0}}})};Xn(ss,ks);var Lu=function(){ss.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return oS(e,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(s,a,o){o||(o=1);for(var l,u=[];l=a.exec(s);)u.push(l[o]);return u}(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,18)},set:function(r){r?this.Ff=Cr(this.Ff,18):this.Ff=Lr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Cr(this.Ff,19):this.Ff=Lr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,20)},set:function(r){r?(this.Ff=Cr(this.Ff,20),e.sort()):this.Ff=Lr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,22)},set:function(r){r?this.Ff=Cr(this.Ff,22):this.Ff=Lr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,23)},set:function(r){r?this.Ff=Cr(this.Ff,23):this.Ff=Lr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,27)},set:function(r){r?this.Ff=Cr(this.Ff,27):this.Ff=Lr(this.Ff,27)}}),this.hasAppearanceStream=!1};Xn(Lu,ss);var Pu=function(){Lu.call(this),this.fontName="helvetica",this.combo=!1};Xn(Pu,Lu);var Ou=function(){Pu.call(this),this.combo=!0};Xn(Ou,Pu);var If=function(){Ou.call(this),this.edit=!0};Xn(If,Ou);var en=function(){ss.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,15)},set:function(r){r?this.Ff=Cr(this.Ff,15):this.Ff=Lr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,16)},set:function(r){r?this.Ff=Cr(this.Ff,16):this.Ff=Lr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,17)},set:function(r){r?this.Ff=Cr(this.Ff,17):this.Ff=Lr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,26)},set:function(r){r?this.Ff=Cr(this.Ff,26):this.Ff=Lr(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+Dl(r(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){Ht(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};Xn(en,ss);var Ff=function(){en.call(this),this.pushButton=!0};Xn(Ff,en);var Tu=function(){en.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Xn(Tu,en);var Sp=function(){var t,e;ss.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),n)a.push("/"+s+" ("+Dl(i(n[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){Ht(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=$e.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Xn(Sp,ss),Tu.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},Tu.prototype.createOption=function(t){var e=new Sp;return e.Parent=this,e.optionName=t,this.Kids.push(e),pO.call(this.scope,e),e};var Df=function(){en.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=$e.CheckBox.createAppearanceStream()};Xn(Df,en);var _l=function(){ss.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,13)},set:function(e){e?this.Ff=Cr(this.Ff,13):this.Ff=Lr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,21)},set:function(e){e?this.Ff=Cr(this.Ff,21):this.Ff=Lr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,23)},set:function(e){e?this.Ff=Cr(this.Ff,23):this.Ff=Lr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,24)},set:function(e){e?this.Ff=Cr(this.Ff,24):this.Ff=Lr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,25)},set:function(e){e?this.Ff=Cr(this.Ff,25):this.Ff=Lr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,26)},set:function(e){e?this.Ff=Cr(this.Ff,26):this.Ff=Lr(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Xn(_l,ss);var Mf=function(){_l.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!jr(this.Ff,14)},set:function(t){t?this.Ff=Cr(this.Ff,14):this.Ff=Lr(this.Ff,14)}}),this.password=!0};Xn(Mf,_l);var $e={CheckBox:{createAppearanceStream:function(){return{N:{On:$e.CheckBox.YesNormal},D:{On:$e.CheckBox.YesPushDown,Off:$e.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=vs(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=N1(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+vt($e.internal.getWidth(t))+" "+vt($e.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+vt(s.fontSize)+" Tf "+i),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=vs(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=[],s=$e.internal.getHeight(t),a=$e.internal.getWidth(t),o=N1(t,t.caption);return i.push("1 g"),i.push("0 0 "+vt(a)+" "+vt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+vt(a-1)+" "+vt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+vt(o.fontSize)+" Tf "+n),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=vs(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+vt($e.internal.getWidth(t))+" "+vt($e.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:$e.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=$e.RadioButton.Circle.YesNormal,e.D[t]=$e.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=vs(t);e.scope=t.scope;var r=[],n=$e.internal.getWidth(t)<=$e.internal.getHeight(t)?$e.internal.getWidth(t)/4:$e.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=$e.internal.Bezier_C,s=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Ga($e.internal.getWidth(t)/2)+" "+Ga($e.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=vs(t);e.scope=t.scope;var r=[],n=$e.internal.getWidth(t)<=$e.internal.getHeight(t)?$e.internal.getWidth(t)/4:$e.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*$e.internal.Bezier_C).toFixed(5)),a=Number((n*$e.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Ga($e.internal.getWidth(t)/2)+" "+Ga($e.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Ga($e.internal.getWidth(t)/2)+" "+Ga($e.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=vs(t);e.scope=t.scope;var r=[],n=$e.internal.getWidth(t)<=$e.internal.getHeight(t)?$e.internal.getWidth(t)/4:$e.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*$e.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Ga($e.internal.getWidth(t)/2)+" "+Ga($e.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:$e.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=$e.RadioButton.Cross.YesNormal,e.D[t]=$e.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=vs(t);e.scope=t.scope;var r=[],n=$e.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+vt($e.internal.getWidth(t)-2)+" "+vt($e.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(vt(n.x1.x)+" "+vt(n.x1.y)+" m"),r.push(vt(n.x2.x)+" "+vt(n.x2.y)+" l"),r.push(vt(n.x4.x)+" "+vt(n.x4.y)+" m"),r.push(vt(n.x3.x)+" "+vt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=vs(t);e.scope=t.scope;var r=$e.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+vt($e.internal.getWidth(t))+" "+vt($e.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+vt($e.internal.getWidth(t)-2)+" "+vt($e.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(vt(r.x1.x)+" "+vt(r.x1.y)+" m"),n.push(vt(r.x2.x)+" "+vt(r.x2.y)+" l"),n.push(vt(r.x4.x)+" "+vt(r.x4.y)+" m"),n.push(vt(r.x3.x)+" "+vt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=vs(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+vt($e.internal.getWidth(t))+" "+vt($e.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};$e.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=$e.internal.getWidth(t),r=$e.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},$e.internal.getWidth=function(t){var e=0;return Ht(t)==="object"&&(e=Fw(t.Rect[2])),e},$e.internal.getHeight=function(t){var e=0;return Ht(t)==="object"&&(e=Fw(t.Rect[3])),e};var pO=br.addField=function(t){if(fO(this,t),!(t instanceof ss))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};br.AcroFormChoiceField=Lu,br.AcroFormListBox=Pu,br.AcroFormComboBox=Ou,br.AcroFormEditBox=If,br.AcroFormButton=en,br.AcroFormPushButton=Ff,br.AcroFormRadioButton=Tu,br.AcroFormCheckBox=Df,br.AcroFormTextField=_l,br.AcroFormPasswordField=Mf,br.AcroFormAppearance=$e,br.AcroForm={ChoiceField:Lu,ListBox:Pu,ComboBox:Ou,EditBox:If,Button:en,PushButton:Ff,RadioButton:Tu,CheckBox:Df,TextField:_l,PasswordField:Mf,Appearance:$e},tt.AcroForm={ChoiceField:Lu,ListBox:Pu,ComboBox:Ou,EditBox:If,Button:en,PushButton:Ff,RadioButton:Tu,CheckBox:Df,TextField:_l,PasswordField:Mf,Appearance:$e};tt.AcroForm;function cS(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(L,R){var K,J,de,me,pe,Q=r;if((R=R||r)==="RGBA"||L.data!==void 0&&L.data instanceof Uint8ClampedArray&&"height"in L&&"width"in L)return"RGBA";if(Y(L))for(pe in n)for(de=n[pe],K=0;K<de.length;K+=1){for(me=!0,J=0;J<de[K].length;J+=1)if(de[K][J]!==void 0&&de[K][J]!==L[J]){me=!1;break}if(me===!0){Q=pe;break}}else for(pe in n)for(de=n[pe],K=0;K<de.length;K+=1){for(me=!0,J=0;J<de[K].length;J+=1)if(de[K][J]!==void 0&&de[K][J]!==L.charCodeAt(J)){me=!1;break}if(me===!0){Q=pe;break}}return Q===r&&R!==r&&(Q=R),Q},s=function L(R){for(var K=this.internal.write,J=this.internal.putStream,de=(0,this.internal.getFilters)();de.indexOf("FlateEncode")!==-1;)de.splice(de.indexOf("FlateEncode"),1);R.objectId=this.internal.newObject();var me=[];if(me.push({key:"Type",value:"/XObject"}),me.push({key:"Subtype",value:"/Image"}),me.push({key:"Width",value:R.width}),me.push({key:"Height",value:R.height}),R.colorSpace===w.INDEXED?me.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(R.palette.length/3-1)+" "+("sMask"in R&&R.sMask!==void 0?R.objectId+2:R.objectId+1)+" 0 R]"}):(me.push({key:"ColorSpace",value:"/"+R.colorSpace}),R.colorSpace===w.DEVICE_CMYK&&me.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),me.push({key:"BitsPerComponent",value:R.bitsPerComponent}),"decodeParameters"in R&&R.decodeParameters!==void 0&&me.push({key:"DecodeParms",value:"<<"+R.decodeParameters+">>"}),"transparency"in R&&Array.isArray(R.transparency)&&R.transparency.length>0){for(var pe="",Q=0,se=R.transparency.length;Q<se;Q++)pe+=R.transparency[Q]+" "+R.transparency[Q]+" ";me.push({key:"Mask",value:"["+pe+"]"})}R.sMask!==void 0&&me.push({key:"SMask",value:R.objectId+1+" 0 R"});var fe=R.filter!==void 0?["/"+R.filter]:void 0;if(J({data:R.data,additionalKeyValues:me,alreadyAppliedFilters:fe,objectId:R.objectId}),K("endobj"),"sMask"in R&&R.sMask!==void 0){var ge,C=(ge=R.sMaskBitsPerComponent)!==null&&ge!==void 0?ge:R.bitsPerComponent,W={width:R.width,height:R.height,colorSpace:"DeviceGray",bitsPerComponent:C,data:R.sMask};"filter"in R&&(W.decodeParameters="/Predictor ".concat(R.predictor," /Colors 1 /BitsPerComponent ").concat(C," /Columns ").concat(R.width),W.filter=R.filter),L.call(this,W)}if(R.colorSpace===w.INDEXED){var H=this.internal.newObject();J({data:M(new Uint8Array(R.palette)),objectId:H}),K("endobj")}},a=function(){var L=this.internal.collections[e+"images"];for(var R in L)s.call(this,L[R])},o=function(){var L,R=this.internal.collections[e+"images"],K=this.internal.write;for(var J in R)K("/I"+(L=R[J]).index,L.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},u=function(){var L=this.internal.collections[e+"images"];return l.call(this),L},h=function(){return Object.keys(this.internal.collections[e+"images"]).length},p=function(L){return typeof t["process"+L.toUpperCase()]=="function"},g=function(L){return Ht(L)==="object"&&L.nodeType===1},d=function(L,R){if(L.nodeName==="IMG"&&L.hasAttribute("src")){var K=""+L.getAttribute("src");if(K.indexOf("data:image/")===0)return Rf(unescape(K).split("base64,").pop());var J=t.loadFile(K,!0);if(J!==void 0)return J}if(L.nodeName==="CANVAS"){if(L.width===0||L.height===0)throw new Error("Given canvas must have data. Canvas width: "+L.width+", height: "+L.height);var de;switch(R){case"PNG":de="image/png";break;case"WEBP":de="image/webp";break;default:de="image/jpeg"}return Rf(L.toDataURL(de,1).split("base64,").pop())}},b=function(L){var R=this.internal.collections[e+"images"];if(R){for(var K in R)if(L===R[K].alias)return R[K]}},x=function(L,R,K){return L||R||(L=-96,R=-96),L<0&&(L=-1*K.width*72/L/this.internal.scaleFactor),R<0&&(R=-1*K.height*72/R/this.internal.scaleFactor),L===0&&(L=R*K.width/K.height),R===0&&(R=L*K.height/K.width),[L,R]},N=function(L,R,K,J,de,me){var pe=x.call(this,K,J,de),Q=this.internal.getCoordinateString,se=this.internal.getVerticalCoordinateString,fe=u.call(this);if(K=pe[0],J=pe[1],fe[de.index]=de,me){me*=Math.PI/180;var ge=Math.cos(me),C=Math.sin(me),W=function(ee){return ee.toFixed(4)},H=[W(ge),W(C),W(-1*C),W(ge),0,0,"cm"]}this.internal.write("q"),me?(this.internal.write([1,"0","0",1,Q(L),se(R+J),"cm"].join(" ")),this.internal.write(H.join(" ")),this.internal.write([Q(K),"0","0",Q(J),"0","0","cm"].join(" "))):this.internal.write([Q(K),"0","0",Q(J),Q(L),se(R+J),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+de.index+" Do"),this.internal.write("Q")},w=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var S=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},k=t.__addimage__.sHashCode=function(L){var R,K,J=0;if(typeof L=="string")for(K=L.length,R=0;R<K;R++)J=(J<<5)-J+L.charCodeAt(R),J|=0;else if(Y(L))for(K=L.byteLength/2,R=0;R<K;R++)J=(J<<5)-J+L[R],J|=0;return J},A=t.__addimage__.validateStringAsBase64=function(L){(L=L||"").toString().trim();var R=!0;return L.length===0&&(R=!1),L.length%4!=0&&(R=!1),/^[A-Za-z0-9+/]+$/.test(L.substr(0,L.length-2))===!1&&(R=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(L.substr(-2))===!1&&(R=!1),R},q=t.__addimage__.extractImageFromDataUrl=function(L){if(L==null||!(L=L.trim()).startsWith("data:"))return null;var R=L.indexOf(",");return R<0?null:L.substring(0,R).trim().endsWith("base64")?L.substring(R+1):null};t.__addimage__.isArrayBuffer=function(L){return L instanceof ArrayBuffer};var Y=t.__addimage__.isArrayBufferView=function(L){return L instanceof Int8Array||L instanceof Uint8Array||L instanceof Uint8ClampedArray||L instanceof Int16Array||L instanceof Uint16Array||L instanceof Int32Array||L instanceof Uint32Array||L instanceof Float32Array||L instanceof Float64Array},$=t.__addimage__.binaryStringToUint8Array=function(L){for(var R=L.length,K=new Uint8Array(R),J=0;J<R;J++)K[J]=L.charCodeAt(J);return K},M=t.__addimage__.arrayBufferToBinaryString=function(L){for(var R="",K=Y(L)?L:new Uint8Array(L),J=0;J<K.length;J+=8192)R+=String.fromCharCode.apply(null,K.subarray(J,J+8192));return R};t.addImage=function(){var L,R,K,J,de,me,pe,Q,se;if(typeof arguments[1]=="number"?(R=r,K=arguments[1],J=arguments[2],de=arguments[3],me=arguments[4],pe=arguments[5],Q=arguments[6],se=arguments[7]):(R=arguments[1],K=arguments[2],J=arguments[3],de=arguments[4],me=arguments[5],pe=arguments[6],Q=arguments[7],se=arguments[8]),Ht(L=arguments[0])==="object"&&!g(L)&&"imageData"in L){var fe=L;L=fe.imageData,R=fe.format||R||r,K=fe.x||K||0,J=fe.y||J||0,de=fe.w||fe.width||de,me=fe.h||fe.height||me,pe=fe.alias||pe,Q=fe.compression||Q,se=fe.rotation||fe.angle||se}var ge=this.internal.getFilters();if(Q===void 0&&ge.indexOf("FlateEncode")!==-1&&(Q="SLOW"),isNaN(K)||isNaN(J))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var C=F.call(this,L,R,pe,Q);return N.call(this,K,J,de,me,C,se),this};var F=function(L,R,K,J){var de,me,pe;if(typeof L=="string"&&i(L)===r){L=unescape(L);var Q=V(L,!1);(Q!==""||(Q=t.loadFile(L,!0))!==void 0)&&(L=Q)}if(g(L)&&(L=d(L,R)),R=i(L,R),!p(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(((pe=K)==null||pe.length===0)&&(K=function(se){return typeof se=="string"||Y(se)?k(se):Y(se.data)?k(se.data):null}(L)),(de=b.call(this,K))||(L instanceof Uint8Array||R==="RGBA"||(me=L,L=$(L)),de=this["process"+R.toUpperCase()](L,h.call(this),K,function(se){return se&&typeof se=="string"&&(se=se.toUpperCase()),se in t.image_compression?se:S.NONE}(J),me)),!de)throw new Error("An unknown error occurred whilst processing the image.");return de},V=t.__addimage__.convertBase64ToBinaryString=function(L,R){R=typeof R!="boolean"||R;var K,J="";if(typeof L=="string"){var de;K=(de=q(L))!==null&&de!==void 0?de:L;try{J=Rf(K)}catch(me){if(R)throw A(K)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+me.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return J};t.getImageProperties=function(L){var R,K,J="";if(g(L)&&(L=d(L)),typeof L=="string"&&i(L)===r&&((J=V(L,!1))===""&&(J=t.loadFile(L)||""),L=J),K=i(L),!p(K))throw new Error("addImage does not support files of type '"+K+"', please ensure that a plugin for '"+K+"' support is added.");if(L instanceof Uint8Array||(L=$(L)),!(R=this["process"+K.toUpperCase()](L)))throw new Error("An unknown error occurred whilst processing the image");return R.fileType=K,R}})(tt.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};tt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,i,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,h=!1,p=0;p<u.length&&!h;p++)switch((n=u[p]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var g=0;g<u.length;g++){n=u[g];var d=this.internal.pdfEscape,b=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var x=this.internal.newAdditionalObject(),N=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(x.objId),S=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+d(w(n.contents))+")",s+=" /Popup "+N.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+d(w(S))+") >>",x.content=s;var k=x.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+k,n.open&&(s+=" /Open true"),s+=" >>",N.content=s,this.internal.write(x.objId,"0 R",N.objId,"0 R");break;case"freetext":i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var A=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+d(b(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+A+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var q=this.annotations._nameMap[n.options.name];n.options.pageNumber=q.page,n.options.top=q.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+d(b(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;default:var Y=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+Y+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,i,s,a){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:u(n),w:l(r+i),h:u(n+s)},options:a,type:"link"})},t.textWithLink=function(r,n,i,s){var a,o,l=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var h=this.splitTextToSize(r,o).length;a=Math.ceil(u*h)}else o=l,a=u;return this.text(r,n,i,s),i+=.2*u,s.align==="center"&&(n-=l/2),s.align==="right"&&(n-=l),this.link(n,i-u,o,a,s),l},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(tt.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(x){return e[x.charCodeAt(0)]!==void 0},a=t.__arabicParser__.isArabicLetter=function(x){return typeof x=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(x)},o=t.__arabicParser__.isArabicEndLetter=function(x){return a(x)&&s(x)&&e[x.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(x){return a(x)&&i.indexOf(x.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(x){return a(x)&&s(x)&&e[x.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(x){return a(x)&&s(x)&&e[x.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(x){return a(x)&&s(x)&&e[x.charCodeAt(0)].length>=3};var h=t.__arabicParser__.arabicLetterHasMedialForm=function(x){return a(x)&&s(x)&&e[x.charCodeAt(0)].length==4},p=t.__arabicParser__.resolveLigatures=function(x){var N=0,w=r,S="",k=0;for(N=0;N<x.length;N+=1)w[x.charCodeAt(N)]!==void 0?(k++,typeof(w=w[x.charCodeAt(N)])=="number"&&(S+=String.fromCharCode(w),w=r,k=0),N===x.length-1&&(w=r,S+=x.charAt(N-(k-1)),N-=k-1,k=0)):(w=r,S+=x.charAt(N-k),N-=k,k=0);return S};t.__arabicParser__.isArabicDiacritic=function(x){return x!==void 0&&n[x.charCodeAt(0)]!==void 0};var g=t.__arabicParser__.getCorrectForm=function(x,N,w){return a(x)?s(x)===!1?-1:!u(x)||!a(N)&&!a(w)||!a(w)&&o(N)||o(x)&&!a(N)||o(x)&&l(N)||o(x)&&o(N)?0:h(x)&&a(N)&&!o(N)&&a(w)&&u(w)?3:o(x)||!a(w)?1:2:-1},d=function(x){var N=0,w=0,S=0,k="",A="",q="",Y=(x=x||"").split("\\s+"),$=[];for(N=0;N<Y.length;N+=1){for($.push(""),w=0;w<Y[N].length;w+=1)k=Y[N][w],A=Y[N][w-1],q=Y[N][w+1],a(k)?(S=g(k,A,q),$[N]+=S!==-1?String.fromCharCode(e[k.charCodeAt(0)][S]):k):$[N]+=k;$[N]=p($[N])}return $.join(" ")},b=t.__arabicParser__.processArabic=t.processArabic=function(){var x,N=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(N)){var S=0;for(w=[],S=0;S<N.length;S+=1)Array.isArray(N[S])?w.push([d(N[S][0]),N[S][1],N[S][2]]):w.push([d(N[S])]);x=w}else x=d(N);return typeof arguments[0]=="string"?x:(arguments[0].text=x,arguments[0])};t.events.push(["preProcessText",b])}(tt.API),tt.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(tt.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(x){l=x}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(x){u=x}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(x){h=x}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(x){p=x}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(x){g=x}});var d=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return d},set:function(x){d=x}});var b=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return b},set:function(x){b=x}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,u){n.call(this);var h=(u=u||{}).fontSize||this.getFontSize(),p=u.font||this.getFont(),g=u.scaleFactor||this.internal.scaleFactor,d=0,b=0,x=0,N=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var w=u.maxWidth;w>0?typeof l=="string"?l=this.splitTextToSize(l,w):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(k,A){return k.concat(N.splitTextToSize(A,w))},[])):l=Array.isArray(l)?l:[l];for(var S=0;S<l.length;S++)d<(x=this.getStringUnitWidth(l[S],{font:p})*h)&&(d=x);return d!==0&&(b=l.length),{w:d/=g,h:Math.max((b*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/g,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var u=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,p=this.internal.__cell__.margins||e,g=this.internal.__cell__.tableHeaderRow,d=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=p.top,d&&g&&(this.printHeaderRow(l.lineNumber,!0),l.y+=g[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-h,l.y+h,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+h,{align:"center",baseline:"top",maxWidth:l.width-h-h}):this.text(l.text,l.x+h,l.y+h,{align:"left",baseline:"top",maxWidth:l.width-h-h})),this.internal.__cell__.lastCell=l,this};t.table=function(l,u,h,p,g){if(n.call(this),!h)throw new Error("No data for PDF table.");var d,b,x,N,w=[],S=[],k=[],A={},q={},Y=[],$=[],M=(g=g||{}).autoSize||!1,F=g.printHeaders!==!1,V=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,L=g.margins||Object.assign({width:this.getPageWidth()},e),R=typeof g.padding=="number"?g.padding:3,K=g.headerBackgroundColor||"#c8c8c8",J=g.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=F,this.internal.__cell__.margins=L,this.internal.__cell__.table_font_size=V,this.internal.__cell__.padding=R,this.internal.__cell__.headerBackgroundColor=K,this.internal.__cell__.headerTextColor=J,this.setFontSize(V),p==null)S=w=Object.keys(h[0]),k=w.map(function(){return"left"});else if(Array.isArray(p)&&Ht(p[0])==="object")for(w=p.map(function(fe){return fe.name}),S=p.map(function(fe){return fe.prompt||fe.name||""}),k=p.map(function(fe){return fe.align||"left"}),d=0;d<p.length;d+=1)q[p[d].name]=.7499990551181103*p[d].width;else Array.isArray(p)&&typeof p[0]=="string"&&(S=w=p,k=w.map(function(){return"left"}));if(M||Array.isArray(p)&&typeof p[0]=="string")for(d=0;d<w.length;d+=1){for(A[N=w[d]]=h.map(function(fe){return fe[N]}),this.setFont(void 0,"bold"),Y.push(this.getTextDimensions(S[d],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),b=A[N],this.setFont(void 0,"normal"),x=0;x<b.length;x+=1)Y.push(this.getTextDimensions(b[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);q[N]=Math.max.apply(null,Y)+R+R,Y=[]}if(F){var de={};for(d=0;d<w.length;d+=1)de[w[d]]={},de[w[d]].text=S[d],de[w[d]].align=k[d];var me=o.call(this,de,q);$=w.map(function(fe){return new s(l,u,q[fe],me,de[fe].text,void 0,de[fe].align)}),this.setTableHeaderRow($),this.printHeaderRow(1,!1)}var pe=p.reduce(function(fe,ge){return fe[ge.name]=ge.align,fe},{});for(d=0;d<h.length;d+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:d,data:h[d]},this);var Q=o.call(this,h[d],q);for(x=0;x<w.length;x+=1){var se=h[d][w[x]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:d,col:x,data:se},this),a.call(this,new s(l,u,q[w[x]],Q,se,d+2,pe[w[x]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var o=function(l,u){var h=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(l).map(function(d){var b=l[d];return this.splitTextToSize(b.hasOwnProperty("text")?b.text:b,u[d]-h-h)},this).map(function(d){return this.getLineHeightFactor()*d.length*p/g+h+h},this).reduce(function(d,b){return Math.max(d,b)},0)};t.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],d=0;d<this.internal.__cell__.tableHeaderRow.length;d+=1){h=this.internal.__cell__.tableHeaderRow[d].clone(),u&&(h.y=this.internal.__cell__.margins.top||0,g.push(h)),h.lineNumber=l;var b=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,h),this.setTextColor(b)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),r=!1}}(tt.API);var hS={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},dS=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],A1=cS(dS),fS=[100,200,300,400,500,600,700,800,900],gO=cS(fS);function Tg(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(s){return hS[s=s||"normal"]?s:"normal"}(t.style),n=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(t.weight),i=function(s){return typeof A1[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,r,n].join(" ")}}}function Dw(t,e,r,n){var i;for(i=r;i>=0&&i<e.length;i+=n)if(t[e[i]])return t[e[i]];for(i=r;i>=0&&i<e.length;i-=n)if(t[e[i]])return t[e[i]]}var mO={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Mw={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Bw(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function Uw(t){return t.trimLeft()}function vO(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function yO(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var vf,zw,$w,iu,yf,qw,Ww,Hw,Rg=["times"];function Vw(t,e,r,n,i){var s=4,a=Kw;switch(i){case tt.API.image_compression.FAST:s=1,a=Gw;break;case tt.API.image_compression.MEDIUM:s=6,a=Jw;break;case tt.API.image_compression.SLOW:s=9,a=Qw}t=function(l,u,h,p){for(var g,d=l.length/u,b=new Uint8Array(l.length+d),x=[wO,Gw,Kw,Jw,Qw],N=0;N<d;N+=1){var w=N*u,S=l.subarray(w,w+u);if(p)b.set(p(S,h,g),w+N);else{for(var k=x.length,A=[],q=0;q<k;q+=1)A[q]=x[q](S,h,g);var Y=xO(A.concat());b.set(A[Y],w+N)}g=S}return b}(t,e,Math.ceil(r*n/8),a);var o=w1(t,{level:s});return tt.API.__addimage__.arrayBufferToBinaryString(o)}function wO(t){var e=Array.apply([],t);return e.unshift(0),e}function Gw(t,e){var r=t.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var s=t[i-e]||0;n[i+1]=t[i]-s+256&255}return n}function Kw(t,e,r){var n=t.length,i=[];i[0]=2;for(var s=0;s<n;s+=1){var a=r&&r[s]||0;i[s+1]=t[s]-a+256&255}return i}function Jw(t,e,r){var n=t.length,i=[];i[0]=3;for(var s=0;s<n;s+=1){var a=t[s-e]||0,o=r&&r[s]||0;i[s+1]=t[s]+256-(a+o>>>1)&255}return i}function Qw(t,e,r){var n=t.length,i=[];i[0]=4;for(var s=0;s<n;s+=1){var a=bO(t[s-e]||0,r&&r[s]||0,r&&r[s-e]||0);i[s+1]=t[s]-a+256&255}return i}function bO(t,e,r){if(t===e&&e===r)return t;var n=Math.abs(e-r),i=Math.abs(t-r),s=Math.abs(t+e-r-r);return n<=i&&n<=s?t:i<=s?e:r}function xO(t){var e=t.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function Ig(t,e,r){var n=e*r,i=Math.floor(n/8),s=16-(n-8*i+r),a=(1<<r)-1;return pS(t,i)>>s&a}function Yw(t,e,r,n){var i=r*n,s=Math.floor(i/8),a=16-(i-8*s+n),o=(1<<n)-1,l=(e&o)<<a;(function(u,h,p){if(h+1<u.byteLength)u.setUint16(h,p,!1);else{var g=p>>8&255;u.setUint8(h,g)}})(t,s,pS(t,s)&~(o<<a)&65535|l)}function pS(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function _O(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,a=1<<1+(7&i);t[e++],t[e++];var o=null,l=null;s&&(o=e,l=a,e+=3*a);var u=!0,h=[],p=0,g=null,d=0,b=null;for(this.width=r,this.height=n;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,b=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((L=t[e++])>=0))throw Error("Invalid block size");if(L===0)break;e+=L}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var x=t[e++];p=t[e++]|t[e++]<<8,g=t[e++],1&x||(g=null),d=x>>2&7,e++;break;case 254:for(;;){if(!((L=t[e++])>=0))throw Error("Invalid block size");if(L===0)break;e+=L}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var N=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,S=t[e++]|t[e++]<<8,k=t[e++]|t[e++]<<8,A=t[e++],q=A>>6&1,Y=1<<1+(7&A),$=o,M=l,F=!1;A>>7&&(F=!0,$=e,M=Y,e+=3*Y);var V=e;for(e++;;){var L;if(!((L=t[e++])>=0))throw Error("Invalid block size");if(L===0)break;e+=L}h.push({x:N,y:w,width:S,height:k,has_local_palette:F,palette_offset:$,palette_size:M,data_offset:V,data_length:e-V,transparent_index:g,interlaced:!!q,delay:p,disposal:d});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return b},this.frameInfo=function(R){if(R<0||R>=h.length)throw new Error("Frame index out of range.");return h[R]},this.decodeAndBlitFrameBGRA=function(R,K){var J=this.frameInfo(R),de=J.width*J.height,me=new Uint8Array(de);Xw(t,J.data_offset,me,de);var pe=J.palette_offset,Q=J.transparent_index;Q===null&&(Q=256);var se=J.width,fe=r-se,ge=se,C=4*(J.y*r+J.x),W=4*((J.y+J.height)*r+J.x),H=C,ee=4*fe;J.interlaced===!0&&(ee+=4*r*7);for(var te=8,ae=0,ye=me.length;ae<ye;++ae){var ve=me[ae];if(ge===0&&(ge=se,(H+=ee)>=W&&(ee=4*fe+4*r*(te-1),H=C+(se+fe)*(te<<1),te>>=1)),ve===Q)H+=4;else{var _e=t[pe+3*ve],je=t[pe+3*ve+1],Te=t[pe+3*ve+2];K[H++]=Te,K[H++]=je,K[H++]=_e,K[H++]=255}--ge}},this.decodeAndBlitFrameRGBA=function(R,K){var J=this.frameInfo(R),de=J.width*J.height,me=new Uint8Array(de);Xw(t,J.data_offset,me,de);var pe=J.palette_offset,Q=J.transparent_index;Q===null&&(Q=256);var se=J.width,fe=r-se,ge=se,C=4*(J.y*r+J.x),W=4*((J.y+J.height)*r+J.x),H=C,ee=4*fe;J.interlaced===!0&&(ee+=4*r*7);for(var te=8,ae=0,ye=me.length;ae<ye;++ae){var ve=me[ae];if(ge===0&&(ge=se,(H+=ee)>=W&&(ee=4*fe+4*r*(te-1),H=C+(se+fe)*(te<<1),te>>=1)),ve===Q)H+=4;else{var _e=t[pe+3*ve],je=t[pe+3*ve+1],Te=t[pe+3*ve+2];K[H++]=_e,K[H++]=je,K[H++]=Te,K[H++]=255}--ge}}}function Xw(t,e,r,n){for(var i=t[e++],s=1<<i,a=s+1,o=a+1,l=i+1,u=(1<<l)-1,h=0,p=0,g=0,d=t[e++],b=new Int32Array(4096),x=null;;){for(;h<16&&d!==0;)p|=t[e++]<<h,h+=8,d===1?d=t[e++]:--d;if(h<l)break;var N=p&u;if(p>>=l,h-=l,N!==s){if(N===a)break;for(var w=N<o?N:x,S=0,k=w;k>s;)k=b[k]>>8,++S;var A=k;if(g+S+(w!==N?1:0)>n)return void Qt.log("Warning, gif stream longer than expected.");r[g++]=A;var q=g+=S;for(w!==N&&(r[g++]=A),k=w;S--;)k=b[k],r[--q]=255&k,k>>=8;x!==null&&o<4096&&(b[o++]=x<<8|A,o>=u+1&&l<12&&(++l,u=u<<1|1)),x=N}else o=a+1,u=(1<<(l=i+1))-1,x=null}return g!==n&&Qt.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Fg(t){var e,r,n,i,s,a=Math.floor,o=new Array(64),l=new Array(64),u=new Array(64),h=new Array(64),p=new Array(65535),g=new Array(65535),d=new Array(64),b=new Array(64),x=[],N=0,w=7,S=new Array(64),k=new Array(64),A=new Array(64),q=new Array(256),Y=new Array(2048),$=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],M=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],F=[0,1,2,3,4,5,6,7,8,9,10,11],V=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],L=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],R=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],K=[0,1,2,3,4,5,6,7,8,9,10,11],J=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],de=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function me(C,W){for(var H=0,ee=0,te=new Array,ae=1;ae<=16;ae++){for(var ye=1;ye<=C[ae];ye++)te[W[ee]]=[],te[W[ee]][0]=H,te[W[ee]][1]=ae,ee++,H++;H*=2}return te}function pe(C){for(var W=C[0],H=C[1]-1;H>=0;)W&1<<H&&(N|=1<<w),H--,--w<0&&(N==255?(Q(255),Q(0)):Q(N),w=7,N=0)}function Q(C){x.push(C)}function se(C){Q(C>>8&255),Q(255&C)}function fe(C,W,H,ee,te){for(var ae,ye=te[0],ve=te[240],_e=function(be,Je){var Fe,Qe,Ve,Ct,ft,qe,at,xt,ze,ht,Xe=0;for(ze=0;ze<8;++ze){Fe=be[Xe],Qe=be[Xe+1],Ve=be[Xe+2],Ct=be[Xe+3],ft=be[Xe+4],qe=be[Xe+5],at=be[Xe+6];var lr=Fe+(xt=be[Xe+7]),Et=Fe-xt,yt=Qe+at,mt=Qe-at,Gt=Ve+qe,rt=Ve-qe,Mt=Ct+ft,ot=Ct-ft,ut=lr+Mt,Yt=lr-Mt,Nt=yt+Gt,it=yt-Gt;be[Xe]=ut+Nt,be[Xe+4]=ut-Nt;var Dt=.707106781*(it+Yt);be[Xe+2]=Yt+Dt,be[Xe+6]=Yt-Dt;var os=.382683433*((ut=ot+rt)-(it=mt+Et)),Yr=.5411961*ut+os,xi=1.306562965*it+os,_i=.707106781*(Nt=rt+mt),st=Et+_i,kn=Et-_i;be[Xe+5]=kn+Yr,be[Xe+3]=kn-Yr,be[Xe+1]=st+xi,be[Xe+7]=st-xi,Xe+=8}for(Xe=0,ze=0;ze<8;++ze){Fe=be[Xe],Qe=be[Xe+8],Ve=be[Xe+16],Ct=be[Xe+24],ft=be[Xe+32],qe=be[Xe+40],at=be[Xe+48];var Si=Fe+(xt=be[Xe+56]),Oe=Fe-xt,dn=Qe+at,Xt=Qe-at,Pr=Ve+qe,_r=Ve-qe,Ls=Ct+ft,ls=Ct-ft,Bn=Si+Ls,Zn=Si-Ls,ei=dn+Pr,Un=dn-Pr;be[Xe]=Bn+ei,be[Xe+32]=Bn-ei;var zn=.707106781*(Un+Zn);be[Xe+16]=Zn+zn,be[Xe+48]=Zn-zn;var Ps=.382683433*((Bn=ls+_r)-(Un=Xt+Oe)),ti=.5411961*Bn+Ps,Os=1.306562965*Un+Ps,_a=.707106781*(ei=_r+Xt),Sa=Oe+_a,ka=Oe-_a;be[Xe+40]=ka+ti,be[Xe+24]=ka-ti,be[Xe+8]=Sa+Os,be[Xe+56]=Sa-Os,Xe++}for(ze=0;ze<64;++ze)ht=be[ze]*Je[ze],d[ze]=ht>0?ht+.5|0:ht-.5|0;return d}(C,W),je=0;je<64;++je)b[$[je]]=_e[je];var Te=b[0]-H;H=b[0],Te==0?pe(ee[0]):(pe(ee[g[ae=32767+Te]]),pe(p[ae]));for(var Re=63;Re>0&&b[Re]==0;)Re--;if(Re==0)return pe(ye),H;for(var He,D=1;D<=Re;){for(var G=D;b[D]==0&&D<=Re;)++D;var Ne=D-G;if(Ne>=16){He=Ne>>4;for(var Pe=1;Pe<=He;++Pe)pe(ve);Ne&=15}ae=32767+b[D],pe(te[(Ne<<4)+g[ae]]),pe(p[ae]),D++}return Re!=63&&pe(ye),H}function ge(C){C=Math.min(Math.max(C,1),100),s!=C&&(function(W){for(var H=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ee=0;ee<64;ee++){var te=a((H[ee]*W+50)/100);te=Math.min(Math.max(te,1),255),o[$[ee]]=te}for(var ae=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ye=0;ye<64;ye++){var ve=a((ae[ye]*W+50)/100);ve=Math.min(Math.max(ve,1),255),l[$[ye]]=ve}for(var _e=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],je=0,Te=0;Te<8;Te++)for(var Re=0;Re<8;Re++)u[je]=1/(o[$[je]]*_e[Te]*_e[Re]*8),h[je]=1/(l[$[je]]*_e[Te]*_e[Re]*8),je++}(C<50?Math.floor(5e3/C):Math.floor(200-2*C)),s=C)}this.encode=function(C,W){W&&ge(W),x=new Array,N=0,w=7,se(65496),se(65504),se(16),Q(74),Q(70),Q(73),Q(70),Q(0),Q(1),Q(1),Q(0),se(1),se(1),Q(0),Q(0),function(){se(65499),se(132),Q(0);for(var Qe=0;Qe<64;Qe++)Q(o[Qe]);Q(1);for(var Ve=0;Ve<64;Ve++)Q(l[Ve])}(),function(Qe,Ve){se(65472),se(17),Q(8),se(Ve),se(Qe),Q(3),Q(1),Q(17),Q(0),Q(2),Q(17),Q(1),Q(3),Q(17),Q(1)}(C.width,C.height),function(){se(65476),se(418),Q(0);for(var Qe=0;Qe<16;Qe++)Q(M[Qe+1]);for(var Ve=0;Ve<=11;Ve++)Q(F[Ve]);Q(16);for(var Ct=0;Ct<16;Ct++)Q(V[Ct+1]);for(var ft=0;ft<=161;ft++)Q(L[ft]);Q(1);for(var qe=0;qe<16;qe++)Q(R[qe+1]);for(var at=0;at<=11;at++)Q(K[at]);Q(17);for(var xt=0;xt<16;xt++)Q(J[xt+1]);for(var ze=0;ze<=161;ze++)Q(de[ze])}(),se(65498),se(12),Q(3),Q(1),Q(0),Q(2),Q(17),Q(3),Q(17),Q(0),Q(63),Q(0);var H=0,ee=0,te=0;N=0,w=7,this.encode.displayName="_encode_";for(var ae,ye,ve,_e,je,Te,Re,He,D,G=C.data,Ne=C.width,Pe=C.height,be=4*Ne,Je=0;Je<Pe;){for(ae=0;ae<be;){for(je=be*Je+ae,Re=-1,He=0,D=0;D<64;D++)Te=je+(He=D>>3)*be+(Re=4*(7&D)),Je+He>=Pe&&(Te-=be*(Je+1+He-Pe)),ae+Re>=be&&(Te-=ae+Re-be+4),ye=G[Te++],ve=G[Te++],_e=G[Te++],S[D]=(Y[ye]+Y[ve+256|0]+Y[_e+512|0]>>16)-128,k[D]=(Y[ye+768|0]+Y[ve+1024|0]+Y[_e+1280|0]>>16)-128,A[D]=(Y[ye+1280|0]+Y[ve+1536|0]+Y[_e+1792|0]>>16)-128;H=fe(S,u,H,e,n),ee=fe(k,h,ee,r,i),te=fe(A,h,te,r,i),ae+=32}Je+=8}if(w>=0){var Fe=[];Fe[1]=w+1,Fe[0]=(1<<w+1)-1,pe(Fe)}return se(65497),new Uint8Array(x)},t=t||50,function(){for(var C=String.fromCharCode,W=0;W<256;W++)q[W]=C(W)}(),e=me(M,F),r=me(R,K),n=me(V,L),i=me(J,de),function(){for(var C=1,W=2,H=1;H<=15;H++){for(var ee=C;ee<W;ee++)g[32767+ee]=H,p[32767+ee]=[],p[32767+ee][1]=H,p[32767+ee][0]=ee;for(var te=-(W-1);te<=-C;te++)g[32767+te]=H,p[32767+te]=[],p[32767+te][1]=H,p[32767+te][0]=W-1+te;C<<=1,W<<=1}}(),function(){for(var C=0;C<256;C++)Y[C]=19595*C,Y[C+256|0]=38470*C,Y[C+512|0]=7471*C+32768,Y[C+768|0]=-11059*C,Y[C+1024|0]=-21709*C,Y[C+1280|0]=32768*C+8421375,Y[C+1536|0]=-27439*C,Y[C+1792|0]=-5329*C}(),ge(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Hi(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Zw(t){function e(F){if(!F)throw Error("assert :P")}function r(F,V,L){for(var R=0;4>R;R++)if(F[V+R]!=L.charCodeAt(R))return!0;return!1}function n(F,V,L,R,K){for(var J=0;J<K;J++)F[V+J]=L[R+J]}function i(F,V,L,R){for(var K=0;K<R;K++)F[V+K]=L}function s(F){return new Int32Array(F)}function a(F,V){for(var L=[],R=0;R<F;R++)L.push(new V);return L}function o(F,V){var L=[];return function R(K,J,de){for(var me=de[J],pe=0;pe<me&&(K.push(de.length>J+1?[]:new V),!(de.length<J+1));pe++)R(K[pe],J+1,de)}(L,0,F),L}var l=function(){var F=this;function V(c,f){for(var y=1<<f-1>>>0;c&y;)y>>>=1;return y?(c&y-1)+y:c}function L(c,f,y,_,j){e(!(_%y));do c[f+(_-=y)]=j;while(0<_)}function R(c,f,y,_,j){if(e(2328>=j),512>=j)var P=s(512);else if((P=s(j))==null)return 0;return function(O,T,I,B,re,he){var U,ie,ue=T,we=1<<I,ce=s(16),xe=s(16);for(e(re!=0),e(B!=null),e(O!=null),e(0<I),ie=0;ie<re;++ie){if(15<B[ie])return 0;++ce[B[ie]]}if(ce[0]==re)return 0;for(xe[1]=0,U=1;15>U;++U){if(ce[U]>1<<U)return 0;xe[U+1]=xe[U]+ce[U]}for(ie=0;ie<re;++ie)U=B[ie],0<B[ie]&&(he[xe[U]++]=ie);if(xe[15]==1)return(B=new K).g=0,B.value=he[0],L(O,ue,1,we,B),we;var ke,Ce=-1,Ee=we-1,Ze=0,Be=1,_t=1,Ge=1<<I;for(ie=0,U=1,re=2;U<=I;++U,re<<=1){if(Be+=_t<<=1,0>(_t-=ce[U]))return 0;for(;0<ce[U];--ce[U])(B=new K).g=U,B.value=he[ie++],L(O,ue+Ze,re,Ge,B),Ze=V(Ze,U)}for(U=I+1,re=2;15>=U;++U,re<<=1){if(Be+=_t<<=1,0>(_t-=ce[U]))return 0;for(;0<ce[U];--ce[U]){if(B=new K,(Ze&Ee)!=Ce){for(ue+=Ge,ke=1<<(Ce=U)-I;15>Ce&&!(0>=(ke-=ce[Ce]));)++Ce,ke<<=1;we+=Ge=1<<(ke=Ce-I),O[T+(Ce=Ze&Ee)].g=ke+I,O[T+Ce].value=ue-T-Ce}B.g=U-I,B.value=he[ie++],L(O,ue+(Ze>>I),re,Ge,B),Ze=V(Ze,U)}}return Be!=2*xe[15]-1?0:we}(c,f,y,_,j,P)}function K(){this.value=this.g=0}function J(){this.value=this.g=0}function de(){this.G=a(5,K),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Wo,J)}function me(c,f,y,_){e(c!=null),e(f!=null),e(2147483648>_),c.Ca=254,c.I=0,c.b=-8,c.Ka=0,c.oa=f,c.pa=y,c.Jd=f,c.Yc=y+_,c.Zc=4<=_?y+_-4+1:y,ye(c)}function pe(c,f){for(var y=0;0<f--;)y|=_e(c,128)<<f;return y}function Q(c,f){var y=pe(c,f);return ve(c)?-y:y}function se(c,f,y,_){var j,P=0;for(e(c!=null),e(f!=null),e(4294967288>_),c.Sb=_,c.Ra=0,c.u=0,c.h=0,4<_&&(_=4),j=0;j<_;++j)P+=f[y+j]<<8*j;c.Ra=P,c.bb=_,c.oa=f,c.pa=y}function fe(c){for(;8<=c.u&&c.bb<c.Sb;)c.Ra>>>=8,c.Ra+=c.oa[c.pa+c.bb]<<La-8>>>0,++c.bb,c.u-=8;ee(c)&&(c.h=1,c.u=0)}function ge(c,f){if(e(0<=f),!c.h&&f<=ni){var y=H(c)&ri[f];return c.u+=f,fe(c),y}return c.h=1,c.u=0}function C(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function W(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function H(c){return c.Ra>>>(c.u&La-1)>>>0}function ee(c){return e(c.bb<=c.Sb),c.h||c.bb==c.Sb&&c.u>La}function te(c,f){c.u=f,c.h=ee(c)}function ae(c){c.u>=Hs&&(e(c.u>=Hs),fe(c))}function ye(c){e(c!=null&&c.oa!=null),c.pa<c.Zc?(c.I=(c.oa[c.pa++]|c.I<<8)>>>0,c.b+=8):(e(c!=null&&c.oa!=null),c.pa<c.Yc?(c.b+=8,c.I=c.oa[c.pa++]|c.I<<8):c.Ka?c.b=0:(c.I<<=8,c.b+=8,c.Ka=1))}function ve(c){return pe(c,1)}function _e(c,f){var y=c.Ca;0>c.b&&ye(c);var _=c.b,j=y*f>>>8,P=(c.I>>>_>j)+0;for(P?(y-=j,c.I-=j+1<<_>>>0):y=j+1,_=y,j=0;256<=_;)j+=8,_>>=8;return _=7^j+Pa[_],c.b-=_,c.Ca=(y<<_)-1,P}function je(c,f,y){c[f+0]=y>>24&255,c[f+1]=y>>16&255,c[f+2]=y>>8&255,c[f+3]=255&y}function Te(c,f){return c[f+0]|c[f+1]<<8}function Re(c,f){return Te(c,f)|c[f+2]<<16}function He(c,f){return Te(c,f)|Te(c,f+2)<<16}function D(c,f){var y=1<<f;return e(c!=null),e(0<f),c.X=s(y),c.X==null?0:(c.Mb=32-f,c.Xa=f,1)}function G(c,f){e(c!=null),e(f!=null),e(c.Xa==f.Xa),n(f.X,0,c.X,0,1<<f.Xa)}function Ne(){this.X=[],this.Xa=this.Mb=0}function Pe(c,f,y,_){e(y!=null),e(_!=null);var j=y[0],P=_[0];return j==0&&(j=(c*P+f/2)/f),P==0&&(P=(f*j+c/2)/c),0>=j||0>=P?0:(y[0]=j,_[0]=P,1)}function be(c,f){return c+(1<<f)-1>>>f}function Je(c,f){return((4278255360&c)+(4278255360&f)>>>0&4278255360)+((16711935&c)+(16711935&f)>>>0&16711935)>>>0}function Fe(c,f){F[f]=function(y,_,j,P,O,T,I){var B;for(B=0;B<O;++B){var re=F[c](T[I+B-1],j,P+B);T[I+B]=Je(y[_+B],re)}}}function Qe(){this.ud=this.hd=this.jd=0}function Ve(c,f){return((4278124286&(c^f))>>>1)+(c&f)>>>0}function Ct(c){return 0<=c&&256>c?c:0>c?0:255<c?255:void 0}function ft(c,f){return Ct(c+(c-f+.5>>1))}function qe(c,f,y){return Math.abs(f-y)-Math.abs(c-y)}function at(c,f,y,_,j,P,O){for(_=P[O-1],y=0;y<j;++y)P[O+y]=_=Je(c[f+y],_)}function xt(c,f,y,_,j){var P;for(P=0;P<y;++P){var O=c[f+P],T=O>>8&255,I=16711935&(I=(I=16711935&O)+((T<<16)+T));_[j+P]=(4278255360&O)+I>>>0}}function ze(c,f){f.jd=255&c,f.hd=c>>8&255,f.ud=c>>16&255}function ht(c,f,y,_,j,P){var O;for(O=0;O<_;++O){var T=f[y+O],I=T>>>8,B=T,re=255&(re=(re=T>>>16)+((c.jd<<24>>24)*(I<<24>>24)>>>5));B=255&(B=(B+=(c.hd<<24>>24)*(I<<24>>24)>>>5)+((c.ud<<24>>24)*(re<<24>>24)>>>5)),j[P+O]=(4278255360&T)+(re<<16)+B}}function Xe(c,f,y,_,j){F[f]=function(P,O,T,I,B,re,he,U,ie){for(I=he;I<U;++I)for(he=0;he<ie;++he)B[re++]=j(T[_(P[O++])])},F[c]=function(P,O,T,I,B,re,he){var U=8>>P.b,ie=P.Ea,ue=P.K[0],we=P.w;if(8>U)for(P=(1<<P.b)-1,we=(1<<U)-1;O<T;++O){var ce,xe=0;for(ce=0;ce<ie;++ce)ce&P||(xe=_(I[B++])),re[he++]=j(ue[xe&we]),xe>>=U}else F["VP8LMapColor"+y](I,B,ue,we,re,he,O,T,ie)}}function lr(c,f,y,_,j){for(y=f+y;f<y;){var P=c[f++];_[j++]=P>>16&255,_[j++]=P>>8&255,_[j++]=255&P}}function Et(c,f,y,_,j){for(y=f+y;f<y;){var P=c[f++];_[j++]=P>>16&255,_[j++]=P>>8&255,_[j++]=255&P,_[j++]=P>>24&255}}function yt(c,f,y,_,j){for(y=f+y;f<y;){var P=(O=c[f++])>>16&240|O>>12&15,O=240&O|O>>28&15;_[j++]=P,_[j++]=O}}function mt(c,f,y,_,j){for(y=f+y;f<y;){var P=(O=c[f++])>>16&248|O>>13&7,O=O>>5&224|O>>3&31;_[j++]=P,_[j++]=O}}function Gt(c,f,y,_,j){for(y=f+y;f<y;){var P=c[f++];_[j++]=255&P,_[j++]=P>>8&255,_[j++]=P>>16&255}}function rt(c,f,y,_,j,P){if(P==0)for(y=f+y;f<y;)je(_,((P=c[f++])[0]>>24|P[1]>>8&65280|P[2]<<8&16711680|P[3]<<24)>>>0),j+=32;else n(_,j,c,f,y)}function Mt(c,f){F[f][0]=F[c+"0"],F[f][1]=F[c+"1"],F[f][2]=F[c+"2"],F[f][3]=F[c+"3"],F[f][4]=F[c+"4"],F[f][5]=F[c+"5"],F[f][6]=F[c+"6"],F[f][7]=F[c+"7"],F[f][8]=F[c+"8"],F[f][9]=F[c+"9"],F[f][10]=F[c+"10"],F[f][11]=F[c+"11"],F[f][12]=F[c+"12"],F[f][13]=F[c+"13"],F[f][14]=F[c+"0"],F[f][15]=F[c+"0"]}function ot(c){return c==m0||c==v0||c==xd||c==y0}function ut(){this.eb=[],this.size=this.A=this.fb=0}function Yt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Nt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ut,this.f.kb=new Yt,this.sd=null}function it(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Dt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function os(c){return alert("todo:WebPSamplerProcessPlane"),c.T}function Yr(c,f){var y=c.T,_=f.ba.f.RGBA,j=_.eb,P=_.fb+c.ka*_.A,O=Ci[f.ba.S],T=c.y,I=c.O,B=c.f,re=c.N,he=c.ea,U=c.W,ie=f.cc,ue=f.dc,we=f.Mc,ce=f.Nc,xe=c.ka,ke=c.ka+c.T,Ce=c.U,Ee=Ce+1>>1;for(xe==0?O(T,I,null,null,B,re,he,U,B,re,he,U,j,P,null,null,Ce):(O(f.ec,f.fc,T,I,ie,ue,we,ce,B,re,he,U,j,P-_.A,j,P,Ce),++y);xe+2<ke;xe+=2)ie=B,ue=re,we=he,ce=U,re+=c.Rc,U+=c.Rc,P+=2*_.A,O(T,(I+=2*c.fa)-c.fa,T,I,ie,ue,we,ce,B,re,he,U,j,P-_.A,j,P,Ce);return I+=c.fa,c.j+ke<c.o?(n(f.ec,f.fc,T,I,Ce),n(f.cc,f.dc,B,re,Ee),n(f.Mc,f.Nc,he,U,Ee),y--):1&ke||O(T,I,null,null,B,re,he,U,B,re,he,U,j,P+_.A,null,null,Ce),y}function xi(c,f,y){var _=c.F,j=[c.J];if(_!=null){var P=c.U,O=f.ba.S,T=O==bd||O==xd;f=f.ba.f.RGBA;var I=[0],B=c.ka;I[0]=c.T,c.Kb&&(B==0?--I[0]:(--B,j[0]-=c.width),c.j+c.ka+c.T==c.o&&(I[0]=c.o-c.j-B));var re=f.eb;B=f.fb+B*f.A,c=e2(_,j[0],c.width,P,I,re,B+(T?0:3),f.A),e(y==I),c&&ot(O)&&Tc(re,B,T,P,I,f.A)}return 0}function _i(c){var f=c.ma,y=f.ba.S,_=11>y,j=y==yd||y==wd||y==bd||y==g0||y==12||ot(y);if(f.memory=null,f.Ib=null,f.Jb=null,f.Nd=null,!Nc(f.Oa,c,j?11:12))return 0;if(j&&ot(y)&&_c(),c.da)alert("todo:use_scaling");else{if(_){if(f.Ib=os,c.Kb){if(y=c.U+1>>1,f.memory=s(c.U+2*y),f.memory==null)return 0;f.ec=f.memory,f.fc=0,f.cc=f.ec,f.dc=f.fc+c.U,f.Mc=f.cc,f.Nc=f.dc+y,f.Ib=Yr,_c()}}else alert("todo:EmitYUV");j&&(f.Jb=xi,_&&Ui())}if(_&&!m2){for(c=0;256>c;++c)QS[c]=89858*(c-128)+Sd>>_d,ZS[c]=-22014*(c-128)+Sd,XS[c]=-45773*(c-128),YS[c]=113618*(c-128)+Sd>>_d;for(c=Ic;c<x0;++c)f=76283*(c-16)+Sd>>_d,ek[c-Ic]=fn(f,255),tk[c-Ic]=fn(f+8>>4,15);m2=1}return 1}function st(c){var f=c.ma,y=c.U,_=c.T;return e(!(1&c.ka)),0>=y||0>=_?0:(y=f.Ib(c,f),f.Jb!=null&&f.Jb(c,f,y),f.Dc+=y,1)}function kn(c){c.ma.memory=null}function Si(c,f,y,_){return ge(c,8)!=47?0:(f[0]=ge(c,14)+1,y[0]=ge(c,14)+1,_[0]=ge(c,1),ge(c,3)!=0?0:!c.h)}function Oe(c,f){if(4>c)return c+1;var y=c-2>>1;return(2+(1&c)<<y)+ge(f,y)+1}function dn(c,f){return 120<f?f-120:1<=(y=((y=FS[f-1])>>4)*c+(8-(15&y)))?y:1;var y}function Xt(c,f,y){var _=H(y),j=c[f+=255&_].g-8;return 0<j&&(te(y,y.u+8),_=H(y),f+=c[f].value,f+=_&(1<<j)-1),te(y,y.u+c[f].g),c[f].value}function Pr(c,f,y){return y.g+=c.g,y.value+=c.value<<f>>>0,e(8>=y.g),c.g}function _r(c,f,y){var _=c.xc;return e((f=_==0?0:c.vc[c.md*(y>>_)+(f>>_)])<c.Wb),c.Ya[f]}function Ls(c,f,y,_){var j=c.ab,P=c.c*f,O=c.C;f=O+f;var T=y,I=_;for(_=c.Ta,y=c.Ua;0<j--;){var B=c.gc[j],re=O,he=f,U=T,ie=I,ue=(I=_,T=y,B.Ea);switch(e(re<he),e(he<=B.nc),B.hc){case 2:Sr(U,ie,(he-re)*ue,I,T);break;case 0:var we=re,ce=he,xe=I,ke=T,Ce=(Ge=B).Ea;we==0&&(Ec(U,ie,null,null,1,xe,ke),at(U,ie+1,0,0,Ce-1,xe,ke+1),ie+=Ce,ke+=Ce,++we);for(var Ee=1<<Ge.b,Ze=Ee-1,Be=be(Ce,Ge.b),_t=Ge.K,Ge=Ge.w+(we>>Ge.b)*Be;we<ce;){var Pt=_t,zr=Ge,St=1;for(Hl(U,ie,xe,ke-Ce,1,xe,ke);St<Ce;){var Ke=(St&~Ze)+Ee;Ke>Ce&&(Ke=Ce),(0,Cc[Pt[zr++]>>8&15])(U,ie+ +St,xe,ke+St-Ce,Ke-St,xe,ke+St),St=Ke}ie+=Ce,ke+=Ce,++we&Ze||(Ge+=Be)}he!=B.nc&&n(I,T-ue,I,T+(he-re-1)*ue,ue);break;case 1:for(ue=U,ce=ie,Ce=(U=B.Ea)-(ke=U&~(xe=(ie=1<<B.b)-1)),we=be(U,B.b),Ee=B.K,B=B.w+(re>>B.b)*we;re<he;){for(Ze=Ee,Be=B,_t=new Qe,Ge=ce+ke,Pt=ce+U;ce<Ge;)ze(Ze[Be++],_t),Lc(_t,ue,ce,ie,I,T),ce+=ie,T+=ie;ce<Pt&&(ze(Ze[Be++],_t),Lc(_t,ue,ce,Ce,I,T),ce+=Ce,T+=Ce),++re&xe||(B+=we)}break;case 3:if(U==I&&ie==T&&0<B.b){for(ce=I,U=ue=T+(he-re)*ue-(ke=(he-re)*be(B.Ea,B.b)),ie=I,xe=T,we=[],ke=(Ce=ke)-1;0<=ke;--ke)we[ke]=ie[xe+ke];for(ke=Ce-1;0<=ke;--ke)ce[U+ke]=we[ke];pd(B,re,he,I,ue,I,T)}else pd(B,re,he,U,ie,I,T)}T=_,I=y}I!=y&&n(_,y,T,I,P)}function ls(c,f){var y=c.V,_=c.Ba+c.c*c.C,j=f-c.C;if(e(f<=c.l.o),e(16>=j),0<j){var P=c.l,O=c.Ta,T=c.Ua,I=P.width;if(Ls(c,j,y,_),j=T=[T],e((y=c.C)<(_=f)),e(P.v<P.va),_>P.o&&(_=P.o),y<P.j){var B=P.j-y;y=P.j,j[0]+=B*I}if(y>=_?y=0:(j[0]+=4*P.v,P.ka=y-P.j,P.U=P.va-P.v,P.T=_-y,y=1),y){if(T=T[0],11>(y=c.ca).S){var re=y.f.RGBA,he=(_=y.S,j=P.U,P=P.T,B=re.eb,re.A),U=P;for(re=re.fb+c.Ma*re.A;0<U--;){var ie=O,ue=T,we=j,ce=B,xe=re;switch(_){case vd:Pc(ie,ue,we,ce,xe);break;case yd:Oa(ie,ue,we,ce,xe);break;case m0:Oa(ie,ue,we,ce,xe),Tc(ce,xe,0,we,1,0);break;case o2:Ho(ie,ue,we,ce,xe);break;case wd:rt(ie,ue,we,ce,xe,1);break;case v0:rt(ie,ue,we,ce,xe,1),Tc(ce,xe,0,we,1,0);break;case bd:rt(ie,ue,we,ce,xe,0);break;case xd:rt(ie,ue,we,ce,xe,0),Tc(ce,xe,1,we,1,0);break;case g0:Ta(ie,ue,we,ce,xe);break;case y0:Ta(ie,ue,we,ce,xe),Zv(ce,xe,we,1,0);break;case l2:Ra(ie,ue,we,ce,xe);break;default:e(0)}T+=I,re+=he}c.Ma+=P}else alert("todo:EmitRescaledRowsYUVA");e(c.Ma<=y.height)}}c.C=f,e(c.C<=c.i)}function Bn(c){var f;if(0<c.ua)return 0;for(f=0;f<c.Wb;++f){var y=c.Ya[f].G,_=c.Ya[f].H;if(0<y[1][_[1]+0].g||0<y[2][_[2]+0].g||0<y[3][_[3]+0].g)return 0}return 1}function Zn(c,f,y,_,j,P){if(c.Z!=0){var O=c.qd,T=c.rd;for(e(Da[c.Z]!=null);f<y;++f)Da[c.Z](O,T,_,j,_,j,P),O=_,T=j,j+=P;c.qd=O,c.rd=T}}function ei(c,f){var y=c.l.ma,_=y.Z==0||y.Z==1?c.l.j:c.C;if(_=c.C<_?_:c.C,e(f<=c.l.o),f>_){var j=c.l.width,P=y.ca,O=y.tb+j*_,T=c.V,I=c.Ba+c.c*_,B=c.gc;e(c.ab==1),e(B[0].hc==3),fs(B[0],_,f,T,I,P,O),Zn(y,_,f,P,O,j)}c.C=c.Ma=f}function Un(c,f,y,_,j,P,O){var T=c.$/_,I=c.$%_,B=c.m,re=c.s,he=y+c.$,U=he;j=y+_*j;var ie=y+_*P,ue=280+re.ua,we=c.Pb?T:16777216,ce=0<re.ua?re.Wa:null,xe=re.wc,ke=he<ie?_r(re,I,T):null;e(c.C<P),e(ie<=j);var Ce=!1;e:for(;;){for(;Ce||he<ie;){var Ee=0;if(T>=we){var Ze=he-y;e((we=c).Pb),we.wd=we.m,we.xd=Ze,0<we.s.ua&&G(we.s.Wa,we.s.vb),we=T+MS}if(I&xe||(ke=_r(re,I,T)),e(ke!=null),ke.Qb&&(f[he]=ke.qb,Ce=!0),!Ce)if(ae(B),ke.jc){Ee=B,Ze=f;var Be=he,_t=ke.pd[H(Ee)&Wo-1];e(ke.jc),256>_t.g?(te(Ee,Ee.u+_t.g),Ze[Be]=_t.value,Ee=0):(te(Ee,Ee.u+_t.g-256),e(256<=_t.value),Ee=_t.value),Ee==0&&(Ce=!0)}else Ee=Xt(ke.G[0],ke.H[0],B);if(B.h)break;if(Ce||256>Ee){if(!Ce)if(ke.nd)f[he]=(ke.qb|Ee<<8)>>>0;else{if(ae(B),Ce=Xt(ke.G[1],ke.H[1],B),ae(B),Ze=Xt(ke.G[2],ke.H[2],B),Be=Xt(ke.G[3],ke.H[3],B),B.h)break;f[he]=(Be<<24|Ce<<16|Ee<<8|Ze)>>>0}if(Ce=!1,++he,++I>=_&&(I=0,++T,O!=null&&T<=P&&!(T%16)&&O(c,T),ce!=null))for(;U<he;)Ee=f[U++],ce.X[(506832829*Ee&4294967295)>>>ce.Mb]=Ee}else if(280>Ee){if(Ee=Oe(Ee-256,B),Ze=Xt(ke.G[4],ke.H[4],B),ae(B),Ze=dn(_,Ze=Oe(Ze,B)),B.h)break;if(he-y<Ze||j-he<Ee)break e;for(Be=0;Be<Ee;++Be)f[he+Be]=f[he+Be-Ze];for(he+=Ee,I+=Ee;I>=_;)I-=_,++T,O!=null&&T<=P&&!(T%16)&&O(c,T);if(e(he<=j),I&xe&&(ke=_r(re,I,T)),ce!=null)for(;U<he;)Ee=f[U++],ce.X[(506832829*Ee&4294967295)>>>ce.Mb]=Ee}else{if(!(Ee<ue))break e;for(Ce=Ee-280,e(ce!=null);U<he;)Ee=f[U++],ce.X[(506832829*Ee&4294967295)>>>ce.Mb]=Ee;Ee=he,e(!(Ce>>>(Ze=ce).Xa)),f[Ee]=Ze.X[Ce],Ce=!0}Ce||e(B.h==ee(B))}if(c.Pb&&B.h&&he<j)e(c.m.h),c.a=5,c.m=c.wd,c.$=c.xd,0<c.s.ua&&G(c.s.vb,c.s.Wa);else{if(B.h)break e;O!=null&&O(c,T>P?P:T),c.a=0,c.$=he-y}return 1}return c.a=3,0}function zn(c){e(c!=null),c.vc=null,c.yc=null,c.Ya=null;var f=c.Wa;f!=null&&(f.X=null),c.vb=null,e(c!=null)}function Ps(){var c=new dt;return c==null?null:(c.a=0,c.xb=h2,Mt("Predictor","VP8LPredictors"),Mt("Predictor","VP8LPredictors_C"),Mt("PredictorAdd","VP8LPredictorsAdd"),Mt("PredictorAdd","VP8LPredictorsAdd_C"),Sr=xt,Lc=ht,Pc=lr,Oa=Et,Ta=yt,Ra=mt,Ho=Gt,F.VP8LMapColor32b=ds,F.VP8LMapColor8b=jc,c)}function ti(c,f,y,_,j){var P=1,O=[c],T=[f],I=_.m,B=_.s,re=null,he=0;e:for(;;){if(y)for(;P&&ge(I,1);){var U=O,ie=T,ue=_,we=1,ce=ue.m,xe=ue.gc[ue.ab],ke=ge(ce,2);if(ue.Oc&1<<ke)P=0;else{switch(ue.Oc|=1<<ke,xe.hc=ke,xe.Ea=U[0],xe.nc=ie[0],xe.K=[null],++ue.ab,e(4>=ue.ab),ke){case 0:case 1:xe.b=ge(ce,3)+2,we=ti(be(xe.Ea,xe.b),be(xe.nc,xe.b),0,ue,xe.K),xe.K=xe.K[0];break;case 3:var Ce,Ee=ge(ce,8)+1,Ze=16<Ee?0:4<Ee?1:2<Ee?2:3;if(U[0]=be(xe.Ea,Ze),xe.b=Ze,Ce=we=ti(Ee,1,0,ue,xe.K)){var Be,_t=Ee,Ge=xe,Pt=1<<(8>>Ge.b),zr=s(Pt);if(zr==null)Ce=0;else{var St=Ge.K[0],Ke=Ge.w;for(zr[0]=Ge.K[0][0],Be=1;Be<1*_t;++Be)zr[Be]=Je(St[Ke+Be],zr[Be-1]);for(;Be<4*Pt;++Be)zr[Be]=0;Ge.K[0]=null,Ge.K[0]=zr,Ce=1}}we=Ce;break;case 2:break;default:e(0)}P=we}}if(O=O[0],T=T[0],P&&ge(I,1)&&!(P=1<=(he=ge(I,4))&&11>=he)){_.a=3;break e}var Ie;if(Ie=P)t:{var Nr,wt,Tt,nr=_,sn=O,En=T,vr=he,gn=y,jn=nr.m,$r=nr.s,It=[null],$t=1,yr=0,qt=DS[vr];r:for(;;){if(gn&&ge(jn,1)){var an=ge(jn,3)+2,$i=be(sn,an),Ar=be(En,an),$n=$i*Ar;if(!ti($i,Ar,0,nr,It))break r;for(It=It[0],$r.xc=an,Nr=0;Nr<$n;++Nr){var Jt=It[Nr]>>8&65535;It[Nr]=Jt,Jt>=$t&&($t=Jt+1)}}if(jn.h)break r;for(wt=0;5>wt;++wt){var qr=u2[wt];!wt&&0<vr&&(qr+=1<<vr),yr<qr&&(yr=qr)}var si=a($t*qt,K),Cn=$t,ai=a(Cn,de);if(ai==null)var oi=null;else e(65536>=Cn),oi=ai;var qn=s(yr);if(oi==null||qn==null||si==null){nr.a=1;break r}var li=si;for(Nr=Tt=0;Nr<$t;++Nr){var er=oi[Nr],ui=er.G,qi=er.H,Go=0,Ks=1,on=0;for(wt=0;5>wt;++wt){qr=u2[wt],ui[wt]=li,qi[wt]=Tt,!wt&&0<vr&&(qr+=1<<vr);i:{var Nd,_0=qr,Ad=nr,Fc=qn,ik=li,sk=Tt,S0=0,Ma=Ad.m,ak=ge(Ma,1);if(i(Fc,0,0,_0),ak){var ok=ge(Ma,1)+1,lk=ge(Ma,1),w2=ge(Ma,lk==0?1:8);Fc[w2]=1,ok==2&&(Fc[w2=ge(Ma,8)]=1);var Ed=1}else{var b2=s(19),x2=ge(Ma,4)+4;if(19<x2){Ad.a=3;var jd=0;break i}for(Nd=0;Nd<x2;++Nd)b2[IS[Nd]]=ge(Ma,3);var k0=void 0,Dc=void 0,_2=Ad,uk=b2,Cd=_0,S2=Fc,N0=0,Ba=_2.m,k2=8,N2=a(128,K);n:for(;R(N2,0,7,uk,19);){if(ge(Ba,1)){var ck=2+2*ge(Ba,3);if((k0=2+ge(Ba,ck))>Cd)break n}else k0=Cd;for(Dc=0;Dc<Cd&&k0--;){ae(Ba);var A2=N2[0+(127&H(Ba))];te(Ba,Ba.u+A2.g);var Gl=A2.value;if(16>Gl)S2[Dc++]=Gl,Gl!=0&&(k2=Gl);else{var hk=Gl==16,E2=Gl-16,dk=TS[E2],j2=ge(Ba,OS[E2])+dk;if(Dc+j2>Cd)break n;for(var fk=hk?k2:0;0<j2--;)S2[Dc++]=fk}}N0=1;break n}N0||(_2.a=3),Ed=N0}(Ed=Ed&&!Ma.h)&&(S0=R(ik,sk,8,Fc,_0)),Ed&&S0!=0?jd=S0:(Ad.a=3,jd=0)}if(jd==0)break r;if(Ks&&RS[wt]==1&&(Ks=li[Tt].g==0),Go+=li[Tt].g,Tt+=jd,3>=wt){var Mc,A0=qn[0];for(Mc=1;Mc<qr;++Mc)qn[Mc]>A0&&(A0=qn[Mc]);on+=A0}}if(er.nd=Ks,er.Qb=0,Ks&&(er.qb=(ui[3][qi[3]+0].value<<24|ui[1][qi[1]+0].value<<16|ui[2][qi[2]+0].value)>>>0,Go==0&&256>ui[0][qi[0]+0].value&&(er.Qb=1,er.qb+=ui[0][qi[0]+0].value<<8)),er.jc=!er.Qb&&6>on,er.jc){var Ld,Js=er;for(Ld=0;Ld<Wo;++Ld){var Ua=Ld,za=Js.pd[Ua],Pd=Js.G[0][Js.H[0]+Ua];256<=Pd.value?(za.g=Pd.g+256,za.value=Pd.value):(za.g=0,za.value=0,Ua>>=Pr(Pd,8,za),Ua>>=Pr(Js.G[1][Js.H[1]+Ua],16,za),Ua>>=Pr(Js.G[2][Js.H[2]+Ua],0,za),Pr(Js.G[3][Js.H[3]+Ua],24,za))}}}$r.vc=It,$r.Wb=$t,$r.Ya=oi,$r.yc=si,Ie=1;break t}Ie=0}if(!(P=Ie)){_.a=3;break e}if(0<he){if(B.ua=1<<he,!D(B.Wa,he)){_.a=1,P=0;break e}}else B.ua=0;var E0=_,C2=O,pk=T,j0=E0.s,C0=j0.xc;if(E0.c=C2,E0.i=pk,j0.md=be(C2,C0),j0.wc=C0==0?-1:(1<<C0)-1,y){_.xb=HS;break e}if((re=s(O*T))==null){_.a=1,P=0;break e}P=(P=Un(_,re,0,O,T,T,null))&&!I.h;break e}return P?(j!=null?j[0]=re:(e(re==null),e(y)),_.$=0,y||zn(B)):zn(B),P}function Os(c,f){var y=c.c*c.i,_=y+f+16*f;return e(c.c<=f),c.V=s(_),c.V==null?(c.Ta=null,c.Ua=0,c.a=1,0):(c.Ta=c.V,c.Ua=c.Ba+y+f,1)}function _a(c,f){var y=c.C,_=f-y,j=c.V,P=c.Ba+c.c*y;for(e(f<=c.l.o);0<_;){var O=16<_?16:_,T=c.l.ma,I=c.l.width,B=I*O,re=T.ca,he=T.tb+I*y,U=c.Ta,ie=c.Ua;Ls(c,O,j,P),t2(U,ie,re,he,B),Zn(T,y,y+O,re,he,I),_-=O,j+=O*c.c,y+=O}e(y==f),c.C=c.Ma=f}function Sa(){this.ub=this.yd=this.td=this.Rb=0}function ka(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function fc(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Na(){this.Yb=function(){var c=[];return function f(y,_,j){for(var P=j[_],O=0;O<P&&(y.push(j.length>_+1?[]:0),!(j.length<_+1));O++)f(y[O],_+1,j)}(c,0,[3,11]),c}()}function le(){this.jb=s(3),this.Wc=o([4,8],Na),this.Xc=o([4,17],Na)}function pt(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Bt(){this.ld=this.La=this.dd=this.tc=0}function Or(){this.Na=this.la=0}function Dr(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Nn(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function us(){this.uc=this.M=this.Nb=0,this.wa=Array(new Bt),this.Y=0,this.ya=Array(new Nn),this.aa=0,this.l=new cs}function Ts(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Rs(){this.cb=this.a=0,this.sc="",this.m=new C,this.Od=new Sa,this.Kc=new ka,this.ed=new pt,this.Qa=new fc,this.Ic=this.$c=this.Aa=0,this.D=new us,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,C),this.ia=0,this.pb=a(4,Dr),this.Pa=new le,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ts),this.Hd=0,this.rb=Array(new Or),this.sb=0,this.wa=Array(new Bt),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Nn),this.L=this.aa=0,this.gd=o([4,2],Bt),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function fn(c,f){return 0>c?0:c>f?f:c}function cs(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ml(){var c=new Rs;return c!=null&&(c.a=0,c.sc="OK",c.cb=0,c.Xb=0,Rc||(Rc=Aa)),c}function Lt(c,f,y){return c.a==0&&(c.a=f,c.sc=y,c.cb=0),0}function Bl(c,f,y){return 3<=y&&c[f+0]==157&&c[f+1]==1&&c[f+2]==42}function ki(c,f){if(c==null)return 0;if(c.a=0,c.sc="OK",f==null)return Lt(c,2,"null VP8Io passed to VP8GetHeaders()");var y=f.data,_=f.w,j=f.ha;if(4>j)return Lt(c,7,"Truncated header.");var P=y[_+0]|y[_+1]<<8|y[_+2]<<16,O=c.Od;if(O.Rb=!(1&P),O.td=P>>1&7,O.yd=P>>4&1,O.ub=P>>5,3<O.td)return Lt(c,3,"Incorrect keyframe parameters.");if(!O.yd)return Lt(c,4,"Frame not displayable.");_+=3,j-=3;var T=c.Kc;if(O.Rb){if(7>j)return Lt(c,7,"cannot parse picture header");if(!Bl(y,_,j))return Lt(c,3,"Bad code word");T.c=16383&(y[_+4]<<8|y[_+3]),T.Td=y[_+4]>>6,T.i=16383&(y[_+6]<<8|y[_+5]),T.Ud=y[_+6]>>6,_+=7,j-=7,c.za=T.c+15>>4,c.Ub=T.i+15>>4,f.width=T.c,f.height=T.i,f.Da=0,f.j=0,f.v=0,f.va=f.width,f.o=f.height,f.da=0,f.ib=f.width,f.hb=f.height,f.U=f.width,f.T=f.height,i((P=c.Pa).jb,0,255,P.jb.length),e((P=c.Qa)!=null),P.Cb=0,P.Bb=0,P.Fb=1,i(P.Zb,0,0,P.Zb.length),i(P.Lb,0,0,P.Lb)}if(O.ub>j)return Lt(c,7,"bad partition length");me(P=c.m,y,_,O.ub),_+=O.ub,j-=O.ub,O.Rb&&(T.Ld=ve(P),T.Kd=ve(P)),T=c.Qa;var I,B=c.Pa;if(e(P!=null),e(T!=null),T.Cb=ve(P),T.Cb){if(T.Bb=ve(P),ve(P)){for(T.Fb=ve(P),I=0;4>I;++I)T.Zb[I]=ve(P)?Q(P,7):0;for(I=0;4>I;++I)T.Lb[I]=ve(P)?Q(P,6):0}if(T.Bb)for(I=0;3>I;++I)B.jb[I]=ve(P)?pe(P,8):255}else T.Bb=0;if(P.Ka)return Lt(c,3,"cannot parse segment header");if((T=c.ed).zd=ve(P),T.Tb=pe(P,6),T.wb=pe(P,3),T.Pc=ve(P),T.Pc&&ve(P)){for(B=0;4>B;++B)ve(P)&&(T.vd[B]=Q(P,6));for(B=0;4>B;++B)ve(P)&&(T.od[B]=Q(P,6))}if(c.L=T.Tb==0?0:T.zd?1:2,P.Ka)return Lt(c,3,"cannot parse filter header");var re=j;if(j=I=_,_=I+re,T=re,c.Xb=(1<<pe(c.m,2))-1,re<3*(B=c.Xb))y=7;else{for(I+=3*B,T-=3*B,re=0;re<B;++re){var he=y[j+0]|y[j+1]<<8|y[j+2]<<16;he>T&&(he=T),me(c.Jc[+re],y,I,he),I+=he,T-=he,j+=3}me(c.Jc[+B],y,I,T),y=I<_?0:5}if(y!=0)return Lt(c,y,"cannot parse partitions");for(y=pe(I=c.m,7),j=ve(I)?Q(I,4):0,_=ve(I)?Q(I,4):0,T=ve(I)?Q(I,4):0,B=ve(I)?Q(I,4):0,I=ve(I)?Q(I,4):0,re=c.Qa,he=0;4>he;++he){if(re.Cb){var U=re.Zb[he];re.Fb||(U+=y)}else{if(0<he){c.pb[he]=c.pb[0];continue}U=y}var ie=c.pb[he];ie.Sc[0]=w0[fn(U+j,127)],ie.Sc[1]=b0[fn(U+0,127)],ie.Eb[0]=2*w0[fn(U+_,127)],ie.Eb[1]=101581*b0[fn(U+T,127)]>>16,8>ie.Eb[1]&&(ie.Eb[1]=8),ie.Qc[0]=w0[fn(U+B,117)],ie.Qc[1]=b0[fn(U+I,127)],ie.lc=U+I}if(!O.Rb)return Lt(c,4,"Not a key frame.");for(ve(P),O=c.Pa,y=0;4>y;++y){for(j=0;8>j;++j)for(_=0;3>_;++_)for(T=0;11>T;++T)B=_e(P,qS[y][j][_][T])?pe(P,8):zS[y][j][_][T],O.Wc[y][j].Yb[_][T]=B;for(j=0;17>j;++j)O.Xc[y][j]=O.Wc[y][WS[j]]}return c.kc=ve(P),c.kc&&(c.Bd=pe(P,8)),c.cb=1}function Aa(c,f,y,_,j,P,O){var T=f[j].Yb[y];for(y=0;16>j;++j){if(!_e(c,T[y+0]))return j;for(;!_e(c,T[y+1]);)if(T=f[++j].Yb[0],y=0,j==16)return 16;var I=f[j+1].Yb;if(_e(c,T[y+2])){var B=c,re=0;if(_e(B,(U=T)[(he=y)+3]))if(_e(B,U[he+6])){for(T=0,he=2*(re=_e(B,U[he+8]))+(U=_e(B,U[he+9+re])),re=0,U=BS[he];U[T];++T)re+=re+_e(B,U[T]);re+=3+(8<<he)}else _e(B,U[he+7])?(re=7+2*_e(B,165),re+=_e(B,145)):re=5+_e(B,159);else re=_e(B,U[he+4])?3+_e(B,U[he+5]):2;T=I[2]}else re=1,T=I[1];I=O+US[j],0>(B=c).b&&ye(B);var he,U=B.b,ie=(he=B.Ca>>1)-(B.I>>U)>>31;--B.b,B.Ca+=ie,B.Ca|=1,B.I-=(he+1&ie)<<U,P[I]=((re^ie)-ie)*_[(0<j)+0]}return 16}function pn(c){var f=c.rb[c.sb-1];f.la=0,f.Na=0,i(c.zc,0,0,c.zc.length),c.ja=0}function Ni(c,f,y,_,j){j=c[f+y+32*_]+(j>>3),c[f+y+32*_]=-256&j?0>j?0:255:j}function Mr(c,f,y,_,j,P){Ni(c,f,0,y,_+j),Ni(c,f,1,y,_+P),Ni(c,f,2,y,_-P),Ni(c,f,3,y,_-j)}function Is(c){return(20091*c>>16)+c}function id(c,f,y,_){var j,P=0,O=s(16);for(j=0;4>j;++j){var T=c[f+0]+c[f+8],I=c[f+0]-c[f+8],B=(35468*c[f+4]>>16)-Is(c[f+12]),re=Is(c[f+4])+(35468*c[f+12]>>16);O[P+0]=T+re,O[P+1]=I+B,O[P+2]=I-B,O[P+3]=T-re,P+=4,f++}for(j=P=0;4>j;++j)T=(c=O[P+0]+4)+O[P+8],I=c-O[P+8],B=(35468*O[P+4]>>16)-Is(O[P+12]),Ni(y,_,0,0,T+(re=Is(O[P+4])+(35468*O[P+12]>>16))),Ni(y,_,1,0,I+B),Ni(y,_,2,0,I-B),Ni(y,_,3,0,T-re),P++,_+=32}function e0(c,f,y,_){var j=c[f+0]+4,P=35468*c[f+4]>>16,O=Is(c[f+4]),T=35468*c[f+1]>>16;Mr(y,_,0,j+O,c=Is(c[f+1]),T),Mr(y,_,1,j+P,c,T),Mr(y,_,2,j-P,c,T),Mr(y,_,3,j-O,c,T)}function t0(c,f,y,_,j){id(c,f,y,_),j&&id(c,f+16,y,_+4)}function hs(c,f,y,_){Vo(c,f+0,y,_,1),Vo(c,f+32,y,_+128,1)}function sd(c,f,y,_){var j;for(c=c[f+0]+4,j=0;4>j;++j)for(f=0;4>f;++f)Ni(y,_,f,j,c)}function ad(c,f,y,_){c[f+0]&&Ut(c,f+0,y,_),c[f+16]&&Ut(c,f+16,y,_+4),c[f+32]&&Ut(c,f+32,y,_+128),c[f+48]&&Ut(c,f+48,y,_+128+4)}function Ul(c,f,y,_){var j,P=s(16);for(j=0;4>j;++j){var O=c[f+0+j]+c[f+12+j],T=c[f+4+j]+c[f+8+j],I=c[f+4+j]-c[f+8+j],B=c[f+0+j]-c[f+12+j];P[0+j]=O+T,P[8+j]=O-T,P[4+j]=B+I,P[12+j]=B-I}for(j=0;4>j;++j)O=(c=P[0+4*j]+3)+P[3+4*j],T=P[1+4*j]+P[2+4*j],I=P[1+4*j]-P[2+4*j],B=c-P[3+4*j],y[_+0]=O+T>>3,y[_+16]=B+I>>3,y[_+32]=O-T>>3,y[_+48]=B-I>>3,_+=64}function Ro(c,f,y){var _,j=f-32,P=ii,O=255-c[j-1];for(_=0;_<y;++_){var T,I=P,B=O+c[f-1];for(T=0;T<y;++T)c[f+T]=I[B+c[j+T]];f+=32}}function r0(c,f){Ro(c,f,4)}function n0(c,f){Ro(c,f,8)}function i0(c,f){Ro(c,f,16)}function pc(c,f){var y;for(y=0;16>y;++y)n(c,f+32*y,c,f-32,16)}function od(c,f){var y;for(y=16;0<y;--y)i(c,f,c[f-1],16),f+=32}function Bi(c,f,y){var _;for(_=0;16>_;++_)i(f,y+32*_,c,16)}function s0(c,f){var y,_=16;for(y=0;16>y;++y)_+=c[f-1+32*y]+c[f+y-32];Bi(_>>5,c,f)}function Io(c,f){var y,_=8;for(y=0;16>y;++y)_+=c[f-1+32*y];Bi(_>>4,c,f)}function gc(c,f){var y,_=8;for(y=0;16>y;++y)_+=c[f+y-32];Bi(_>>4,c,f)}function a0(c,f){Bi(128,c,f)}function gt(c,f,y){return c+2*f+y+2>>2}function o0(c,f){var y,_=f-32;for(_=new Uint8Array([gt(c[_-1],c[_+0],c[_+1]),gt(c[_+0],c[_+1],c[_+2]),gt(c[_+1],c[_+2],c[_+3]),gt(c[_+2],c[_+3],c[_+4])]),y=0;4>y;++y)n(c,f+32*y,_,0,_.length)}function l0(c,f){var y=c[f-1],_=c[f-1+32],j=c[f-1+64],P=c[f-1+96];je(c,f+0,16843009*gt(c[f-1-32],y,_)),je(c,f+32,16843009*gt(y,_,j)),je(c,f+64,16843009*gt(_,j,P)),je(c,f+96,16843009*gt(j,P,P))}function u0(c,f){var y,_=4;for(y=0;4>y;++y)_+=c[f+y-32]+c[f-1+32*y];for(_>>=3,y=0;4>y;++y)i(c,f+32*y,_,4)}function Fs(c,f){var y=c[f-1+0],_=c[f-1+32],j=c[f-1+64],P=c[f-1-32],O=c[f+0-32],T=c[f+1-32],I=c[f+2-32],B=c[f+3-32];c[f+0+96]=gt(_,j,c[f-1+96]),c[f+1+96]=c[f+0+64]=gt(y,_,j),c[f+2+96]=c[f+1+64]=c[f+0+32]=gt(P,y,_),c[f+3+96]=c[f+2+64]=c[f+1+32]=c[f+0+0]=gt(O,P,y),c[f+3+64]=c[f+2+32]=c[f+1+0]=gt(T,O,P),c[f+3+32]=c[f+2+0]=gt(I,T,O),c[f+3+0]=gt(B,I,T)}function Ds(c,f){var y=c[f+1-32],_=c[f+2-32],j=c[f+3-32],P=c[f+4-32],O=c[f+5-32],T=c[f+6-32],I=c[f+7-32];c[f+0+0]=gt(c[f+0-32],y,_),c[f+1+0]=c[f+0+32]=gt(y,_,j),c[f+2+0]=c[f+1+32]=c[f+0+64]=gt(_,j,P),c[f+3+0]=c[f+2+32]=c[f+1+64]=c[f+0+96]=gt(j,P,O),c[f+3+32]=c[f+2+64]=c[f+1+96]=gt(P,O,T),c[f+3+64]=c[f+2+96]=gt(O,T,I),c[f+3+96]=gt(T,I,I)}function c0(c,f){var y=c[f-1+0],_=c[f-1+32],j=c[f-1+64],P=c[f-1-32],O=c[f+0-32],T=c[f+1-32],I=c[f+2-32],B=c[f+3-32];c[f+0+0]=c[f+1+64]=P+O+1>>1,c[f+1+0]=c[f+2+64]=O+T+1>>1,c[f+2+0]=c[f+3+64]=T+I+1>>1,c[f+3+0]=I+B+1>>1,c[f+0+96]=gt(j,_,y),c[f+0+64]=gt(_,y,P),c[f+0+32]=c[f+1+96]=gt(y,P,O),c[f+1+32]=c[f+2+96]=gt(P,O,T),c[f+2+32]=c[f+3+96]=gt(O,T,I),c[f+3+32]=gt(T,I,B)}function h0(c,f){var y=c[f+0-32],_=c[f+1-32],j=c[f+2-32],P=c[f+3-32],O=c[f+4-32],T=c[f+5-32],I=c[f+6-32],B=c[f+7-32];c[f+0+0]=y+_+1>>1,c[f+1+0]=c[f+0+64]=_+j+1>>1,c[f+2+0]=c[f+1+64]=j+P+1>>1,c[f+3+0]=c[f+2+64]=P+O+1>>1,c[f+0+32]=gt(y,_,j),c[f+1+32]=c[f+0+96]=gt(_,j,P),c[f+2+32]=c[f+1+96]=gt(j,P,O),c[f+3+32]=c[f+2+96]=gt(P,O,T),c[f+3+64]=gt(O,T,I),c[f+3+96]=gt(T,I,B)}function zl(c,f){var y=c[f-1+0],_=c[f-1+32],j=c[f-1+64],P=c[f-1+96];c[f+0+0]=y+_+1>>1,c[f+2+0]=c[f+0+32]=_+j+1>>1,c[f+2+32]=c[f+0+64]=j+P+1>>1,c[f+1+0]=gt(y,_,j),c[f+3+0]=c[f+1+32]=gt(_,j,P),c[f+3+32]=c[f+1+64]=gt(j,P,P),c[f+3+64]=c[f+2+64]=c[f+0+96]=c[f+1+96]=c[f+2+96]=c[f+3+96]=P}function mc(c,f){var y=c[f-1+0],_=c[f-1+32],j=c[f-1+64],P=c[f-1+96],O=c[f-1-32],T=c[f+0-32],I=c[f+1-32],B=c[f+2-32];c[f+0+0]=c[f+2+32]=y+O+1>>1,c[f+0+32]=c[f+2+64]=_+y+1>>1,c[f+0+64]=c[f+2+96]=j+_+1>>1,c[f+0+96]=P+j+1>>1,c[f+3+0]=gt(T,I,B),c[f+2+0]=gt(O,T,I),c[f+1+0]=c[f+3+32]=gt(y,O,T),c[f+1+32]=c[f+3+64]=gt(_,y,O),c[f+1+64]=c[f+3+96]=gt(j,_,y),c[f+1+96]=gt(P,j,_)}function Fo(c,f){var y;for(y=0;8>y;++y)n(c,f+32*y,c,f-32,8)}function d0(c,f){var y;for(y=0;8>y;++y)i(c,f,c[f-1],8),f+=32}function Ms(c,f,y){var _;for(_=0;8>_;++_)i(f,y+32*_,c,8)}function f0(c,f){var y,_=8;for(y=0;8>y;++y)_+=c[f+y-32]+c[f-1+32*y];Ms(_>>4,c,f)}function vc(c,f){var y,_=4;for(y=0;8>y;++y)_+=c[f+y-32];Ms(_>>3,c,f)}function yc(c,f){var y,_=4;for(y=0;8>y;++y)_+=c[f-1+32*y];Ms(_>>3,c,f)}function ld(c,f){Ms(128,c,f)}function Bs(c,f,y){var _=c[f-y],j=c[f+0],P=3*(j-_)+p0[1020+c[f-2*y]-c[f+y]],O=md[112+(P+4>>3)];c[f-y]=ii[255+_+md[112+(P+3>>3)]],c[f+0]=ii[255+j-O]}function wc(c,f,y,_){var j=c[f+0],P=c[f+y];return ji[255+c[f-2*y]-c[f-y]]>_||ji[255+P-j]>_}function $l(c,f,y,_){return 4*ji[255+c[f-y]-c[f+0]]+ji[255+c[f-2*y]-c[f+y]]<=_}function bc(c,f,y,_,j){var P=c[f-3*y],O=c[f-2*y],T=c[f-y],I=c[f+0],B=c[f+y],re=c[f+2*y],he=c[f+3*y];return 4*ji[255+T-I]+ji[255+O-B]>_?0:ji[255+c[f-4*y]-P]<=j&&ji[255+P-O]<=j&&ji[255+O-T]<=j&&ji[255+he-re]<=j&&ji[255+re-B]<=j&&ji[255+B-I]<=j}function Do(c,f,y,_){var j=2*_+1;for(_=0;16>_;++_)$l(c,f+_,y,j)&&Bs(c,f+_,y)}function xc(c,f,y,_){var j=2*_+1;for(_=0;16>_;++_)$l(c,f+_*y,1,j)&&Bs(c,f+_*y,1)}function ud(c,f,y,_){var j;for(j=3;0<j;--j)Do(c,f+=4*y,y,_)}function cd(c,f,y,_){var j;for(j=3;0<j;--j)xc(c,f+=4,y,_)}function Us(c,f,y,_,j,P,O,T){for(P=2*P+1;0<j--;){if(bc(c,f,y,P,O))if(wc(c,f,y,T))Bs(c,f,y);else{var I=c,B=f,re=y,he=I[B-2*re],U=I[B-re],ie=I[B+0],ue=I[B+re],we=I[B+2*re],ce=27*(ke=p0[1020+3*(ie-U)+p0[1020+he-ue]])+63>>7,xe=18*ke+63>>7,ke=9*ke+63>>7;I[B-3*re]=ii[255+I[B-3*re]+ke],I[B-2*re]=ii[255+he+xe],I[B-re]=ii[255+U+ce],I[B+0]=ii[255+ie-ce],I[B+re]=ii[255+ue-xe],I[B+2*re]=ii[255+we-ke]}f+=_}}function zs(c,f,y,_,j,P,O,T){for(P=2*P+1;0<j--;){if(bc(c,f,y,P,O))if(wc(c,f,y,T))Bs(c,f,y);else{var I=c,B=f,re=y,he=I[B-re],U=I[B+0],ie=I[B+re],ue=md[112+(4+(we=3*(U-he))>>3)],we=md[112+(we+3>>3)],ce=ue+1>>1;I[B-2*re]=ii[255+I[B-2*re]+ce],I[B-re]=ii[255+he+we],I[B+0]=ii[255+U-ue],I[B+re]=ii[255+ie-ce]}f+=_}}function hd(c,f,y,_,j,P){Us(c,f,y,1,16,_,j,P)}function Mo(c,f,y,_,j,P){Us(c,f,1,y,16,_,j,P)}function dd(c,f,y,_,j,P){var O;for(O=3;0<O;--O)zs(c,f+=4*y,y,1,16,_,j,P)}function m(c,f,y,_,j,P){var O;for(O=3;0<O;--O)zs(c,f+=4,1,y,16,_,j,P)}function E(c,f,y,_,j,P,O,T){Us(c,f,j,1,8,P,O,T),Us(y,_,j,1,8,P,O,T)}function z(c,f,y,_,j,P,O,T){Us(c,f,1,j,8,P,O,T),Us(y,_,1,j,8,P,O,T)}function Z(c,f,y,_,j,P,O,T){zs(c,f+4*j,j,1,8,P,O,T),zs(y,_+4*j,j,1,8,P,O,T)}function oe(c,f,y,_,j,P,O,T){zs(c,f+4,1,j,8,P,O,T),zs(y,_+4,1,j,8,P,O,T)}function Se(){this.ba=new Nt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Dt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ae(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function We(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ye(){this.ua=0,this.Wa=new Ne,this.vb=new Ne,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new de,this.yc=new K}function dt(){this.xb=this.a=0,this.l=new cs,this.ca=new Nt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new W,this.Pb=0,this.wd=new W,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ye,this.ab=0,this.gc=a(4,We),this.Oc=0}function bt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new cs,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Rt(c,f,y,_,j,P,O){for(c=c==null?0:c[f+0],f=0;f<O;++f)j[P+f]=c+y[_+f]&255,c=j[P+f]}function hr(c,f,y,_,j,P,O){var T;if(c==null)Rt(null,null,y,_,j,P,O);else for(T=0;T<O;++T)j[P+T]=c[f+T]+y[_+T]&255}function Tr(c,f,y,_,j,P,O){if(c==null)Rt(null,null,y,_,j,P,O);else{var T,I=c[f+0],B=I,re=I;for(T=0;T<O;++T)B=re+(I=c[f+T])-B,re=y[_+T]+(-256&B?0>B?0:255:B)&255,B=I,j[P+T]=re}}function Zt(c,f,y,_){var j=f.width,P=f.o;if(e(c!=null&&f!=null),0>y||0>=_||y+_>P)return null;if(!c.Cc){if(c.ga==null){var O;if(c.ga=new bt,(O=c.ga==null)||(O=f.width*f.o,e(c.Gb.length==0),c.Gb=s(O),c.Uc=0,c.Gb==null?O=0:(c.mb=c.Gb,c.nb=c.Uc,c.rc=null,O=1),O=!O),!O){O=c.ga;var T=c.Fa,I=c.P,B=c.qc,re=c.mb,he=c.nb,U=I+1,ie=B-1,ue=O.l;if(e(T!=null&&re!=null&&f!=null),Da[0]=null,Da[1]=Rt,Da[2]=hr,Da[3]=Tr,O.ca=re,O.tb=he,O.c=f.width,O.i=f.height,e(0<O.c&&0<O.i),1>=B)f=0;else if(O.$a=3&T[I+0],O.Z=T[I+0]>>2&3,O.Lc=T[I+0]>>4&3,I=T[I+0]>>6&3,0>O.$a||1<O.$a||4<=O.Z||1<O.Lc||I)f=0;else if(ue.put=st,ue.ac=_i,ue.bc=kn,ue.ma=O,ue.width=f.width,ue.height=f.height,ue.Da=f.Da,ue.v=f.v,ue.va=f.va,ue.j=f.j,ue.o=f.o,O.$a)e:{e(O.$a==1),f=Ps();t:for(;;){if(f==null){f=0;break e}if(e(O!=null),O.mc=f,f.c=O.c,f.i=O.i,f.l=O.l,f.l.ma=O,f.l.width=O.c,f.l.height=O.i,f.a=0,se(f.m,T,U,ie),!ti(O.c,O.i,1,f,null)||(f.ab==1&&f.gc[0].hc==3&&Bn(f.s)?(O.ic=1,T=f.c*f.i,f.Ta=null,f.Ua=0,f.V=s(T),f.Ba=0,f.V==null?(f.a=1,f=0):f=1):(O.ic=0,f=Os(f,O.c)),!f))break t;f=1;break e}O.mc=null,f=0}else f=ie>=O.c*O.i;O=!f}if(O)return null;c.ga.Lc!=1?c.Ga=0:_=P-y}e(c.ga!=null),e(y+_<=P);e:{if(f=(T=c.ga).c,P=T.l.o,T.$a==0){if(U=c.rc,ie=c.Vc,ue=c.Fa,I=c.P+1+y*f,B=c.mb,re=c.nb+y*f,e(I<=c.P+c.qc),T.Z!=0)for(e(Da[T.Z]!=null),O=0;O<_;++O)Da[T.Z](U,ie,ue,I,B,re,f),U=B,ie=re,re+=f,I+=f;else for(O=0;O<_;++O)n(B,re,ue,I,f),U=B,ie=re,re+=f,I+=f;c.rc=U,c.Vc=ie}else{if(e(T.mc!=null),f=y+_,e((O=T.mc)!=null),e(f<=O.i),O.C>=f)f=1;else if(T.ic||Ui(),T.ic){T=O.V,U=O.Ba,ie=O.c;var we=O.i,ce=(ue=1,I=O.$/ie,B=O.$%ie,re=O.m,he=O.s,O.$),xe=ie*we,ke=ie*f,Ce=he.wc,Ee=ce<ke?_r(he,B,I):null;e(ce<=xe),e(f<=we),e(Bn(he));t:for(;;){for(;!re.h&&ce<ke;){if(B&Ce||(Ee=_r(he,B,I)),e(Ee!=null),ae(re),256>(we=Xt(Ee.G[0],Ee.H[0],re)))T[U+ce]=we,++ce,++B>=ie&&(B=0,++I<=f&&!(I%16)&&ei(O,I));else{if(!(280>we)){ue=0;break t}we=Oe(we-256,re);var Ze,Be=Xt(Ee.G[4],Ee.H[4],re);if(ae(re),!(ce>=(Be=dn(ie,Be=Oe(Be,re)))&&xe-ce>=we)){ue=0;break t}for(Ze=0;Ze<we;++Ze)T[U+ce+Ze]=T[U+ce+Ze-Be];for(ce+=we,B+=we;B>=ie;)B-=ie,++I<=f&&!(I%16)&&ei(O,I);ce<ke&&B&Ce&&(Ee=_r(he,B,I))}e(re.h==ee(re))}ei(O,I>f?f:I);break t}!ue||re.h&&ce<xe?(ue=0,O.a=re.h?5:3):O.$=ce,f=ue}else f=Un(O,O.V,O.Ba,O.c,O.i,f,_a);if(!f){_=0;break e}}y+_>=P&&(c.Cc=1),_=1}if(!_)return null;if(c.Cc&&((_=c.ga)!=null&&(_.mc=null),c.ga=null,0<c.Ga))return alert("todo:WebPDequantizeLevels"),null}return c.nb+y*j}function Br(c,f,y,_,j,P){for(;0<j--;){var O,T=c,I=f+(y?1:0),B=c,re=f+(y?0:3);for(O=0;O<_;++O){var he=B[re+4*O];he!=255&&(he*=32897,T[I+4*O+0]=T[I+4*O+0]*he>>23,T[I+4*O+1]=T[I+4*O+1]*he>>23,T[I+4*O+2]=T[I+4*O+2]*he>>23)}f+=P}}function Rr(c,f,y,_,j){for(;0<_--;){var P;for(P=0;P<y;++P){var O=c[f+2*P+0],T=15&(B=c[f+2*P+1]),I=4369*T,B=(240&B|B>>4)*I>>16;c[f+2*P+0]=(240&O|O>>4)*I>>16&240|(15&O|O<<4)*I>>16>>4&15,c[f+2*P+1]=240&B|T}f+=j}}function rn(c,f,y,_,j,P,O,T){var I,B,re=255;for(B=0;B<j;++B){for(I=0;I<_;++I){var he=c[f+I];P[O+4*I]=he,re&=he}f+=y,O+=T}return re!=255}function $s(c,f,y,_,j){var P;for(P=0;P<j;++P)y[_+P]=c[f+P]>>8}function Ui(){Tc=Br,Zv=Rr,e2=rn,t2=$s}function qs(c,f,y){F[c]=function(_,j,P,O,T,I,B,re,he,U,ie,ue,we,ce,xe,ke,Ce){var Ee,Ze=Ce-1>>1,Be=T[I+0]|B[re+0]<<16,_t=he[U+0]|ie[ue+0]<<16;e(_!=null);var Ge=3*Be+_t+131074>>2;for(f(_[j+0],255&Ge,Ge>>16,we,ce),P!=null&&(Ge=3*_t+Be+131074>>2,f(P[O+0],255&Ge,Ge>>16,xe,ke)),Ee=1;Ee<=Ze;++Ee){var Pt=T[I+Ee]|B[re+Ee]<<16,zr=he[U+Ee]|ie[ue+Ee]<<16,St=Be+Pt+_t+zr+524296,Ke=St+2*(Pt+_t)>>3;Ge=Ke+Be>>1,Be=(St=St+2*(Be+zr)>>3)+Pt>>1,f(_[j+2*Ee-1],255&Ge,Ge>>16,we,ce+(2*Ee-1)*y),f(_[j+2*Ee-0],255&Be,Be>>16,we,ce+(2*Ee-0)*y),P!=null&&(Ge=St+_t>>1,Be=Ke+zr>>1,f(P[O+2*Ee-1],255&Ge,Ge>>16,xe,ke+(2*Ee-1)*y),f(P[O+2*Ee+0],255&Be,Be>>16,xe,ke+(2*Ee+0)*y)),Be=Pt,_t=zr}1&Ce||(Ge=3*Be+_t+131074>>2,f(_[j+Ce-1],255&Ge,Ge>>16,we,ce+(Ce-1)*y),P!=null&&(Ge=3*_t+Be+131074>>2,f(P[O+Ce-1],255&Ge,Ge>>16,xe,ke+(Ce-1)*y)))}}function _c(){Ci[vd]=VS,Ci[yd]=d2,Ci[o2]=GS,Ci[wd]=f2,Ci[bd]=p2,Ci[g0]=g2,Ci[l2]=KS,Ci[m0]=d2,Ci[v0]=f2,Ci[xd]=p2,Ci[y0]=g2}function ql(c){return c&-16384?0>c?0:255:c>>JS}function Ea(c,f){return ql((19077*c>>8)+(26149*f>>8)-14234)}function Bo(c,f,y){return ql((19077*c>>8)-(6419*f>>8)-(13320*y>>8)+8708)}function Uo(c,f){return ql((19077*c>>8)+(33050*f>>8)-17685)}function ja(c,f,y,_,j){_[j+0]=Ea(c,y),_[j+1]=Bo(c,f,y),_[j+2]=Uo(c,f)}function nn(c,f,y,_,j){_[j+0]=Uo(c,f),_[j+1]=Bo(c,f,y),_[j+2]=Ea(c,y)}function zo(c,f,y,_,j){var P=Bo(c,f,y);f=P<<3&224|Uo(c,f)>>3,_[j+0]=248&Ea(c,y)|P>>5,_[j+1]=f}function $o(c,f,y,_,j){var P=240&Uo(c,f)|15;_[j+0]=240&Ea(c,y)|Bo(c,f,y)>>4,_[j+1]=P}function Sc(c,f,y,_,j){_[j+0]=255,ja(c,f,y,_,j+1)}function kc(c,f,y,_,j){nn(c,f,y,_,j),_[j+3]=255}function An(c,f,y,_,j){ja(c,f,y,_,j),_[j+3]=255}function Ws(c,f,y){F[c]=function(_,j,P,O,T,I,B,re,he){for(var U=re+(-2&he)*y;re!=U;)f(_[j+0],P[O+0],T[I+0],B,re),f(_[j+1],P[O+0],T[I+0],B,re+y),j+=2,++O,++I,re+=2*y;1&he&&f(_[j+0],P[O+0],T[I+0],B,re)}}function Wl(c,f,y){return y==0?c==0?f==0?6:5:f==0?4:0:y}function fd(c,f,y,_,j){switch(c>>>30){case 3:Vo(f,y,_,j,0);break;case 2:Ei(f,y,_,j);break;case 1:Ut(f,y,_,j)}}function Ai(c,f){var y,_,j=f.M,P=f.Nb,O=c.oc,T=c.pc+40,I=c.oc,B=c.pc+584,re=c.oc,he=c.pc+600;for(y=0;16>y;++y)O[T+32*y-1]=129;for(y=0;8>y;++y)I[B+32*y-1]=129,re[he+32*y-1]=129;for(0<j?O[T-1-32]=I[B-1-32]=re[he-1-32]=129:(i(O,T-32-1,127,21),i(I,B-32-1,127,9),i(re,he-32-1,127,9)),_=0;_<c.za;++_){var U=f.ya[f.aa+_];if(0<_){for(y=-1;16>y;++y)n(O,T+32*y-4,O,T+32*y+12,4);for(y=-1;8>y;++y)n(I,B+32*y-4,I,B+32*y+4,4),n(re,he+32*y-4,re,he+32*y+4,4)}var ie=c.Gd,ue=c.Hd+_,we=U.ad,ce=U.Hc;if(0<j&&(n(O,T-32,ie[ue].y,0,16),n(I,B-32,ie[ue].f,0,8),n(re,he-32,ie[ue].ea,0,8)),U.Za){var xe=O,ke=T-32+16;for(0<j&&(_>=c.za-1?i(xe,ke,ie[ue].y[15],4):n(xe,ke,ie[ue+1].y,0,4)),y=0;4>y;y++)xe[ke+128+y]=xe[ke+256+y]=xe[ke+384+y]=xe[ke+0+y];for(y=0;16>y;++y,ce<<=2)xe=O,ke=T+v2[y],zi[U.Ob[y]](xe,ke),fd(ce,we,16*+y,xe,ke)}else if(xe=Wl(_,j,U.Ob[0]),Fa[xe](O,T),ce!=0)for(y=0;16>y;++y,ce<<=2)fd(ce,we,16*+y,O,T+v2[y]);for(y=U.Gc,xe=Wl(_,j,U.Dd),Gs[xe](I,B),Gs[xe](re,he),ce=we,xe=I,ke=B,255&(U=0|y)&&(170&U?ps(ce,256,xe,ke):Kt(ce,256,xe,ke)),U=re,ce=he,255&(y>>=8)&&(170&y?ps(we,320,U,ce):Kt(we,320,U,ce)),j<c.Ub-1&&(n(ie[ue].y,0,O,T+480,16),n(ie[ue].f,0,I,B+224,8),n(ie[ue].ea,0,re,he+224,8)),y=8*P*c.B,ie=c.sa,ue=c.ta+16*_+16*P*c.R,we=c.qa,U=c.ra+8*_+y,ce=c.Ha,xe=c.Ia+8*_+y,y=0;16>y;++y)n(ie,ue+y*c.R,O,T+32*y,16);for(y=0;8>y;++y)n(we,U+y*c.B,I,B+32*y,8),n(ce,xe+y*c.B,re,he+32*y,8)}}function qo(c,f,y,_,j,P,O,T,I){var B=[0],re=[0],he=0,U=I!=null?I.kd:0,ie=I??new Ae;if(c==null||12>y)return 7;ie.data=c,ie.w=f,ie.ha=y,f=[f],y=[y],ie.gb=[ie.gb];e:{var ue=f,we=y,ce=ie.gb;if(e(c!=null),e(we!=null),e(ce!=null),ce[0]=0,12<=we[0]&&!r(c,ue[0],"RIFF")){if(r(c,ue[0]+8,"WEBP")){ce=3;break e}var xe=He(c,ue[0]+4);if(12>xe||4294967286<xe){ce=3;break e}if(U&&xe>we[0]-8){ce=7;break e}ce[0]=xe,ue[0]+=12,we[0]-=12}ce=0}if(ce!=0)return ce;for(xe=0<ie.gb[0],y=y[0];;){e:{var ke=c;we=f,ce=y;var Ce=B,Ee=re,Ze=ue=[0];if((Ge=he=[he])[0]=0,8>ce[0])ce=7;else{if(!r(ke,we[0],"VP8X")){if(He(ke,we[0]+4)!=10){ce=3;break e}if(18>ce[0]){ce=7;break e}var Be=He(ke,we[0]+8),_t=1+Re(ke,we[0]+12);if(2147483648<=_t*(ke=1+Re(ke,we[0]+15))){ce=3;break e}Ze!=null&&(Ze[0]=Be),Ce!=null&&(Ce[0]=_t),Ee!=null&&(Ee[0]=ke),we[0]+=18,ce[0]-=18,Ge[0]=1}ce=0}}if(he=he[0],ue=ue[0],ce!=0)return ce;if(we=!!(2&ue),!xe&&he)return 3;if(P!=null&&(P[0]=!!(16&ue)),O!=null&&(O[0]=we),T!=null&&(T[0]=0),O=B[0],ue=re[0],he&&we&&I==null){ce=0;break}if(4>y){ce=7;break}if(xe&&he||!xe&&!he&&!r(c,f[0],"ALPH")){y=[y],ie.na=[ie.na],ie.P=[ie.P],ie.Sa=[ie.Sa];e:{Be=c,ce=f,xe=y;var Ge=ie.gb;Ce=ie.na,Ee=ie.P,Ze=ie.Sa,_t=22,e(Be!=null),e(xe!=null),ke=ce[0];var Pt=xe[0];for(e(Ce!=null),e(Ze!=null),Ce[0]=null,Ee[0]=null,Ze[0]=0;;){if(ce[0]=ke,xe[0]=Pt,8>Pt){ce=7;break e}var zr=He(Be,ke+4);if(4294967286<zr){ce=3;break e}var St=8+zr+1&-2;if(_t+=St,0<Ge&&_t>Ge){ce=3;break e}if(!r(Be,ke,"VP8 ")||!r(Be,ke,"VP8L")){ce=0;break e}if(Pt[0]<St){ce=7;break e}r(Be,ke,"ALPH")||(Ce[0]=Be,Ee[0]=ke+8,Ze[0]=zr),ke+=St,Pt-=St}}if(y=y[0],ie.na=ie.na[0],ie.P=ie.P[0],ie.Sa=ie.Sa[0],ce!=0)break}y=[y],ie.Ja=[ie.Ja],ie.xa=[ie.xa];e:if(Ge=c,ce=f,xe=y,Ce=ie.gb[0],Ee=ie.Ja,Ze=ie.xa,Be=ce[0],ke=!r(Ge,Be,"VP8 "),_t=!r(Ge,Be,"VP8L"),e(Ge!=null),e(xe!=null),e(Ee!=null),e(Ze!=null),8>xe[0])ce=7;else{if(ke||_t){if(Ge=He(Ge,Be+4),12<=Ce&&Ge>Ce-12){ce=3;break e}if(U&&Ge>xe[0]-8){ce=7;break e}Ee[0]=Ge,ce[0]+=8,xe[0]-=8,Ze[0]=_t}else Ze[0]=5<=xe[0]&&Ge[Be+0]==47&&!(Ge[Be+4]>>5),Ee[0]=xe[0];ce=0}if(y=y[0],ie.Ja=ie.Ja[0],ie.xa=ie.xa[0],f=f[0],ce!=0)break;if(4294967286<ie.Ja)return 3;if(T==null||we||(T[0]=ie.xa?2:1),O=[O],ue=[ue],ie.xa){if(5>y){ce=7;break}T=O,U=ue,we=P,c==null||5>y?c=0:5<=y&&c[f+0]==47&&!(c[f+4]>>5)?(xe=[0],Ge=[0],Ce=[0],se(Ee=new W,c,f,y),Si(Ee,xe,Ge,Ce)?(T!=null&&(T[0]=xe[0]),U!=null&&(U[0]=Ge[0]),we!=null&&(we[0]=Ce[0]),c=1):c=0):c=0}else{if(10>y){ce=7;break}T=ue,c==null||10>y||!Bl(c,f+3,y-3)?c=0:(U=c[f+0]|c[f+1]<<8|c[f+2]<<16,we=16383&(c[f+7]<<8|c[f+6]),c=16383&(c[f+9]<<8|c[f+8]),1&U||3<(U>>1&7)||!(U>>4&1)||U>>5>=ie.Ja||!we||!c?c=0:(O&&(O[0]=we),T&&(T[0]=c),c=1))}if(!c||(O=O[0],ue=ue[0],he&&(B[0]!=O||re[0]!=ue)))return 3;I!=null&&(I[0]=ie,I.offset=f-I.w,e(4294967286>f-I.w),e(I.offset==I.ha-y));break}return ce==0||ce==7&&he&&I==null?(P!=null&&(P[0]|=ie.na!=null&&0<ie.na.length),_!=null&&(_[0]=O),j!=null&&(j[0]=ue),0):ce}function Nc(c,f,y){var _=f.width,j=f.height,P=0,O=0,T=_,I=j;if(f.Da=c!=null&&0<c.Da,f.Da&&(T=c.cd,I=c.bd,P=c.v,O=c.j,11>y||(P&=-2,O&=-2),0>P||0>O||0>=T||0>=I||P+T>_||O+I>j))return 0;if(f.v=P,f.j=O,f.va=P+T,f.o=O+I,f.U=T,f.T=I,f.da=c!=null&&0<c.da,f.da){if(!Pe(T,I,y=[c.ib],P=[c.hb]))return 0;f.ib=y[0],f.hb=P[0]}return f.ob=c!=null&&c.ob,f.Kb=c==null||!c.Sd,f.da&&(f.ob=f.ib<3*_/4&&f.hb<3*j/4,f.Kb=0),1}function Ac(c){if(c==null)return 2;if(11>c.S){var f=c.f.RGBA;f.fb+=(c.height-1)*f.A,f.A=-f.A}else f=c.f.kb,c=c.height,f.O+=(c-1)*f.fa,f.fa=-f.fa,f.N+=(c-1>>1)*f.Ab,f.Ab=-f.Ab,f.W+=(c-1>>1)*f.Db,f.Db=-f.Db,f.F!=null&&(f.J+=(c-1)*f.lb,f.lb=-f.lb);return 0}function Ca(c,f,y,_){if(_==null||0>=c||0>=f)return 2;if(y!=null){if(y.Da){var j=y.cd,P=y.bd,O=-2&y.v,T=-2&y.j;if(0>O||0>T||0>=j||0>=P||O+j>c||T+P>f)return 2;c=j,f=P}if(y.da){if(!Pe(c,f,j=[y.ib],P=[y.hb]))return 2;c=j[0],f=P[0]}}_.width=c,_.height=f;e:{var I=_.width,B=_.height;if(c=_.S,0>=I||0>=B||!(c>=vd&&13>c))c=2;else{if(0>=_.Rd&&_.sd==null){O=P=j=f=0;var re=(T=I*y2[c])*B;if(11>c||(P=(B+1)/2*(f=(I+1)/2),c==12&&(O=(j=I)*B)),(B=s(re+2*P+O))==null){c=1;break e}_.sd=B,11>c?((I=_.f.RGBA).eb=B,I.fb=0,I.A=T,I.size=re):((I=_.f.kb).y=B,I.O=0,I.fa=T,I.Fd=re,I.f=B,I.N=0+re,I.Ab=f,I.Cd=P,I.ea=B,I.W=0+re+P,I.Db=f,I.Ed=P,c==12&&(I.F=B,I.J=0+re+2*P),I.Tc=O,I.lb=j)}if(f=1,j=_.S,P=_.width,O=_.height,j>=vd&&13>j)if(11>j)c=_.f.RGBA,f&=(T=Math.abs(c.A))*(O-1)+P<=c.size,f&=T>=P*y2[j],f&=c.eb!=null;else{c=_.f.kb,T=(P+1)/2,re=(O+1)/2,I=Math.abs(c.fa),B=Math.abs(c.Ab);var he=Math.abs(c.Db),U=Math.abs(c.lb),ie=U*(O-1)+P;f&=I*(O-1)+P<=c.Fd,f&=B*(re-1)+T<=c.Cd,f=(f&=he*(re-1)+T<=c.Ed)&I>=P&B>=T&he>=T,f&=c.y!=null,f&=c.f!=null,f&=c.ea!=null,j==12&&(f&=U>=P,f&=ie<=c.Tc,f&=c.F!=null)}else f=0;c=f?0:2}}return c!=0||y!=null&&y.fd&&(c=Ac(_)),c}var Wo=64,ri=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ni=24,La=32,Hs=8,Pa=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Fe("Predictor0","PredictorAdd0"),F.Predictor0=function(){return 4278190080},F.Predictor1=function(c){return c},F.Predictor2=function(c,f,y){return f[y+0]},F.Predictor3=function(c,f,y){return f[y+1]},F.Predictor4=function(c,f,y){return f[y-1]},F.Predictor5=function(c,f,y){return Ve(Ve(c,f[y+1]),f[y+0])},F.Predictor6=function(c,f,y){return Ve(c,f[y-1])},F.Predictor7=function(c,f,y){return Ve(c,f[y+0])},F.Predictor8=function(c,f,y){return Ve(f[y-1],f[y+0])},F.Predictor9=function(c,f,y){return Ve(f[y+0],f[y+1])},F.Predictor10=function(c,f,y){return Ve(Ve(c,f[y-1]),Ve(f[y+0],f[y+1]))},F.Predictor11=function(c,f,y){var _=f[y+0];return 0>=qe(_>>24&255,c>>24&255,(f=f[y-1])>>24&255)+qe(_>>16&255,c>>16&255,f>>16&255)+qe(_>>8&255,c>>8&255,f>>8&255)+qe(255&_,255&c,255&f)?_:c},F.Predictor12=function(c,f,y){var _=f[y+0];return(Ct((c>>24&255)+(_>>24&255)-((f=f[y-1])>>24&255))<<24|Ct((c>>16&255)+(_>>16&255)-(f>>16&255))<<16|Ct((c>>8&255)+(_>>8&255)-(f>>8&255))<<8|Ct((255&c)+(255&_)-(255&f)))>>>0},F.Predictor13=function(c,f,y){var _=f[y-1];return(ft((c=Ve(c,f[y+0]))>>24&255,_>>24&255)<<24|ft(c>>16&255,_>>16&255)<<16|ft(c>>8&255,_>>8&255)<<8|ft(255&c,255&_))>>>0};var Ec=F.PredictorAdd0;F.PredictorAdd1=at,Fe("Predictor2","PredictorAdd2"),Fe("Predictor3","PredictorAdd3"),Fe("Predictor4","PredictorAdd4"),Fe("Predictor5","PredictorAdd5"),Fe("Predictor6","PredictorAdd6"),Fe("Predictor7","PredictorAdd7"),Fe("Predictor8","PredictorAdd8"),Fe("Predictor9","PredictorAdd9"),Fe("Predictor10","PredictorAdd10"),Fe("Predictor11","PredictorAdd11"),Fe("Predictor12","PredictorAdd12"),Fe("Predictor13","PredictorAdd13");var Hl=F.PredictorAdd2;Xe("ColorIndexInverseTransform","MapARGB","32b",function(c){return c>>8&255},function(c){return c}),Xe("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(c){return c},function(c){return c>>8&255});var Sr,pd=F.ColorIndexInverseTransform,ds=F.MapARGB,fs=F.VP8LColorIndexInverseTransformAlpha,jc=F.MapAlpha,Cc=F.VP8LPredictorsAdd=[];Cc.length=16,(F.VP8LPredictors=[]).length=16,(F.VP8LPredictorsAdd_C=[]).length=16,(F.VP8LPredictors_C=[]).length=16;var Lc,Pc,Oa,Ta,Ra,Ho,Ia,Vo,Ei,ps,Ut,Kt,kr,Ur,Vs,Oc,Vl,gd,Gv,Kv,Jv,Qv,Yv,Xv,Tc,Zv,e2,t2,r2=s(511),n2=s(2041),i2=s(225),s2=s(767),a2=0,p0=n2,md=i2,ii=s2,ji=r2,vd=0,yd=1,o2=2,wd=3,bd=4,g0=5,l2=6,m0=7,v0=8,xd=9,y0=10,OS=[2,3,7],TS=[3,3,11],u2=[280,256,256,256,40],RS=[0,1,1,1,0],IS=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],FS=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],DS=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],MS=8,w0=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],b0=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Rc=null,BS=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],US=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],c2=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],zS=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],$S=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],qS=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],WS=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Fa=[],zi=[],Gs=[],HS=1,h2=2,Da=[],Ci=[];qs("UpsampleRgbLinePair",ja,3),qs("UpsampleBgrLinePair",nn,3),qs("UpsampleRgbaLinePair",An,4),qs("UpsampleBgraLinePair",kc,4),qs("UpsampleArgbLinePair",Sc,4),qs("UpsampleRgba4444LinePair",$o,2),qs("UpsampleRgb565LinePair",zo,2);var VS=F.UpsampleRgbLinePair,GS=F.UpsampleBgrLinePair,d2=F.UpsampleRgbaLinePair,f2=F.UpsampleBgraLinePair,p2=F.UpsampleArgbLinePair,g2=F.UpsampleRgba4444LinePair,KS=F.UpsampleRgb565LinePair,_d=16,Sd=1<<_d-1,Ic=-227,x0=482,JS=6,m2=0,QS=s(256),YS=s(256),XS=s(256),ZS=s(256),ek=s(x0-Ic),tk=s(x0-Ic);Ws("YuvToRgbRow",ja,3),Ws("YuvToBgrRow",nn,3),Ws("YuvToRgbaRow",An,4),Ws("YuvToBgraRow",kc,4),Ws("YuvToArgbRow",Sc,4),Ws("YuvToRgba4444Row",$o,2),Ws("YuvToRgb565Row",zo,2);var v2=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],kd=[0,2,8],rk=[8,7,6,4,4,2,2,2,1,1,1,1],nk=1;this.WebPDecodeRGBA=function(c,f,y,_,j){var P=yd,O=new Se,T=new Nt;O.ba=T,T.S=P,T.width=[T.width],T.height=[T.height];var I=T.width,B=T.height,re=new it;if(re==null||c==null)var he=2;else e(re!=null),he=qo(c,f,y,re.width,re.height,re.Pd,re.Qd,re.format,null);if(he!=0?I=0:(I!=null&&(I[0]=re.width[0]),B!=null&&(B[0]=re.height[0]),I=1),I){T.width=T.width[0],T.height=T.height[0],_!=null&&(_[0]=T.width),j!=null&&(j[0]=T.height);e:{if(_=new cs,(j=new Ae).data=c,j.w=f,j.ha=y,j.kd=1,f=[0],e(j!=null),((c=qo(j.data,j.w,j.ha,null,null,null,f,null,j))==0||c==7)&&f[0]&&(c=4),(f=c)==0){if(e(O!=null),_.data=j.data,_.w=j.w+j.offset,_.ha=j.ha-j.offset,_.put=st,_.ac=_i,_.bc=kn,_.ma=O,j.xa){if((c=Ps())==null){O=1;break e}if(function(U,ie){var ue=[0],we=[0],ce=[0];t:for(;;){if(U==null)return 0;if(ie==null)return U.a=2,0;if(U.l=ie,U.a=0,se(U.m,ie.data,ie.w,ie.ha),!Si(U.m,ue,we,ce)){U.a=3;break t}if(U.xb=h2,ie.width=ue[0],ie.height=we[0],!ti(ue[0],we[0],1,U,null))break t;return 1}return e(U.a!=0),0}(c,_)){if(_=(f=Ca(_.width,_.height,O.Oa,O.ba))==0){t:{_=c;r:for(;;){if(_==null){_=0;break t}if(e(_.s.yc!=null),e(_.s.Ya!=null),e(0<_.s.Wb),e((y=_.l)!=null),e((j=y.ma)!=null),_.xb!=0){if(_.ca=j.ba,_.tb=j.tb,e(_.ca!=null),!Nc(j.Oa,y,wd)){_.a=2;break r}if(!Os(_,y.width)||y.da)break r;if((y.da||ot(_.ca.S))&&Ui(),11>_.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),_.ca.f.kb.F!=null&&Ui()),_.Pb&&0<_.s.ua&&_.s.vb.X==null&&!D(_.s.vb,_.s.Wa.Xa)){_.a=1;break r}_.xb=0}if(!Un(_,_.V,_.Ba,_.c,_.i,y.o,ls))break r;j.Dc=_.Ma,_=1;break t}e(_.a!=0),_=0}_=!_}_&&(f=c.a)}else f=c.a}else{if((c=new Ml)==null){O=1;break e}if(c.Fa=j.na,c.P=j.P,c.qc=j.Sa,ki(c,_)){if((f=Ca(_.width,_.height,O.Oa,O.ba))==0){if(c.Aa=0,y=O.Oa,e((j=c)!=null),y!=null){if(0<(I=0>(I=y.Md)?0:100<I?255:255*I/100)){for(B=re=0;4>B;++B)12>(he=j.pb[B]).lc&&(he.ia=I*rk[0>he.lc?0:he.lc]>>3),re|=he.ia;re&&(alert("todo:VP8InitRandom"),j.ia=1)}j.Ga=y.Id,100<j.Ga?j.Ga=100:0>j.Ga&&(j.Ga=0)}(function(U,ie){if(U==null)return 0;if(ie==null)return Lt(U,2,"NULL VP8Io parameter in VP8Decode().");if(!U.cb&&!ki(U,ie))return 0;if(e(U.cb),ie.ac==null||ie.ac(ie)){ie.ob&&(U.L=0);var ue=kd[U.L];if(U.L==2?(U.yb=0,U.zb=0):(U.yb=ie.v-ue>>4,U.zb=ie.j-ue>>4,0>U.yb&&(U.yb=0),0>U.zb&&(U.zb=0)),U.Va=ie.o+15+ue>>4,U.Hb=ie.va+15+ue>>4,U.Hb>U.za&&(U.Hb=U.za),U.Va>U.Ub&&(U.Va=U.Ub),0<U.L){var we=U.ed;for(ue=0;4>ue;++ue){var ce;if(U.Qa.Cb){var xe=U.Qa.Lb[ue];U.Qa.Fb||(xe+=we.Tb)}else xe=we.Tb;for(ce=0;1>=ce;++ce){var ke=U.gd[ue][ce],Ce=xe;if(we.Pc&&(Ce+=we.vd[0],ce&&(Ce+=we.od[0])),0<(Ce=0>Ce?0:63<Ce?63:Ce)){var Ee=Ce;0<we.wb&&(Ee=4<we.wb?Ee>>2:Ee>>1)>9-we.wb&&(Ee=9-we.wb),1>Ee&&(Ee=1),ke.dd=Ee,ke.tc=2*Ce+Ee,ke.ld=40<=Ce?2:15<=Ce?1:0}else ke.tc=0;ke.La=ce}}}ue=0}else Lt(U,6,"Frame setup failed"),ue=U.a;if(ue=ue==0){if(ue){U.$c=0,0<U.Aa||(U.Ic=nk);t:{ue=U.Ic,we=4*(Ee=U.za);var Ze=32*Ee,Be=Ee+1,_t=0<U.L?Ee*(0<U.Aa?2:1):0,Ge=(U.Aa==2?2:1)*Ee;if((ke=we+832+(ce=3*(16*ue+kd[U.L])/2*Ze)+(xe=U.Fa!=null&&0<U.Fa.length?U.Kc.c*U.Kc.i:0))!=ke)ue=0;else{if(ke>U.Vb){if(U.Vb=0,U.Ec=s(ke),U.Fc=0,U.Ec==null){ue=Lt(U,1,"no memory during frame initialization.");break t}U.Vb=ke}ke=U.Ec,Ce=U.Fc,U.Ac=ke,U.Bc=Ce,Ce+=we,U.Gd=a(Ze,Ts),U.Hd=0,U.rb=a(Be+1,Or),U.sb=1,U.wa=_t?a(_t,Bt):null,U.Y=0,U.D.Nb=0,U.D.wa=U.wa,U.D.Y=U.Y,0<U.Aa&&(U.D.Y+=Ee),e(!0),U.oc=ke,U.pc=Ce,Ce+=832,U.ya=a(Ge,Nn),U.aa=0,U.D.ya=U.ya,U.D.aa=U.aa,U.Aa==2&&(U.D.aa+=Ee),U.R=16*Ee,U.B=8*Ee,Ee=(Ze=kd[U.L])*U.R,Ze=Ze/2*U.B,U.sa=ke,U.ta=Ce+Ee,U.qa=U.sa,U.ra=U.ta+16*ue*U.R+Ze,U.Ha=U.qa,U.Ia=U.ra+8*ue*U.B+Ze,U.$c=0,Ce+=ce,U.mb=xe?ke:null,U.nb=xe?Ce:null,e(Ce+xe<=U.Fc+U.Vb),pn(U),i(U.Ac,U.Bc,0,we),ue=1}}if(ue){if(ie.ka=0,ie.y=U.sa,ie.O=U.ta,ie.f=U.qa,ie.N=U.ra,ie.ea=U.Ha,ie.Vd=U.Ia,ie.fa=U.R,ie.Rc=U.B,ie.F=null,ie.J=0,!a2){for(ue=-255;255>=ue;++ue)r2[255+ue]=0>ue?-ue:ue;for(ue=-1020;1020>=ue;++ue)n2[1020+ue]=-128>ue?-128:127<ue?127:ue;for(ue=-112;112>=ue;++ue)i2[112+ue]=-16>ue?-16:15<ue?15:ue;for(ue=-255;510>=ue;++ue)s2[255+ue]=0>ue?0:255<ue?255:ue;a2=1}Ia=Ul,Vo=t0,ps=hs,Ut=sd,Kt=ad,Ei=e0,kr=hd,Ur=Mo,Vs=E,Oc=z,Vl=dd,gd=m,Gv=Z,Kv=oe,Jv=Do,Qv=xc,Yv=ud,Xv=cd,zi[0]=u0,zi[1]=r0,zi[2]=o0,zi[3]=l0,zi[4]=Fs,zi[5]=c0,zi[6]=Ds,zi[7]=h0,zi[8]=mc,zi[9]=zl,Fa[0]=s0,Fa[1]=i0,Fa[2]=pc,Fa[3]=od,Fa[4]=Io,Fa[5]=gc,Fa[6]=a0,Gs[0]=f0,Gs[1]=n0,Gs[2]=Fo,Gs[3]=d0,Gs[4]=yc,Gs[5]=vc,Gs[6]=ld,ue=1}else ue=0}ue&&(ue=function(Pt,zr){for(Pt.M=0;Pt.M<Pt.Va;++Pt.M){var St,Ke=Pt.Jc[Pt.M&Pt.Xb],Ie=Pt.m,Nr=Pt;for(St=0;St<Nr.za;++St){var wt=Ie,Tt=Nr,nr=Tt.Ac,sn=Tt.Bc+4*St,En=Tt.zc,vr=Tt.ya[Tt.aa+St];if(Tt.Qa.Bb?vr.$b=_e(wt,Tt.Pa.jb[0])?2+_e(wt,Tt.Pa.jb[2]):_e(wt,Tt.Pa.jb[1]):vr.$b=0,Tt.kc&&(vr.Ad=_e(wt,Tt.Bd)),vr.Za=!_e(wt,145)+0,vr.Za){var gn=vr.Ob,jn=0;for(Tt=0;4>Tt;++Tt){var $r,It=En[0+Tt];for($r=0;4>$r;++$r){It=$S[nr[sn+$r]][It];for(var $t=c2[_e(wt,It[0])];0<$t;)$t=c2[2*$t+_e(wt,It[$t])];It=-$t,nr[sn+$r]=It}n(gn,jn,nr,sn,4),jn+=4,En[0+Tt]=It}}else It=_e(wt,156)?_e(wt,128)?1:3:_e(wt,163)?2:0,vr.Ob[0]=It,i(nr,sn,It,4),i(En,0,It,4);vr.Dd=_e(wt,142)?_e(wt,114)?_e(wt,183)?1:3:2:0}if(Nr.m.Ka)return Lt(Pt,7,"Premature end-of-partition0 encountered.");for(;Pt.ja<Pt.za;++Pt.ja){if(Nr=Ke,wt=(Ie=Pt).rb[Ie.sb-1],nr=Ie.rb[Ie.sb+Ie.ja],St=Ie.ya[Ie.aa+Ie.ja],sn=Ie.kc?St.Ad:0)wt.la=nr.la=0,St.Za||(wt.Na=nr.Na=0),St.Hc=0,St.Gc=0,St.ia=0;else{var yr,qt;if(wt=nr,nr=Nr,sn=Ie.Pa.Xc,En=Ie.ya[Ie.aa+Ie.ja],vr=Ie.pb[En.$b],Tt=En.ad,gn=0,jn=Ie.rb[Ie.sb-1],It=$r=0,i(Tt,gn,0,384),En.Za)var an=0,$i=sn[3];else{$t=s(16);var Ar=wt.Na+jn.Na;if(Ar=Rc(nr,sn[1],Ar,vr.Eb,0,$t,0),wt.Na=jn.Na=(0<Ar)+0,1<Ar)Ia($t,0,Tt,gn);else{var $n=$t[0]+3>>3;for($t=0;256>$t;$t+=16)Tt[gn+$t]=$n}an=1,$i=sn[0]}var Jt=15&wt.la,qr=15&jn.la;for($t=0;4>$t;++$t){var si=1&qr;for($n=qt=0;4>$n;++$n)Jt=Jt>>1|(si=(Ar=Rc(nr,$i,Ar=si+(1&Jt),vr.Sc,an,Tt,gn))>an)<<7,qt=qt<<2|(3<Ar?3:1<Ar?2:Tt[gn+0]!=0),gn+=16;Jt>>=4,qr=qr>>1|si<<7,$r=($r<<8|qt)>>>0}for($i=Jt,an=qr>>4,yr=0;4>yr;yr+=2){for(qt=0,Jt=wt.la>>4+yr,qr=jn.la>>4+yr,$t=0;2>$t;++$t){for(si=1&qr,$n=0;2>$n;++$n)Ar=si+(1&Jt),Jt=Jt>>1|(si=0<(Ar=Rc(nr,sn[2],Ar,vr.Qc,0,Tt,gn)))<<3,qt=qt<<2|(3<Ar?3:1<Ar?2:Tt[gn+0]!=0),gn+=16;Jt>>=2,qr=qr>>1|si<<5}It|=qt<<4*yr,$i|=Jt<<4<<yr,an|=(240&qr)<<yr}wt.la=$i,jn.la=an,En.Hc=$r,En.Gc=It,En.ia=43690&It?0:vr.ia,sn=!($r|It)}if(0<Ie.L&&(Ie.wa[Ie.Y+Ie.ja]=Ie.gd[St.$b][St.Za],Ie.wa[Ie.Y+Ie.ja].La|=!sn),Nr.Ka)return Lt(Pt,7,"Premature end-of-file encountered.")}if(pn(Pt),Ie=zr,Nr=1,St=(Ke=Pt).D,wt=0<Ke.L&&Ke.M>=Ke.zb&&Ke.M<=Ke.Va,Ke.Aa==0)t:{if(St.M=Ke.M,St.uc=wt,Ai(Ke,St),Nr=1,St=(qt=Ke.D).Nb,wt=(It=kd[Ke.L])*Ke.R,nr=It/2*Ke.B,$t=16*St*Ke.R,$n=8*St*Ke.B,sn=Ke.sa,En=Ke.ta-wt+$t,vr=Ke.qa,Tt=Ke.ra-nr+$n,gn=Ke.Ha,jn=Ke.Ia-nr+$n,qr=(Jt=qt.M)==0,$r=Jt>=Ke.Va-1,Ke.Aa==2&&Ai(Ke,qt),qt.uc)for(si=(Ar=Ke).D.M,e(Ar.D.uc),qt=Ar.yb;qt<Ar.Hb;++qt){an=qt,$i=si;var Cn=(ai=(on=Ar).D).Nb;yr=on.R;var ai=ai.wa[ai.Y+an],oi=on.sa,qn=on.ta+16*Cn*yr+16*an,li=ai.dd,er=ai.tc;if(er!=0)if(e(3<=er),on.L==1)0<an&&Qv(oi,qn,yr,er+4),ai.La&&Xv(oi,qn,yr,er),0<$i&&Jv(oi,qn,yr,er+4),ai.La&&Yv(oi,qn,yr,er);else{var ui=on.B,qi=on.qa,Go=on.ra+8*Cn*ui+8*an,Ks=on.Ha,on=on.Ia+8*Cn*ui+8*an;Cn=ai.ld,0<an&&(Ur(oi,qn,yr,er+4,li,Cn),Oc(qi,Go,Ks,on,ui,er+4,li,Cn)),ai.La&&(gd(oi,qn,yr,er,li,Cn),Kv(qi,Go,Ks,on,ui,er,li,Cn)),0<$i&&(kr(oi,qn,yr,er+4,li,Cn),Vs(qi,Go,Ks,on,ui,er+4,li,Cn)),ai.La&&(Vl(oi,qn,yr,er,li,Cn),Gv(qi,Go,Ks,on,ui,er,li,Cn))}}if(Ke.ia&&alert("todo:DitherRow"),Ie.put!=null){if(qt=16*Jt,Jt=16*(Jt+1),qr?(Ie.y=Ke.sa,Ie.O=Ke.ta+$t,Ie.f=Ke.qa,Ie.N=Ke.ra+$n,Ie.ea=Ke.Ha,Ie.W=Ke.Ia+$n):(qt-=It,Ie.y=sn,Ie.O=En,Ie.f=vr,Ie.N=Tt,Ie.ea=gn,Ie.W=jn),$r||(Jt-=It),Jt>Ie.o&&(Jt=Ie.o),Ie.F=null,Ie.J=null,Ke.Fa!=null&&0<Ke.Fa.length&&qt<Jt&&(Ie.J=Zt(Ke,Ie,qt,Jt-qt),Ie.F=Ke.mb,Ie.F==null&&Ie.F.length==0)){Nr=Lt(Ke,3,"Could not decode alpha data.");break t}qt<Ie.j&&(It=Ie.j-qt,qt=Ie.j,e(!(1&It)),Ie.O+=Ke.R*It,Ie.N+=Ke.B*(It>>1),Ie.W+=Ke.B*(It>>1),Ie.F!=null&&(Ie.J+=Ie.width*It)),qt<Jt&&(Ie.O+=Ie.v,Ie.N+=Ie.v>>1,Ie.W+=Ie.v>>1,Ie.F!=null&&(Ie.J+=Ie.v),Ie.ka=qt-Ie.j,Ie.U=Ie.va-Ie.v,Ie.T=Jt-qt,Nr=Ie.put(Ie))}St+1!=Ke.Ic||$r||(n(Ke.sa,Ke.ta-wt,sn,En+16*Ke.R,wt),n(Ke.qa,Ke.ra-nr,vr,Tt+8*Ke.B,nr),n(Ke.Ha,Ke.Ia-nr,gn,jn+8*Ke.B,nr))}if(!Nr)return Lt(Pt,6,"Output aborted.")}return 1}(U,ie)),ie.bc!=null&&ie.bc(ie),ue&=1}return ue?(U.cb=0,ue):0})(c,_)||(f=c.a)}}else f=c.a}f==0&&O.Oa!=null&&O.Oa.fd&&(f=Ac(O.ba))}O=f}P=O!=0?null:11>P?T.f.RGBA.eb:T.f.kb.y}else P=null;return P};var y2=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(F,V){for(var L="",R=0;R<4;R++)L+=String.fromCharCode(F[V++]);return L}function h(F,V){return F[V+0]|F[V+1]<<8}function p(F,V){return(F[V+0]|F[V+1]<<8|F[V+2]<<16)>>>0}function g(F,V){return(F[V+0]|F[V+1]<<8|F[V+2]<<16|F[V+3]<<24)>>>0}new l;var d=[0],b=[0],x=[],N=new l,w=t,S=function(F,V){var L={},R=0,K=!1,J=0,de=0;if(L.frames=[],!function(C,W){for(var H=0;H<4;H++)if(C[W+H]!="RIFF".charCodeAt(H))return!0;return!1}(F,V)){for(g(F,V+=4),V+=8;V<F.length;){var me=u(F,V),pe=g(F,V+=4);V+=4;var Q=pe+(1&pe);switch(me){case"VP8 ":case"VP8L":L.frames[R]===void 0&&(L.frames[R]={}),(ge=L.frames[R]).src_off=K?de:V-8,ge.src_size=J+pe+8,R++,K&&(K=!1,J=0,de=0);break;case"VP8X":(ge=L.header={}).feature_flags=F[V];var se=V+4;ge.canvas_width=1+p(F,se),se+=3,ge.canvas_height=1+p(F,se),se+=3;break;case"ALPH":K=!0,J=Q+8,de=V-8;break;case"ANIM":(ge=L.header).bgcolor=g(F,V),se=V+4,ge.loop_count=h(F,se),se+=2;break;case"ANMF":var fe,ge;(ge=L.frames[R]={}).offset_x=2*p(F,V),V+=3,ge.offset_y=2*p(F,V),V+=3,ge.width=1+p(F,V),V+=3,ge.height=1+p(F,V),V+=3,ge.duration=p(F,V),V+=3,fe=F[V++],ge.dispose=1&fe,ge.blend=fe>>1&1}me!="ANMF"&&(V+=Q)}return L}}(w,0);S.response=w,S.rgbaoutput=!0,S.dataurl=!1;var k=S.header?S.header:null,A=S.frames?S.frames:null;if(k){k.loop_counter=k.loop_count,d=[k.canvas_height],b=[k.canvas_width];for(var q=0;q<A.length&&A[q].blend!=0;q++);}var Y=A[0],$=N.WebPDecodeRGBA(w,Y.src_off,Y.src_size,b,d);Y.rgba=$,Y.imgwidth=b[0],Y.imgheight=d[0];for(var M=0;M<b[0]*d[0]*4;M++)x[M]=$[M];return this.width=b,this.height=d,this.data=x,this}(function(t){var e,r,n,i,s,a,o,l,u,h=function(C){return C=C||{},this.isStrokeTransparent=C.isStrokeTransparent||!1,this.strokeOpacity=C.strokeOpacity||1,this.strokeStyle=C.strokeStyle||"#000000",this.fillStyle=C.fillStyle||"#000000",this.isFillTransparent=C.isFillTransparent||!1,this.fillOpacity=C.fillOpacity||1,this.font=C.font||"10px sans-serif",this.textBaseline=C.textBaseline||"alphabetic",this.textAlign=C.textAlign||"left",this.lineWidth=C.lineWidth||1,this.lineJoin=C.lineJoin||"miter",this.lineCap=C.lineCap||"butt",this.path=C.path||[],this.transform=C.transform!==void 0?C.transform.clone():new l,this.globalCompositeOperation=C.globalCompositeOperation||"normal",this.globalAlpha=C.globalAlpha||1,this.clip_path=C.clip_path||[],this.currentPoint=C.currentPoint||new a,this.miterLimit=C.miterLimit||10,this.lastPoint=C.lastPoint||new a,this.lineDashOffset=C.lineDashOffset||0,this.lineDash=C.lineDash||[],this.margin=C.margin||[0,0,0,0],this.prevPageLastElemOffset=C.prevPageLastElemOffset||0,this.ignoreClearRect=typeof C.ignoreClearRect!="boolean"||C.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new p(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,u=new h}]);var p=function(C){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var W=C;Object.defineProperty(this,"pdf",{get:function(){return W}});var H=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return H},set:function(D){H=!!D}});var ee=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ee},set:function(D){ee=!!D}});var te=0;Object.defineProperty(this,"posX",{get:function(){return te},set:function(D){isNaN(D)||(te=D)}});var ae=0;Object.defineProperty(this,"posY",{get:function(){return ae},set:function(D){isNaN(D)||(ae=D)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(D){var G;typeof D=="number"?G=[D,D,D,D]:((G=new Array(4))[0]=D[0],G[1]=D.length>=2?D[1]:G[0],G[2]=D.length>=3?D[2]:G[0],G[3]=D.length>=4?D[3]:G[1]),u.margin=G}});var ye=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ye},set:function(D){ye=D}});var ve=0;Object.defineProperty(this,"lastBreak",{get:function(){return ve},set:function(D){ve=D}});var _e=[];Object.defineProperty(this,"pageBreaks",{get:function(){return _e},set:function(D){_e=D}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(D){D instanceof h&&(u=D)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(D){u.path=D}});var je=[];Object.defineProperty(this,"ctxStack",{get:function(){return je},set:function(D){je=D}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(D){var G;G=g(D),this.ctx.fillStyle=G.style,this.ctx.isFillTransparent=G.a===0,this.ctx.fillOpacity=G.a,this.pdf.setFillColor(G.r,G.g,G.b,{a:G.a}),this.pdf.setTextColor(G.r,G.g,G.b,{a:G.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(D){var G=g(D);this.ctx.strokeStyle=G.style,this.ctx.isStrokeTransparent=G.a===0,this.ctx.strokeOpacity=G.a,G.a===0?this.pdf.setDrawColor(255,255,255):(G.a,this.pdf.setDrawColor(G.r,G.g,G.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(D){["butt","round","square"].indexOf(D)!==-1&&(this.ctx.lineCap=D,this.pdf.setLineCap(D))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(D){isNaN(D)||(this.ctx.lineWidth=D,this.pdf.setLineWidth(D))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(D){["bevel","round","miter"].indexOf(D)!==-1&&(this.ctx.lineJoin=D,this.pdf.setLineJoin(D))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(D){isNaN(D)||(this.ctx.miterLimit=D,this.pdf.setMiterLimit(D))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(D){this.ctx.textBaseline=D}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(D){["right","end","center","left","start"].indexOf(D)!==-1&&(this.ctx.textAlign=D)}});var Te=null,Re=null,He=null;Object.defineProperty(this,"fontFaces",{get:function(){return He},set:function(D){Te=null,Re=null,He=D}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(D){var G;if(this.ctx.font=D,(G=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(D))!==null){var Ne=G[1];G[2];var Pe=G[3],be=G[4];G[5];var Je=G[6],Fe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(be)[2];be=Math.floor(Fe==="px"?parseFloat(be)*this.pdf.internal.scaleFactor:Fe==="em"?parseFloat(be)*this.pdf.getFontSize():parseFloat(be)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(be);var Qe=function(Xe){var lr,Et,yt=[],mt=Xe.trim();if(mt==="")return Rg;if(mt in Mw)return[Mw[mt]];for(;mt!=="";){switch(Et=null,lr=(mt=Uw(mt)).charAt(0)){case'"':case"'":Et=vO(mt.substring(1),lr);break;default:Et=yO(mt)}if(Et===null||(yt.push(Et[0]),(mt=Uw(Et[1]))!==""&&mt.charAt(0)!==","))return Rg;mt=mt.replace(/^,/,"")}return yt}(Je);if(this.fontFaces){var Ve=function(Xe,lr){var Et=Xe.getFontList(),yt=JSON.stringify(Et);if(Te===null||Re!==yt){var mt=function(Gt){var rt=[];return Object.keys(Gt).forEach(function(Mt){Gt[Mt].forEach(function(ot){var ut=null;switch(ot){case"bold":ut={family:Mt,weight:"bold"};break;case"italic":ut={family:Mt,style:"italic"};break;case"bolditalic":ut={family:Mt,weight:"bold",style:"italic"};break;case"":case"normal":ut={family:Mt}}ut!==null&&(ut.ref={name:Mt,style:ot},rt.push(ut))})}),rt}(Et);Te=function(Gt){for(var rt={},Mt=0;Mt<Gt.length;++Mt){var ot=Tg(Gt[Mt]),ut=ot.family,Yt=ot.stretch,Nt=ot.style,it=ot.weight;rt[ut]=rt[ut]||{},rt[ut][Yt]=rt[ut][Yt]||{},rt[ut][Yt][Nt]=rt[ut][Yt][Nt]||{},rt[ut][Yt][Nt][it]=ot}return rt}(mt.concat(lr)),Re=yt}return Te}(this.pdf,this.fontFaces),Ct=Qe.map(function(Xe){return{family:Xe,stretch:"normal",weight:Pe,style:Ne}}),ft=function(Xe,lr,Et){for(var yt=(Et=Et||{}).defaultFontFamily||"times",mt=Object.assign({},mO,Et.genericFontFamilies||{}),Gt=null,rt=null,Mt=0;Mt<lr.length;++Mt)if(mt[(Gt=Tg(lr[Mt])).family]&&(Gt.family=mt[Gt.family]),Xe.hasOwnProperty(Gt.family)){rt=Xe[Gt.family];break}if(!(rt=rt||Xe[yt]))throw new Error("Could not find a font-family for the rule '"+Bw(Gt)+"' and default family '"+yt+"'.");if(rt=function(ot,ut){if(ut[ot])return ut[ot];var Yt=A1[ot],Nt=Yt<=A1.normal?-1:1,it=Dw(ut,dS,Yt,Nt);if(!it)throw new Error("Could not find a matching font-stretch value for "+ot);return it}(Gt.stretch,rt),rt=function(ot,ut){if(ut[ot])return ut[ot];for(var Yt=hS[ot],Nt=0;Nt<Yt.length;++Nt)if(ut[Yt[Nt]])return ut[Yt[Nt]];throw new Error("Could not find a matching font-style for "+ot)}(Gt.style,rt),!(rt=function(ot,ut){if(ut[ot])return ut[ot];if(ot===400&&ut[500])return ut[500];if(ot===500&&ut[400])return ut[400];var Yt=gO[ot],Nt=Dw(ut,fS,Yt,ot<400?-1:1);if(!Nt)throw new Error("Could not find a matching font-weight for value "+ot);return Nt}(Gt.weight,rt)))throw new Error("Failed to resolve a font for the rule '"+Bw(Gt)+"'.");return rt}(Ve,Ct);this.pdf.setFont(ft.ref.name,ft.ref.style)}else{var qe="";(Pe==="bold"||parseInt(Pe,10)>=700||Ne==="bold")&&(qe="bold"),Ne==="italic"&&(qe+="italic"),qe.length===0&&(qe="normal");for(var at="",xt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ze=0;ze<Qe.length;ze++){if(this.pdf.internal.getFont(Qe[ze],qe,{noFallback:!0,disableWarning:!0})!==void 0){at=Qe[ze];break}if(qe==="bolditalic"&&this.pdf.internal.getFont(Qe[ze],"bold",{noFallback:!0,disableWarning:!0})!==void 0)at=Qe[ze],qe="bold";else if(this.pdf.internal.getFont(Qe[ze],"normal",{noFallback:!0,disableWarning:!0})!==void 0){at=Qe[ze],qe="normal";break}}if(at===""){for(var ht=0;ht<Qe.length;ht++)if(xt[Qe[ht]]){at=xt[Qe[ht]];break}}at=at===""?"Times":at,this.pdf.setFont(at,qe)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(D){this.ctx.globalCompositeOperation=D}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(D){this.ctx.globalAlpha=D}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(D){this.ctx.lineDashOffset=D,ge.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(D){this.ctx.lineDash=D,ge.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(D){this.ctx.ignoreClearRect=!!D}})};p.prototype.setLineDash=function(C){this.lineDash=C},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){A.call(this,"fill",!1)},p.prototype.stroke=function(){A.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(C,W){if(isNaN(C)||isNaN(W))throw Qt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var H=this.ctx.transform.applyToPoint(new a(C,W));this.path.push({type:"mt",x:H.x,y:H.y}),this.ctx.lastPoint=new a(C,W)},p.prototype.closePath=function(){var C=new a(0,0),W=0;for(W=this.path.length-1;W!==-1;W--)if(this.path[W].type==="begin"&&Ht(this.path[W+1])==="object"&&typeof this.path[W+1].x=="number"){C=new a(this.path[W+1].x,this.path[W+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(C.x,C.y)},p.prototype.lineTo=function(C,W){if(isNaN(C)||isNaN(W))throw Qt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var H=this.ctx.transform.applyToPoint(new a(C,W));this.path.push({type:"lt",x:H.x,y:H.y}),this.ctx.lastPoint=new a(H.x,H.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),A.call(this,null,!0)},p.prototype.quadraticCurveTo=function(C,W,H,ee){if(isNaN(H)||isNaN(ee)||isNaN(C)||isNaN(W))throw Qt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var te=this.ctx.transform.applyToPoint(new a(H,ee)),ae=this.ctx.transform.applyToPoint(new a(C,W));this.path.push({type:"qct",x1:ae.x,y1:ae.y,x:te.x,y:te.y}),this.ctx.lastPoint=new a(te.x,te.y)},p.prototype.bezierCurveTo=function(C,W,H,ee,te,ae){if(isNaN(te)||isNaN(ae)||isNaN(C)||isNaN(W)||isNaN(H)||isNaN(ee))throw Qt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ye=this.ctx.transform.applyToPoint(new a(te,ae)),ve=this.ctx.transform.applyToPoint(new a(C,W)),_e=this.ctx.transform.applyToPoint(new a(H,ee));this.path.push({type:"bct",x1:ve.x,y1:ve.y,x2:_e.x,y2:_e.y,x:ye.x,y:ye.y}),this.ctx.lastPoint=new a(ye.x,ye.y)},p.prototype.arc=function(C,W,H,ee,te,ae){if(isNaN(C)||isNaN(W)||isNaN(H)||isNaN(ee)||isNaN(te))throw Qt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ae=!!ae,!this.ctx.transform.isIdentity){var ye=this.ctx.transform.applyToPoint(new a(C,W));C=ye.x,W=ye.y;var ve=this.ctx.transform.applyToPoint(new a(0,H)),_e=this.ctx.transform.applyToPoint(new a(0,0));H=Math.sqrt(Math.pow(ve.x-_e.x,2)+Math.pow(ve.y-_e.y,2))}Math.abs(te-ee)>=2*Math.PI&&(ee=0,te=2*Math.PI),this.path.push({type:"arc",x:C,y:W,radius:H,startAngle:ee,endAngle:te,counterclockwise:ae})},p.prototype.arcTo=function(C,W,H,ee,te){throw new Error("arcTo not implemented.")},p.prototype.rect=function(C,W,H,ee){if(isNaN(C)||isNaN(W)||isNaN(H)||isNaN(ee))throw Qt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(C,W),this.lineTo(C+H,W),this.lineTo(C+H,W+ee),this.lineTo(C,W+ee),this.lineTo(C,W),this.lineTo(C+H,W),this.lineTo(C,W)},p.prototype.fillRect=function(C,W,H,ee){if(isNaN(C)||isNaN(W)||isNaN(H)||isNaN(ee))throw Qt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!d.call(this)){var te={};this.lineCap!=="butt"&&(te.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(te.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(C,W,H,ee),this.fill(),te.hasOwnProperty("lineCap")&&(this.lineCap=te.lineCap),te.hasOwnProperty("lineJoin")&&(this.lineJoin=te.lineJoin)}},p.prototype.strokeRect=function(C,W,H,ee){if(isNaN(C)||isNaN(W)||isNaN(H)||isNaN(ee))throw Qt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");b.call(this)||(this.beginPath(),this.rect(C,W,H,ee),this.stroke())},p.prototype.clearRect=function(C,W,H,ee){if(isNaN(C)||isNaN(W)||isNaN(H)||isNaN(ee))throw Qt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(C,W,H,ee))},p.prototype.save=function(C){C=typeof C!="boolean"||C;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,H=0;H<this.pdf.internal.getNumberOfPages();H++)this.pdf.setPage(H+1),this.pdf.internal.out("q");if(this.pdf.setPage(W),C){this.ctx.fontSize=this.pdf.internal.getFontSize();var ee=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ee}},p.prototype.restore=function(C){C=typeof C!="boolean"||C;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,H=0;H<this.pdf.internal.getNumberOfPages();H++)this.pdf.setPage(H+1),this.pdf.internal.out("Q");this.pdf.setPage(W),C&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(C){var W,H,ee,te;if(C.isCanvasGradient===!0&&(C=C.getColor()),!C)return{r:0,g:0,b:0,a:0,style:C};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(C))W=0,H=0,ee=0,te=0;else{var ae=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(C);if(ae!==null)W=parseInt(ae[1]),H=parseInt(ae[2]),ee=parseInt(ae[3]),te=1;else if((ae=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(C))!==null)W=parseInt(ae[1]),H=parseInt(ae[2]),ee=parseInt(ae[3]),te=parseFloat(ae[4]);else{if(te=1,typeof C=="string"&&C.charAt(0)!=="#"){var ye=new iS(C);C=ye.ok?ye.toHex():"#000000"}C.length===4?(W=C.substring(1,2),W+=W,H=C.substring(2,3),H+=H,ee=C.substring(3,4),ee+=ee):(W=C.substring(1,3),H=C.substring(3,5),ee=C.substring(5,7)),W=parseInt(W,16),H=parseInt(H,16),ee=parseInt(ee,16)}}return{r:W,g:H,b:ee,a:te,style:C}},d=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},b=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(C,W,H,ee){if(isNaN(W)||isNaN(H)||typeof C!="string")throw Qt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ee=isNaN(ee)?void 0:ee,!d.call(this)){var te=Q(this.ctx.transform.rotation),ae=this.ctx.transform.scaleX;R.call(this,{text:C,x:W,y:H,scale:ae,angle:te,align:this.textAlign,maxWidth:ee})}},p.prototype.strokeText=function(C,W,H,ee){if(isNaN(W)||isNaN(H)||typeof C!="string")throw Qt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!b.call(this)){ee=isNaN(ee)?void 0:ee;var te=Q(this.ctx.transform.rotation),ae=this.ctx.transform.scaleX;R.call(this,{text:C,x:W,y:H,scale:ae,renderingMode:"stroke",angle:te,align:this.textAlign,maxWidth:ee})}},p.prototype.measureText=function(C){if(typeof C!="string")throw Qt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var W=this.pdf,H=this.pdf.internal.scaleFactor,ee=W.internal.getFontSize(),te=W.getStringUnitWidth(C)*ee/W.internal.scaleFactor;return new function(ae){var ye=(ae=ae||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ye}}),this}({width:te*=Math.round(96*H/72*1e4)/1e4})},p.prototype.scale=function(C,W){if(isNaN(C)||isNaN(W))throw Qt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var H=new l(C,0,0,W,0,0);this.ctx.transform=this.ctx.transform.multiply(H)},p.prototype.rotate=function(C){if(isNaN(C))throw Qt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var W=new l(Math.cos(C),Math.sin(C),-Math.sin(C),Math.cos(C),0,0);this.ctx.transform=this.ctx.transform.multiply(W)},p.prototype.translate=function(C,W){if(isNaN(C)||isNaN(W))throw Qt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var H=new l(1,0,0,1,C,W);this.ctx.transform=this.ctx.transform.multiply(H)},p.prototype.transform=function(C,W,H,ee,te,ae){if(isNaN(C)||isNaN(W)||isNaN(H)||isNaN(ee)||isNaN(te)||isNaN(ae))throw Qt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ye=new l(C,W,H,ee,te,ae);this.ctx.transform=this.ctx.transform.multiply(ye)},p.prototype.setTransform=function(C,W,H,ee,te,ae){C=isNaN(C)?1:C,W=isNaN(W)?0:W,H=isNaN(H)?0:H,ee=isNaN(ee)?1:ee,te=isNaN(te)?0:te,ae=isNaN(ae)?0:ae,this.ctx.transform=new l(C,W,H,ee,te,ae)};var x=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(C,W,H,ee,te,ae,ye,ve,_e){var je=this.pdf.getImageProperties(C),Te=1,Re=1,He=1,D=1;ee!==void 0&&ve!==void 0&&(He=ve/ee,D=_e/te,Te=je.width/ee*ve/ee,Re=je.height/te*_e/te),ae===void 0&&(ae=W,ye=H,W=0,H=0),ee!==void 0&&ve===void 0&&(ve=ee,_e=te),ee===void 0&&ve===void 0&&(ve=je.width,_e=je.height);var G=this.ctx.transform.decompose(),Ne=Q(G.rotate.shx),Pe=new l,be=(Pe=(Pe=(Pe=Pe.multiply(G.translate)).multiply(G.skew)).multiply(G.scale)).applyToRectangle(new o(ae-W*He,ye-H*D,ee*Te,te*Re));if(this.autoPaging){for(var Je,Fe=N.call(this,be),Qe=[],Ve=0;Ve<Fe.length;Ve+=1)Qe.indexOf(Fe[Ve])===-1&&Qe.push(Fe[Ve]);k(Qe);for(var Ct=Qe[0],ft=Qe[Qe.length-1],qe=Ct;qe<ft+1;qe++){this.pdf.setPage(qe);var at=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],xt=qe===1?this.posY+this.margin[0]:this.margin[0],ze=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ht=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Xe=qe===1?0:ze+(qe-2)*ht;if(this.ctx.clip_path.length!==0){var lr=this.path;Je=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(Je,this.posX+this.margin[3],-Xe+xt+this.ctx.prevPageLastElemOffset),q.call(this,"fill",!0),this.path=lr}var Et=JSON.parse(JSON.stringify(be));Et=S([Et],this.posX+this.margin[3],-Xe+xt+this.ctx.prevPageLastElemOffset)[0];var yt=(qe>Ct||qe<ft)&&x.call(this);yt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],at,ht,null).clip().discardPath()),this.pdf.addImage(C,"JPEG",Et.x,Et.y,Et.w,Et.h,null,null,Ne),yt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(C,"JPEG",be.x,be.y,be.w,be.h,null,null,Ne)};var N=function(C,W,H){var ee=[];W=W||this.pdf.internal.pageSize.width,H=H||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var te=this.posY+this.ctx.prevPageLastElemOffset;switch(C.type){default:case"mt":case"lt":ee.push(Math.floor((C.y+te)/H)+1);break;case"arc":ee.push(Math.floor((C.y+te-C.radius)/H)+1),ee.push(Math.floor((C.y+te+C.radius)/H)+1);break;case"qct":var ae=se(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x,C.y);ee.push(Math.floor((ae.y+te)/H)+1),ee.push(Math.floor((ae.y+ae.h+te)/H)+1);break;case"bct":var ye=fe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x2,C.y2,C.x,C.y);ee.push(Math.floor((ye.y+te)/H)+1),ee.push(Math.floor((ye.y+ye.h+te)/H)+1);break;case"rect":ee.push(Math.floor((C.y+te)/H)+1),ee.push(Math.floor((C.y+C.h+te)/H)+1)}for(var ve=0;ve<ee.length;ve+=1)for(;this.pdf.internal.getNumberOfPages()<ee[ve];)w.call(this);return ee},w=function(){var C=this.fillStyle,W=this.strokeStyle,H=this.font,ee=this.lineCap,te=this.lineWidth,ae=this.lineJoin;this.pdf.addPage(),this.fillStyle=C,this.strokeStyle=W,this.font=H,this.lineCap=ee,this.lineWidth=te,this.lineJoin=ae},S=function(C,W,H){for(var ee=0;ee<C.length;ee++)switch(C[ee].type){case"bct":C[ee].x2+=W,C[ee].y2+=H;case"qct":C[ee].x1+=W,C[ee].y1+=H;default:C[ee].x+=W,C[ee].y+=H}return C},k=function(C){return C.sort(function(W,H){return W-H})},A=function(C,W){var H=this.fillStyle,ee=this.strokeStyle,te=this.lineCap,ae=this.lineWidth,ye=Math.abs(ae*this.ctx.transform.scaleX),ve=this.lineJoin;if(this.autoPaging){for(var _e,je,Te=JSON.parse(JSON.stringify(this.path)),Re=JSON.parse(JSON.stringify(this.path)),He=[],D=0;D<Re.length;D++)if(Re[D].x!==void 0)for(var G=N.call(this,Re[D]),Ne=0;Ne<G.length;Ne+=1)He.indexOf(G[Ne])===-1&&He.push(G[Ne]);for(var Pe=0;Pe<He.length;Pe++)for(;this.pdf.internal.getNumberOfPages()<He[Pe];)w.call(this);k(He);for(var be=He[0],Je=He[He.length-1],Fe=be;Fe<Je+1;Fe++){this.pdf.setPage(Fe),this.fillStyle=H,this.strokeStyle=ee,this.lineCap=te,this.lineWidth=ye,this.lineJoin=ve;var Qe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ve=Fe===1?this.posY+this.margin[0]:this.margin[0],Ct=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ft=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],qe=Fe===1?0:Ct+(Fe-2)*ft;if(this.ctx.clip_path.length!==0){var at=this.path;_e=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(_e,this.posX+this.margin[3],-qe+Ve+this.ctx.prevPageLastElemOffset),q.call(this,C,!0),this.path=at}if(je=JSON.parse(JSON.stringify(Te)),this.path=S(je,this.posX+this.margin[3],-qe+Ve+this.ctx.prevPageLastElemOffset),W===!1||Fe===0){var xt=(Fe>be||Fe<Je)&&x.call(this);xt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Qe,ft,null).clip().discardPath()),q.call(this,C,W),xt&&this.pdf.restoreGraphicsState()}this.lineWidth=ae}this.path=Te}else this.lineWidth=ye,q.call(this,C,W),this.lineWidth=ae},q=function(C,W){if((C!=="stroke"||W||!b.call(this))&&(C==="stroke"||W||!d.call(this))){for(var H,ee,te=[],ae=this.path,ye=0;ye<ae.length;ye++){var ve=ae[ye];switch(ve.type){case"begin":te.push({begin:!0});break;case"close":te.push({close:!0});break;case"mt":te.push({start:ve,deltas:[],abs:[]});break;case"lt":var _e=te.length;if(ae[ye-1]&&!isNaN(ae[ye-1].x)&&(H=[ve.x-ae[ye-1].x,ve.y-ae[ye-1].y],_e>0)){for(;_e>=0;_e--)if(te[_e-1].close!==!0&&te[_e-1].begin!==!0){te[_e-1].deltas.push(H),te[_e-1].abs.push(ve);break}}break;case"bct":H=[ve.x1-ae[ye-1].x,ve.y1-ae[ye-1].y,ve.x2-ae[ye-1].x,ve.y2-ae[ye-1].y,ve.x-ae[ye-1].x,ve.y-ae[ye-1].y],te[te.length-1].deltas.push(H);break;case"qct":var je=ae[ye-1].x+2/3*(ve.x1-ae[ye-1].x),Te=ae[ye-1].y+2/3*(ve.y1-ae[ye-1].y),Re=ve.x+2/3*(ve.x1-ve.x),He=ve.y+2/3*(ve.y1-ve.y),D=ve.x,G=ve.y;H=[je-ae[ye-1].x,Te-ae[ye-1].y,Re-ae[ye-1].x,He-ae[ye-1].y,D-ae[ye-1].x,G-ae[ye-1].y],te[te.length-1].deltas.push(H);break;case"arc":te.push({deltas:[],abs:[],arc:!0}),Array.isArray(te[te.length-1].abs)&&te[te.length-1].abs.push(ve)}}ee=W?null:C==="stroke"?"stroke":"fill";for(var Ne=!1,Pe=0;Pe<te.length;Pe++)if(te[Pe].arc)for(var be=te[Pe].abs,Je=0;Je<be.length;Je++){var Fe=be[Je];Fe.type==="arc"?M.call(this,Fe.x,Fe.y,Fe.radius,Fe.startAngle,Fe.endAngle,Fe.counterclockwise,void 0,W,!Ne):K.call(this,Fe.x,Fe.y),Ne=!0}else if(te[Pe].close===!0)this.pdf.internal.out("h"),Ne=!1;else if(te[Pe].begin!==!0){var Qe=te[Pe].start.x,Ve=te[Pe].start.y;J.call(this,te[Pe].deltas,Qe,Ve),Ne=!0}ee&&F.call(this,ee),W&&V.call(this)}},Y=function(C){var W=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,H=W*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return C-H;case"top":return C+W-H;case"hanging":return C+W-2*H;case"middle":return C+W/2-H;default:return C}},$=function(C){return C+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var C=function(){};return C.colorStops=[],C.addColorStop=function(W,H){this.colorStops.push([W,H])},C.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},C.isCanvasGradient=!0,C},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var M=function(C,W,H,ee,te,ae,ye,ve,_e){for(var je=me.call(this,H,ee,te,ae),Te=0;Te<je.length;Te++){var Re=je[Te];Te===0&&(_e?L.call(this,Re.x1+C,Re.y1+W):K.call(this,Re.x1+C,Re.y1+W)),de.call(this,C,W,Re.x2,Re.y2,Re.x3,Re.y3,Re.x4,Re.y4)}ve?V.call(this):F.call(this,ye)},F=function(C){switch(C){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},V=function(){this.pdf.clip(),this.pdf.discardPath()},L=function(C,W){this.pdf.internal.out(r(C)+" "+n(W)+" m")},R=function(C){var W;switch(C.align){case"right":case"end":W="right";break;case"center":W="center";break;default:W="left"}var H,ee,te,ae=this.pdf.getTextDimensions(C.text),ye=Y.call(this,C.y),ve=$.call(this,ye)-ae.h,_e=this.ctx.transform.applyToPoint(new a(C.x,ye));if(this.autoPaging){var je=this.ctx.transform.decompose(),Te=new l;Te=(Te=(Te=Te.multiply(je.translate)).multiply(je.skew)).multiply(je.scale);for(var Re=this.ctx.transform.applyToRectangle(new o(C.x,ye,ae.w,ae.h)),He=Te.applyToRectangle(new o(C.x,ve,ae.w,ae.h)),D=N.call(this,He),G=[],Ne=0;Ne<D.length;Ne+=1)G.indexOf(D[Ne])===-1&&G.push(D[Ne]);k(G);for(var Pe=G[0],be=G[G.length-1],Je=Pe;Je<be+1;Je++){this.pdf.setPage(Je);var Fe=Je===1?this.posY+this.margin[0]:this.margin[0],Qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ve=this.pdf.internal.pageSize.height-this.margin[2],Ct=Ve-this.margin[0],ft=this.pdf.internal.pageSize.width-this.margin[1],qe=ft-this.margin[3],at=Je===1?0:Qe+(Je-2)*Ct;if(this.ctx.clip_path.length!==0){var xt=this.path;H=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(H,this.posX+this.margin[3],-1*at+Fe),q.call(this,"fill",!0),this.path=xt}var ze=S([JSON.parse(JSON.stringify(He))],this.posX+this.margin[3],-at+Fe+this.ctx.prevPageLastElemOffset)[0];C.scale>=.01&&(ee=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ee*C.scale),te=this.lineWidth,this.lineWidth=te*C.scale);var ht=this.autoPaging!=="text";if(ht||ze.y+ze.h<=Ve){if(ht||ze.y>=Fe&&ze.x<=ft){var Xe=ht?C.text:this.pdf.splitTextToSize(C.text,C.maxWidth||ft-ze.x)[0],lr=S([JSON.parse(JSON.stringify(Re))],this.posX+this.margin[3],-at+Fe+this.ctx.prevPageLastElemOffset)[0],Et=ht&&(Je>Pe||Je<be)&&x.call(this);Et&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],qe,Ct,null).clip().discardPath()),this.pdf.text(Xe,lr.x,lr.y,{angle:C.angle,align:W,renderingMode:C.renderingMode}),Et&&this.pdf.restoreGraphicsState()}}else ze.y<Ve&&(this.ctx.prevPageLastElemOffset+=Ve-ze.y);C.scale>=.01&&(this.pdf.setFontSize(ee),this.lineWidth=te)}}else C.scale>=.01&&(ee=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ee*C.scale),te=this.lineWidth,this.lineWidth=te*C.scale),this.pdf.text(C.text,_e.x+this.posX,_e.y+this.posY,{angle:C.angle,align:W,renderingMode:C.renderingMode,maxWidth:C.maxWidth}),C.scale>=.01&&(this.pdf.setFontSize(ee),this.lineWidth=te)},K=function(C,W,H,ee){H=H||0,ee=ee||0,this.pdf.internal.out(r(C+H)+" "+n(W+ee)+" l")},J=function(C,W,H){return this.pdf.lines(C,W,H,null,null)},de=function(C,W,H,ee,te,ae,ye,ve){this.pdf.internal.out([e(i(H+C)),e(s(ee+W)),e(i(te+C)),e(s(ae+W)),e(i(ye+C)),e(s(ve+W)),"c"].join(" "))},me=function(C,W,H,ee){for(var te=2*Math.PI,ae=Math.PI/2;W>H;)W-=te;var ye=Math.abs(H-W);ye<te&&ee&&(ye=te-ye);for(var ve=[],_e=ee?-1:1,je=W;ye>1e-5;){var Te=je+_e*Math.min(ye,ae);ve.push(pe.call(this,C,je,Te)),ye-=Math.abs(Te-je),je=Te}return ve},pe=function(C,W,H){var ee=(H-W)/2,te=C*Math.cos(ee),ae=C*Math.sin(ee),ye=te,ve=-ae,_e=ye*ye+ve*ve,je=_e+ye*te+ve*ae,Te=4/3*(Math.sqrt(2*_e*je)-je)/(ye*ae-ve*te),Re=ye-Te*ve,He=ve+Te*ye,D=Re,G=-He,Ne=ee+W,Pe=Math.cos(Ne),be=Math.sin(Ne);return{x1:C*Math.cos(W),y1:C*Math.sin(W),x2:Re*Pe-He*be,y2:Re*be+He*Pe,x3:D*Pe-G*be,y3:D*be+G*Pe,x4:C*Math.cos(H),y4:C*Math.sin(H)}},Q=function(C){return 180*C/Math.PI},se=function(C,W,H,ee,te,ae){var ye=C+.5*(H-C),ve=W+.5*(ee-W),_e=te+.5*(H-te),je=ae+.5*(ee-ae),Te=Math.min(C,te,ye,_e),Re=Math.max(C,te,ye,_e),He=Math.min(W,ae,ve,je),D=Math.max(W,ae,ve,je);return new o(Te,He,Re-Te,D-He)},fe=function(C,W,H,ee,te,ae,ye,ve){var _e,je,Te,Re,He,D,G,Ne,Pe,be,Je,Fe,Qe,Ve,Ct=H-C,ft=ee-W,qe=te-H,at=ae-ee,xt=ye-te,ze=ve-ae;for(je=0;je<41;je++)Pe=(G=(Te=C+(_e=je/40)*Ct)+_e*((He=H+_e*qe)-Te))+_e*(He+_e*(te+_e*xt-He)-G),be=(Ne=(Re=W+_e*ft)+_e*((D=ee+_e*at)-Re))+_e*(D+_e*(ae+_e*ze-D)-Ne),je==0?(Je=Pe,Fe=be,Qe=Pe,Ve=be):(Je=Math.min(Je,Pe),Fe=Math.min(Fe,be),Qe=Math.max(Qe,Pe),Ve=Math.max(Ve,be));return new o(Math.round(Je),Math.round(Fe),Math.round(Qe-Je),Math.round(Ve-Fe))},ge=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var C,W,H=(C=this.ctx.lineDash,W=this.ctx.lineDashOffset,JSON.stringify({lineDash:C,lineDashOffset:W}));this.prevLineDash!==H&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=H)}}})(tt.API),function(t){var e=function(a){var o,l,u,h,p,g,d,b,x,N;for(l=[],u=0,h=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;h>u;u+=4)(p=(a.charCodeAt(u)<<24)+(a.charCodeAt(u+1)<<16)+(a.charCodeAt(u+2)<<8)+a.charCodeAt(u+3))!==0?(g=(p=((p=((p=((p=(p-(N=p%85))/85)-(x=p%85))/85)-(b=p%85))/85)-(d=p%85))/85)%85,l.push(g+33,d+33,b+33,x+33,N+33)):l.push(122);return function(w,S){for(var k=S;k>0;k--)w.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},r=function(a){var o,l,u,h,p,g=String,d="length",b=255,x="charCodeAt",N="slice",w="replace";for(a[N](-2),a=a[N](0,-2)[w](/\s/g,"")[w]("z","!!!!!"),u=[],h=0,p=(a+=o="uuuuu"[N](a[d]%5||5))[d];p>h;h+=5)l=52200625*(a[x](h)-33)+614125*(a[x](h+1)-33)+7225*(a[x](h+2)-33)+85*(a[x](h+3)-33)+(a[x](h+4)-33),u.push(b&l>>24,b&l>>16,b&l>>8,b&l);return function(S,k){for(var A=k;A>0;A--)S.pop()}(u,o[d]),g.fromCharCode.apply(g,u)},n=function(a){return a.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var l="",u=0;u<a.length;u+=2)l+=String.fromCharCode("0x"+(a[u]+a[u+1]));return l},s=function(a){for(var o=new Uint8Array(a.length),l=a.length;l--;)o[l]=a.charCodeAt(l);return(o=w1(o)).reduce(function(u,h){return u+String.fromCharCode(h)},"")};t.processDataByFilters=function(a,o){var l=0,u=a||"",h=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":u=r(u),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=n(u),h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=s(u),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:u,reverseChain:h.reverse().join(" ")}}}(tt.API),function(t){t.loadFile=function(e,r,n){return function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=function(l,u,h){var p=new XMLHttpRequest,g=0,d=function(b){var x=b.length,N=[],w=String.fromCharCode;for(g=0;g<x;g+=1)N.push(w(255&b.charCodeAt(g)));return N.join("")};if(p.open("GET",l,!u),p.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(p.onload=function(){p.status===200?h(d(this.responseText)):h(void 0)}),p.send(null),u&&p.status===200)return d(p.responseText)}(i,s,a)}catch{}return o}(e,r,n)},t.loadImageFile=t.loadFile}(tt.API),function(t){function e(){return(ct.html2canvas?Promise.resolve(ct.html2canvas):gg(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(ct.DOMPurify?Promise.resolve(ct.DOMPurify):gg(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var l=Ht(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(o,l){var u=document.createElement(o);for(var h in l.className&&(u.className=l.className),l.innerHTML&&l.dompurify&&(u.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)u.style[h]=l.style[h];return u},s=function o(l,u){for(var h=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),p=l.firstChild;p;p=p.nextSibling)u!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||h.appendChild(o(p,u));return l.nodeType===1&&(l.nodeName==="CANVAS"?(h.width=l.width,h.height=l.height,h.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(h.value=l.value),h.addEventListener("load",function(){h.scrollTop=l.scrollTop,h.scrollLeft=l.scrollLeft},!0)),h},a=function o(l){var u=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),h=o.convert(Promise.resolve(),u);return(h=h.setProgress(1,o,1,[o])).set(l)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,l){return o.__proto__=l||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o),l){case"string":return this.then(r).then(function(u){return this.set({src:i("div",{innerHTML:o,dompurify:u})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,l(this.prop.container,u)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var u=this.opt.jsPDF,h=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=h,h)for(var d=0;d<h.length;++d){var b=h[d],x=b.src.find(function(N){return N.format==="truetype"});x&&u.addFont(x.url,b.ref.name,b.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,u.context2d.save(!0),l(this.prop.container,g)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,l,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},a.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map(function(u){if(u in a.template.prop)return function(){this.prop[u]=o[u]};switch(u){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[u]=o[u]}}},this);return this.then(function(){return this.thenList(l)})},a.prototype.get=function(o,l){return this.then(function(){var u=o in a.template.prop?this.prop[o]:this.opt[o];return l?l(u):u})},a.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function l(u,h){return Math.floor(u*h/72*96)}return this.then(function(){(o=o||tt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,l,u,h){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),u!=null&&(this.progress.n=u),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,l,u,h){return this.setProgress(o?this.progress.val+o:null,l||null,u?this.progress.n+u:null,h?this.progress.stack.concat(h):null)},a.prototype.then=function(o,l){var u=this;return this.thenCore(o,l,function(h,p){return u.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(g){return u.updateProgress(null,h),g}).then(h,p).then(function(g){return u.updateProgress(1),g})})},a.prototype.thenCore=function(o,l,u){u=u||Promise.prototype.then;var h=this;o&&(o=o.bind(h)),l&&(l=l.bind(h));var p=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?h:a.convert(Object.assign({},h),Promise.prototype),g=u.call(p,o,l);return a.convert(g,h.__proto__)},a.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},a.prototype.thenList=function(o){var l=this;return o.forEach(function(u){l=l.thenCore(u)}),l},a.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return a.convert(l,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,tt.getPageSize=function(o,l,u){if(Ht(o)==="object"){var h=o;o=h.orientation,l=h.unit||l,u=h.format||u}l=l||"mm",u=u||"a4",o=(""+(o||"P")).toLowerCase();var p,g=(""+u).toLowerCase(),d={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+l}var b,x=0,N=0;if(d.hasOwnProperty(g))x=d[g][1]/p,N=d[g][0]/p;else try{x=u[1],N=u[0]}catch{throw new Error("Invalid format: "+u)}if(o==="p"||o==="portrait")o="p",N>x&&(b=N,N=x,x=b);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",x>N&&(b=N,N=x,x=b)}return{width:N,height:x,unit:l,k:p,orientation:o}},t.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(Tg):null;var u=new a(l);return l.worker?u:u.from(o).doCallback()}}(tt.API),tt.API.addJS=function(t){return $w=t,this.internal.events.subscribe("postPutResources",function(){vf=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(vf+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),zw=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+$w+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){vf!==void 0&&zw!==void 0&&this.internal.out("/Names <</JavaScript "+vf+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],o=n.exec(a);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(a)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,h=[];for(s=0;s<u;s++){var p=r.internal.newObject();h.push(p);var g=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var d=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<h.length;s++)r.internal.write("(page_"+(s+1)+")"+h[s]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+d+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,s){var a={title:i,options:s,children:[]};return n==null&&(n=this.root),n.children.push(a),a},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var a=n.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var l=r.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var s=0;s<i.children.length;s++)n.count++,this.count_r(n,i.children[s]);return n.count}}])}(tt.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,i,s,a,o){var l,u=this.decode.DCT_DECODE,h=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=a||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,l=function(p){for(var g,d=256*p.charCodeAt(4)+p.charCodeAt(5),b=p.length,x={width:0,height:0,numcomponents:1},N=4;N<b;N+=2){if(N+=d,e.indexOf(p.charCodeAt(N+1))!==-1){g=256*p.charCodeAt(N+5)+p.charCodeAt(N+6),x={width:256*p.charCodeAt(N+7)+p.charCodeAt(N+8),height:g,numcomponents:p.charCodeAt(N+9)};break}d=256*p.charCodeAt(N+2)+p.charCodeAt(N+3)}return x}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),l.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}h={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:u,index:n,alias:i}}return h}}(tt.API),tt.API.processPNG=function(t,e,r,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,s=tO(t,{checkCrc:!0}),a=s.width,o=s.height,l=s.channels,u=s.palette,h=s.depth;i=u&&l===1?function(M){for(var F=M.width,V=M.height,L=M.data,R=M.palette,K=M.depth,J=!1,de=[],me=[],pe=void 0,Q=!1,se=0,fe=0;fe<R.length;fe++){var ge=V5(R[fe],4),C=ge[0],W=ge[1],H=ge[2],ee=ge[3];de.push(C,W,H),ee!=null&&(ee===0?(se++,me.length<1&&me.push(fe)):ee<255&&(Q=!0))}if(Q||se>1){J=!0,me=void 0;var te=F*V;pe=new Uint8Array(te);for(var ae=new DataView(L.buffer),ye=0;ye<te;ye++){var ve=Ig(ae,ye,K),_e=V5(R[ve],4)[3];pe[ye]=_e}}else se===0&&(me=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:J?8:void 0,colorBytes:L,alphaBytes:pe,needSMask:J,palette:de,mask:me}}(s):l===2||l===4?function(M){for(var F=M.data,V=M.width,L=M.height,R=M.channels,K=M.depth,J=R===2?"DeviceGray":"DeviceRGB",de=R-1,me=V*L,pe=de,Q=me*pe,se=1*me,fe=Math.ceil(Q*K/8),ge=Math.ceil(se*K/8),C=new Uint8Array(fe),W=new Uint8Array(ge),H=new DataView(F.buffer),ee=new DataView(C.buffer),te=new DataView(W.buffer),ae=!1,ye=0;ye<me;ye++){for(var ve=ye*R,_e=0;_e<pe;_e++)Yw(ee,Ig(H,ve+_e,K),ye*pe+_e,K);var je=Ig(H,ve+pe,K);je<(1<<K)-1&&(ae=!0),Yw(te,je,1*ye,K)}return{colorSpace:J,colorsPerPixel:de,sMaskBitsPerComponent:ae?K:void 0,colorBytes:C,alphaBytes:W,needSMask:ae}}(s):function(M){var F=M.data,V=M.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:V,colorsPerPixel:V==="DeviceGray"?1:3,colorBytes:F instanceof Uint16Array?function(L){for(var R=L.length,K=new Uint8Array(2*R),J=new DataView(K.buffer,K.byteOffset,K.byteLength),de=0;de<R;de++)J.setUint16(2*de,L[de],!1);return K}(F):F,needSMask:!1}}(s);var p,g,d,b=i,x=b.colorSpace,N=b.colorsPerPixel,w=b.sMaskBitsPerComponent,S=b.colorBytes,k=b.alphaBytes,A=b.needSMask,q=b.palette,Y=b.mask,$=null;return n!==tt.API.image_compression.NONE&&typeof w1=="function"?($=function(M){var F;switch(M){case tt.API.image_compression.FAST:F=11;break;case tt.API.image_compression.MEDIUM:F=13;break;case tt.API.image_compression.SLOW:F=14;break;default:F=12}return F}(n),p=this.decode.FLATE_DECODE,g="/Predictor ".concat($," /Colors ").concat(N," /BitsPerComponent ").concat(h," /Columns ").concat(a),t=Vw(S,Math.ceil(a*N*h/8),N,h,n),A&&(d=Vw(k,Math.ceil(a*w/8),1,w,n))):(p=void 0,g=void 0,t=S,A&&(d=k)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(d&&this.__addimage__.isArrayBuffer(d)||this.__addimage__.isArrayBufferView(d))&&(d=this.__addimage__.arrayBufferToBinaryString(d)),{alias:r,data:t,index:e,filter:p,decodeParameters:g,transparency:Y,palette:q,sMask:d,predictor:$,width:a,height:o,bitsPerComponent:h,sMaskBitsPerComponent:w,colorSpace:x}}},function(t){t.processGIF89A=function(e,r,n,i){var s=new _O(e),a=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:a,height:o},h=new Fg(100).encode(u,100);return t.processJPEG.call(this,h,r,n,i)},t.processGIF87A=t.processGIF89A}(tt.API),Hi.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Hi.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){Qt.log("bit decode error:"+r)}},Hi.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[a+4*o]=l.blue,this.data[a+4*o+1]=l.green,this.data[a+4*o+2]=l.red,this.data[a+4*o+3]=255}r!==0&&(this.pos+=4-r)}},Hi.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+2*i*4,o=s>>4,l=15&s,u=this.palette[o];if(this.data[a]=u.blue,this.data[a+1]=u.green,this.data[a+2]=u.red,this.data[a+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[a+4]=u.blue,this.data[a+4+1]=u.green,this.data[a+4+2]=u.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},Hi.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},Hi.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,o=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,u=s>>15?255:0,h=n*this.width*4+4*i;this.data[h]=l,this.data[h+1]=o,this.data[h+2]=a,this.data[h+3]=u}this.pos+=t}},Hi.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,l=(a>>5&r)/r*255|0,u=(a>>11)/e*255|0,h=i*this.width*4+4*s;this.data[h]=u,this.data[h+1]=l,this.data[h+2]=o,this.data[h+3]=255}this.pos+=t}},Hi.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*r;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=n,this.data[a+3]=255}this.pos+=this.width%4}},Hi.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=a}},Hi.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,i){var s=new Hi(e,!1),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},u=new Fg(100).encode(l,100);return t.processJPEG.call(this,u,r,n,i)}}(tt.API),Zw.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,i){var s=new Zw(e),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},u=new Fg(100).encode(l,100);return t.processJPEG.call(this,u,r,n,i)}}(tt.API),tt.API.processRGBA=function(t,e,r){for(var n=t.data,i=n.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),o=0,l=0,u=0;u<i;u+=4){var h=n[u],p=n[u+1],g=n[u+2],d=n[u+3];s[o++]=h,s[o++]=p,s[o++]=g,a[l++]=d}var b=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:b,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},tt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},iu=tt.API,yf=iu.getCharWidthsArray=function(t,e){var r,n,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,h=u.fof?u.fof:1,p=e.doKerning!==!1,g=0,d=t.length,b=0,x=o[0]||l,N=[];for(r=0;r<d;r++)n=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?N.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+a*(1e3/s)||0)/1e3):(g=p&&Ht(u[n])==="object"&&!isNaN(parseInt(u[n][b],10))?u[n][b]/h:0,N.push((o[n]||x)/l+g)),b=n;return N},qw=iu.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return iu.processArabic&&(t=iu.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,i)/r:yf.apply(this,arguments).reduce(function(s,a){return s+a},0)},Ww=function(t,e,r,n){for(var i=[],s=0,a=t.length,o=0;s!==a&&o+e[s]<r;)o+=e[s],s++;i.push(t.slice(0,s));var l=s;for(o=0;s!==a;)o+e[s]>n&&(i.push(t.slice(l,s)),o=0,l=s),o+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},Hw=function(t,e,r){r||(r={});var n,i,s,a,o,l,u,h=[],p=[h],g=r.textIndent||0,d=0,b=0,x=t.split(" "),N=yf.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?x[0].length+2:r.lineIndent||0){var w=Array(l).join(" "),S=[];x.map(function(A){(A=A.split(/\s*\n/)).length>1?S=S.concat(A.map(function(q,Y){return(Y&&q.length?`
`:"")+q})):S.push(A[0])}),x=S,l=qw.apply(this,[w,r])}for(s=0,a=x.length;s<a;s++){var k=0;if(n=x[s],l&&n[0]==`
`&&(n=n.substr(1),k=1),g+d+(b=(i=yf.apply(this,[n,r])).reduce(function(A,q){return A+q},0))>e||k){if(b>e){for(o=Ww.apply(this,[n,i,e-(g+d),e]),h.push(o.shift()),h=[o.pop()];o.length;)p.push([o.shift()]);b=i.slice(n.length-(h[0]?h[0].length:0)).reduce(function(A,q){return A+q},0)}else h=[n];p.push(h),g=b+l,d=N}else h.push(n),g+=d+b,d=N}return u=l?function(A,q){return(q?w:"")+A.join(" ")}:function(A){return A.join(" ")},p.map(u)},iu.splitTextToSize=function(t,e,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var p=this.internal.getFont(h.fontName,h.fontStyle),g="Unicode";return p.metadata[g]?{widths:p.metadata[g].widths||{0:1},kerning:p.metadata[g].kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=r.lineIndent;var o,l,u=[];for(o=0,l=n.length;o<l;o++)u=u.concat(Hw.apply(this,[n[o],a,s]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},s=0;s<16;s++)n[r[s]]=e[s],i[e[s]]=r[s];var a=function(g){return"0x"+parseInt(g,10).toString(16)},o=t.__fontmetrics__.compress=function(g){var d,b,x,N,w=["{"];for(var S in g){if(d=g[S],isNaN(parseInt(S,10))?b="'"+S+"'":(S=parseInt(S,10),b=(b=a(S).slice(2)).slice(0,-1)+i[b.slice(-1)]),typeof d=="number")d<0?(x=a(d).slice(3),N="-"):(x=a(d).slice(2),N=""),x=N+x.slice(0,-1)+i[x.slice(-1)];else{if(Ht(d)!=="object")throw new Error("Don't know what to do with value type "+Ht(d)+".");x=o(d)}w.push(b+x)}return w.push("}"),w.join("")},l=t.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var d,b,x,N,w={},S=1,k=w,A=[],q="",Y="",$=g.length-1,M=1;M<$;M+=1)(N=g[M])=="'"?d?(x=d.join(""),d=void 0):d=[]:d?d.push(N):N=="{"?(A.push([k,x]),k={},x=void 0):N=="}"?((b=A.pop())[0][b[1]]=k,x=void 0,k=b[0]):N=="-"?S=-1:x===void 0?n.hasOwnProperty(N)?(q+=n[N],x=parseInt(q,16)*S,S=1,q=""):q+=N:n.hasOwnProperty(N)?(Y+=n[N],k[x]=parseInt(Y,16)*S,S=1,x=void 0,Y=""):Y+=N;return w},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},p={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(g){var d=g.font,b=p.Unicode[d.postScriptName];b&&(d.metadata.Unicode={},d.metadata.Unicode.widths=b.widths,d.metadata.Unicode.kerning=b.kerning);var x=h.Unicode[d.postScriptName];x&&(d.metadata.Unicode.encoding=x,d.encoding=x.codePages[0])}])}(tt.API),function(t){var e=function(r){for(var n=r.length,i=new Uint8Array(n),s=0;s<n;s++)i[s]=r.charCodeAt(s);return i};t.API.events.push(["addFont",function(r){var n=void 0,i=r.font,s=r.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(Rf(o)),a.metadata=t.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,n)}}])}(tt),tt.API.addSvgAsImage=function(t,e,r,n,i,s,a,o){if(isNaN(e)||isNaN(r))throw Qt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw Qt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=n,l.height=i;var u=l.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,l.width,l.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return(ct.canvg?Promise.resolve(ct.canvg):gg(()=>import("./index.es-C5U5tarz.js"),[])).catch(function(g){return Promise.reject(new Error("Could not load canvg: "+g))}).then(function(g){return g.default?g.default:g}).then(function(g){return g.fromString(u,t,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(h)}).then(function(){p.addImage(l.toDataURL("image/jpeg",1),e,r,n,i,a,o)})},tt.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,r);return this},tt.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),l=[],u=0,h=0,p=0;function g(b,x){var N,w=!1;for(N=0;N<b.length;N+=1)b[N]===x&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var d=o.length;for(p=0;p<d;p+=1)r[o[p]].value=r[o[p]].defaultValue,r[o[p]].explicitSet=!1}if(Ht(t)==="object"){for(i in t)if(s=t[i],g(o,i)&&s!==void 0){if(r[i].type==="boolean"&&typeof s=="boolean")r[i].value=s;else if(r[i].type==="name"&&g(r[i].valueSet,s))r[i].value=s;else if(r[i].type==="integer"&&Number.isInteger(s))r[i].value=s;else if(r[i].type==="array"){for(u=0;u<s.length;u+=1)if(n=!0,s[u].length===1&&typeof s[u][0]=="number")l.push(String(s[u]-1));else if(s[u].length>1){for(h=0;h<s[u].length;h+=1)typeof s[u][h]!="number"&&(n=!1);n===!0&&l.push([s[u][0]-1,s[u][1]-1].join(" "))}r[i].value="["+l.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var b,x=[];for(b in r)r[b].explicitSet===!0&&(r[b].type==="name"?x.push("/"+b+" /"+r[b].value):x.push("/"+b+" "+r[b].value));x.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+x.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+a.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+o+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(tt.API),function(t){var e=t.API,r=e.pdfEscape16=function(s,a){for(var o,l=a.metadata.Unicode.widths,u=["","0","00","000","0000"],h=[""],p=0,g=s.length;p<g;++p){if(o=a.metadata.characterToGlyph(s.charCodeAt(p)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(p),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return h.join("");o=o.toString(16),h.push(u[4-o.length],o)}return h.join("")},n=function(s){var a,o,l,u,h,p,g;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],p=0,g=(o=Object.keys(s).sort(function(d,b){return d-b})).length;p<g;p++)a=o[p],l.length>=100&&(h+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(u=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+u+">"));return l.length&&(h+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),h+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,u=a.newObject,h=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var p=o.metadata.Unicode.widths,g=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),d="",b=0;b<g.length;b++)d+=String.fromCharCode(g[b]);var x=u();h({data:d,addLength1:!0,objectId:x}),l("endobj");var N=u();h({data:n(o.metadata.toUnicode),addLength1:!0,objectId:N}),l("endobj");var w=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+lu(o.fontName)),l("/FontFile2 "+x+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var S=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+lu(o.fontName)),l("/FontDescriptor "+w+" 0 R"),l("/W "+t.API.PDFObject.convert(p)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+N+" 0 R"),l("/BaseFont /"+lu(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+S+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,u=a.newObject,h=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var p=o.metadata.rawData,g="",d=0;d<p.length;d++)g+=String.fromCharCode(p[d]);var b=u();h({data:g,addLength1:!0,objectId:b}),l("endobj");var x=u();h({data:n(o.metadata.toUnicode),addLength1:!0,objectId:x}),l("endobj");var N=u();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+b+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+lu(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=u();for(var w=0;w<o.metadata.hmtx.widths.length;w++)o.metadata.hmtx.widths[w]=parseInt(o.metadata.hmtx.widths[w]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+x+" 0 R/BaseFont/"+lu(o.fontName)+"/FontDescriptor "+N+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,o=s.text||"",l=s.x,u=s.y,h=s.options||{},p=s.mutex||{},g=p.pdfEscape,d=p.activeFontKey,b=p.fonts,x=d,N="",w=0,S="",k=b[x].encoding;if(b[x].encoding!=="Identity-H")return{text:o,x:l,y:u,options:h,mutex:p};for(S=o,x=d,Array.isArray(o)&&(S=o[0]),w=0;w<S.length;w+=1)b[x].metadata.hasOwnProperty("cmap")&&(a=b[x].metadata.cmap.unicode.codeMap[S[w].charCodeAt(0)]),a||S[w].charCodeAt(0)<256&&b[x].metadata.hasOwnProperty("Unicode")?N+=S[w]:N+="";var A="";return parseInt(x.slice(1))<14||k==="WinAnsiEncoding"?A=g(N,x).split("").map(function(q){return q.charCodeAt(0).toString(16)}).join(""):k==="Identity-H"&&(A=r(N,b[x])),p.isHex=!0,{text:A,x:l,y:u,options:h,mutex:p}};e.events.push(["postProcessText",function(s){var a=s.text||"",o=[],l={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var u=0;for(u=0;u<a.length;u+=1)Array.isArray(a[u])&&a[u].length===3?o.push([i(Object.assign({},l,{text:a[u][0]})).text,a[u][1],a[u][2]]):o.push(i(Object.assign({},l,{text:a[u]})).text);s.text=o}else s.text=i(Object.assign({},l,{text:a})).text}])}(tt),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(tt.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var i,s,a,o,l,u,h,p=e,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],d=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],b={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},x={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},N=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),S=!1,k=0;this.__bidiEngine__={};var A=function(L){var R=L.charCodeAt(),K=R>>8,J=x[K];return J!==void 0?p[256*J+(255&R)]:K===252||K===253?"AL":w.test(K)?"L":K===8?"R":"N"},q=function(L){for(var R,K=0;K<L.length;K++){if((R=A(L.charAt(K)))==="L")return!1;if(R==="R")return!0}return!1},Y=function(L,R,K,J){var de,me,pe,Q,se=R[J];switch(se){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":S=!1;break;case"N":case"AN":break;case"EN":S&&(se="AN");break;case"AL":S=!0,se="R";break;case"WS":case"BN":se="N";break;case"CS":J<1||J+1>=R.length||(de=K[J-1])!=="EN"&&de!=="AN"||(me=R[J+1])!=="EN"&&me!=="AN"?se="N":S&&(me="AN"),se=me===de?me:"N";break;case"ES":se=(de=J>0?K[J-1]:"B")==="EN"&&J+1<R.length&&R[J+1]==="EN"?"EN":"N";break;case"ET":if(J>0&&K[J-1]==="EN"){se="EN";break}if(S){se="N";break}for(pe=J+1,Q=R.length;pe<Q&&R[pe]==="ET";)pe++;se=pe<Q&&R[pe]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(Q=R.length,pe=J+1;pe<Q&&R[pe]==="NSM";)pe++;if(pe<Q){var fe=L[J],ge=fe>=1425&&fe<=2303||fe===64286;if(de=R[pe],ge&&(de==="R"||de==="AL")){se="R";break}}}se=J<1||(de=R[J-1])==="B"?"N":K[J-1];break;case"B":S=!1,i=!0,se=k;break;case"S":s=!0,se="N"}return se},$=function(L,R,K){var J=L.split("");return K&&M(J,K,{hiLevel:k}),J.reverse(),R&&R.reverse(),J.join("")},M=function(L,R,K){var J,de,me,pe,Q,se=-1,fe=L.length,ge=0,C=[],W=k?d:g,H=[];for(S=!1,i=!1,s=!1,de=0;de<fe;de++)H[de]=A(L[de]);for(me=0;me<fe;me++){if(Q=ge,C[me]=Y(L,H,C,me),J=240&(ge=W[Q][b[C[me]]]),ge&=15,R[me]=pe=W[ge][5],J>0)if(J===16){for(de=se;de<me;de++)R[de]=1;se=-1}else se=-1;if(W[ge][6])se===-1&&(se=me);else if(se>-1){for(de=se;de<me;de++)R[de]=pe;se=-1}H[me]==="B"&&(R[me]=0),K.hiLevel|=pe}s&&function(ee,te,ae){for(var ye=0;ye<ae;ye++)if(ee[ye]==="S"){te[ye]=k;for(var ve=ye-1;ve>=0&&ee[ve]==="WS";ve--)te[ve]=k}}(H,R,fe)},F=function(L,R,K,J,de){if(!(de.hiLevel<L)){if(L===1&&k===1&&!i)return R.reverse(),void(K&&K.reverse());for(var me,pe,Q,se,fe=R.length,ge=0;ge<fe;){if(J[ge]>=L){for(Q=ge+1;Q<fe&&J[Q]>=L;)Q++;for(se=ge,pe=Q-1;se<pe;se++,pe--)me=R[se],R[se]=R[pe],R[pe]=me,K&&(me=K[se],K[se]=K[pe],K[pe]=me);ge=Q}ge++}}},V=function(L,R,K){var J=L.split(""),de={hiLevel:k};return K||(K=[]),M(J,K,de),function(me,pe,Q){if(Q.hiLevel!==0&&h)for(var se,fe=0;fe<me.length;fe++)pe[fe]===1&&(se=N.indexOf(me[fe]))>=0&&(me[fe]=N[se+1])}(J,K,de),F(2,J,R,K,de),F(1,J,R,K,de),J.join("")};return this.__bidiEngine__.doBidiReorder=function(L,R,K){if(function(de,me){if(me)for(var pe=0;pe<de.length;pe++)me[pe]=pe;o===void 0&&(o=q(de)),u===void 0&&(u=q(de))}(L,R),a||!l||u)if(a&&l&&o^u)k=o?1:0,L=$(L,R,K);else if(!a&&l&&u)k=o?1:0,L=V(L,R,K),L=$(L,R);else if(!a||o||l||u){if(a&&!l&&o^u)L=$(L,R),o?(k=0,L=V(L,R,K)):(k=1,L=V(L,R,K),L=$(L,R));else if(a&&o&&!l&&u)k=1,L=V(L,R,K),L=$(L,R);else if(!a&&!l&&o^u){var J=h;o?(k=1,L=V(L,R,K),k=0,h=!1,L=V(L,R,K),h=J):(k=0,L=V(L,R,K),L=$(L,R),k=1,h=!1,L=V(L,R,K),h=J,L=$(L,R))}}else k=0,L=V(L,R,K);else k=o?1:0,L=V(L,R,K);return L},this.__bidiEngine__.setOptions=function(L){L&&(a=L.isInputVisual,l=L.isOutputVisual,o=L.isInputRtl,u=L.isOutputRtl,h=L.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(a=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?a.push([r.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):a.push([r.doBidiReorder(i[o])]);n.text=a}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(tt),tt.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new Eo(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new DO(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new SO(this.contents),this.head=new NO(this),this.name=new LO(this),this.cmap=new gS(this),this.toUnicode={},this.hhea=new AO(this),this.maxp=new PO(this),this.hmtx=new OO(this),this.post=new jO(this),this.os2=new EO(this),this.loca=new FO(this),this.glyf=new TO(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,l,u;for(u=[],a=0,o=(l=this.bbox).length;a<o;a++)e=l[a],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var i,s,a,o;for(a=0,s=0,o=(e=""+e).length;0<=o?s<o:s>o;s=0<=o?++s:--s)i=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return a*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var as,Eo=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,i;for(i=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(e.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,i,s,a,o,l;return e=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*i+16777216*s+65536*a+256*o+l},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,i,s;for(s=[],n=0,i=e.length;n<i;n++)r=e[n],s.push(this.writeByte(r));return s},t}(),SO=function(){var t;function e(r){var n,i,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,i,s,a,o,l,u,h,p,g,d,b,x;for(x in d=Object.keys(r).length,l=Math.log(2),p=16*Math.floor(Math.log(d)/l),a=Math.floor(p/l),h=16*d-p,(i=new Eo).writeInt(this.scalarType),i.writeShort(d),i.writeShort(p),i.writeShort(a),i.writeShort(h),s=16*d,u=i.pos+s,o=null,b=[],r)for(g=r[x],i.writeString(x),i.writeInt(t(g)),i.writeInt(u),i.writeInt(g.length),b=b.concat(g),x==="head"&&(o=u),u+=g.length;u%4;)b.push(0),u++;return i.write(b),n=2981146554-t(i.data),i.pos=o+8,i.writeUInt32(n),i.data},t=function(r){var n,i,s,a;for(r=mS.call(r);r.length%4;)r.push(0);for(s=new Eo(r),i=0,n=0,a=r.length;n<a;n=n+=4)i+=s.readUInt32();return 4294967295&i},e}(),kO={}.hasOwnProperty,Cs=function(t,e){for(var r in e)kO.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};as=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var NO=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Cs(t,as),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new Eo).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t}(),eb=function(){function t(e,r){var n,i,s,a,o,l,u,h,p,g,d,b,x,N,w,S,k;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),p=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(d=e.readUInt16(),g=d/2,e.pos+=6,s=function(){var A,q;for(q=[],l=A=0;0<=g?A<g:A>g;l=0<=g?++A:--A)q.push(e.readUInt16());return q}(),e.pos+=2,x=function(){var A,q;for(q=[],l=A=0;0<=g?A<g:A>g;l=0<=g?++A:--A)q.push(e.readUInt16());return q}(),u=function(){var A,q;for(q=[],l=A=0;0<=g?A<g:A>g;l=0<=g?++A:--A)q.push(e.readUInt16());return q}(),h=function(){var A,q;for(q=[],l=A=0;0<=g?A<g:A>g;l=0<=g?++A:--A)q.push(e.readUInt16());return q}(),i=(this.length-e.pos+this.offset)/2,o=function(){var A,q;for(q=[],l=A=0;0<=i?A<i:A>i;l=0<=i?++A:--A)q.push(e.readUInt16());return q}(),l=w=0,k=s.length;w<k;l=++w)for(N=s[l],n=S=b=x[l];b<=N?S<=N:S>=N;n=b<=N?++S:--S)h[l]===0?a=n+u[l]:(a=o[h[l]/2+(n-b)-(g-l)]||0)!==0&&(a+=u[l]),this.codeMap[n]=65535&a}e.pos=p}return t.encode=function(e,r){var n,i,s,a,o,l,u,h,p,g,d,b,x,N,w,S,k,A,q,Y,$,M,F,V,L,R,K,J,de,me,pe,Q,se,fe,ge,C,W,H,ee,te,ae,ye,ve,_e,je,Te;switch(J=new Eo,a=Object.keys(e).sort(function(Re,He){return Re-He}),r){case"macroman":for(x=0,N=function(){var Re=[];for(b=0;b<256;++b)Re.push(0);return Re}(),S={0:0},s={},de=0,se=a.length;de<se;de++)S[ve=e[i=a[de]]]==null&&(S[ve]=++x),s[i]={old:e[i],new:S[e[i]]},N[i]=S[e[i]];return J.writeUInt16(1),J.writeUInt16(0),J.writeUInt32(12),J.writeUInt16(0),J.writeUInt16(262),J.writeUInt16(0),J.write(N),{charMap:s,subtable:J.data,maxGlyphID:x+1};case"unicode":for(R=[],p=[],k=0,S={},n={},w=u=null,me=0,fe=a.length;me<fe;me++)S[q=e[i=a[me]]]==null&&(S[q]=++k),n[i]={old:q,new:S[q]},o=S[q]-i,w!=null&&o===u||(w&&p.push(w),R.push(i),u=o),w=i;for(w&&p.push(w),p.push(65535),R.push(65535),V=2*(F=R.length),M=2*Math.pow(Math.log(F)/Math.LN2,2),g=Math.log(M/2)/Math.LN2,$=2*F-M,l=[],Y=[],d=[],b=pe=0,ge=R.length;pe<ge;b=++pe){if(L=R[b],h=p[b],L===65535){l.push(0),Y.push(0);break}if(L-(K=n[L].new)>=32768)for(l.push(0),Y.push(2*(d.length+F-b)),i=Q=L;L<=h?Q<=h:Q>=h;i=L<=h?++Q:--Q)d.push(n[i].new);else l.push(K-L),Y.push(0)}for(J.writeUInt16(3),J.writeUInt16(1),J.writeUInt32(12),J.writeUInt16(4),J.writeUInt16(16+8*F+2*d.length),J.writeUInt16(0),J.writeUInt16(V),J.writeUInt16(M),J.writeUInt16(g),J.writeUInt16($),ae=0,C=p.length;ae<C;ae++)i=p[ae],J.writeUInt16(i);for(J.writeUInt16(0),ye=0,W=R.length;ye<W;ye++)i=R[ye],J.writeUInt16(i);for(_e=0,H=l.length;_e<H;_e++)o=l[_e],J.writeUInt16(o);for(je=0,ee=Y.length;je<ee;je++)A=Y[je],J.writeUInt16(A);for(Te=0,te=d.length;Te<te;Te++)x=d[Te],J.writeUInt16(x);return{charMap:n,subtable:J.data,maxGlyphID:k+1}}},t}(),gS=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Cs(t,as),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new eb(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,i;return r==null&&(r="macroman"),n=eb.encode(e,r),(i=new Eo).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},t}(),AO=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Cs(t,as),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),EO=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Cs(t,as),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),jO=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Cs(t,as),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(n=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)r=e.readByte(),i.push(this.names.push(e.readString(r)));return i;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var a,o,l;for(l=[],s=a=0,o=this.file.maxp.numGlyphs;0<=o?a<o:a>o;s=0<=o?++a:--a)l.push(e.readUInt32());return l}).call(this)}},t}(),CO=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},LO=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Cs(t,as),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,i,s,a,o,l,u,h,p,g;for(e.pos=this.offset,e.readShort(),r=e.readShort(),o=e.readShort(),n=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(l={},s=h=0,p=n.length;h<p;s=++h)i=n[s],e.pos=i.offset,u=e.readString(i.length),a=new CO(u,i),l[g=i.nameID]==null&&(l[g]=[]),l[i.nameID].push(a);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),PO=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Cs(t,as),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),OO=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Cs(t,as),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,i,s,a,o,l;for(e.pos=this.offset,this.metrics=[],r=0,o=this.file.hhea.numberOfMetrics;0<=o?r<o:r>o;r=0<=o?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,h;for(h=[],r=u=0;0<=i?u<i:u>i;r=0<=i?++u:--u)h.push(e.readInt16());return h}(),this.widths=(function(){var u,h,p,g;for(g=[],u=0,h=(p=this.metrics).length;u<h;u++)s=p[u],g.push(s.advance);return g}).call(this),n=this.widths[this.widths.length-1],l=[],r=a=0;0<=i?a<i:a>i;r=0<=i?++a:--a)l.push(this.widths.push(n));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),mS=[].slice,TO=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Cs(t,as),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,i,s,a,o,l,u,h,p;return e in this.cache?this.cache[e]:(s=this.file.loca,r=this.file.contents,n=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,a=(o=new Eo(r.read(i))).readShort(),u=o.readShort(),p=o.readShort(),l=o.readShort(),h=o.readShort(),this.cache[e]=a===-1?new IO(o,u,p,l,h):new RO(o,a,u,p,l,h),this.cache[e]))},t.prototype.encode=function(e,r,n){var i,s,a,o,l;for(a=[],s=[],o=0,l=r.length;o<l;o++)i=e[r[o]],s.push(a.length),i&&(a=a.concat(i.encode(n)));return s.push(a.length),{table:a,offsets:s}},t}(),RO=function(){function t(e,r,n,i,s,a){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),IO=function(){function t(e,r,n,i,s){var a,o;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new Eo(mS.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),FO=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Cs(t,as),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=4)s.push(e.readUInt32());return s}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),i=0,s=0,a=0;a<n.length;++a)if(n[a]=i,s<r.length&&r[s]==a){++s,n[a]=i;var o=this.offsets[a],l=this.offsets[a+1]-o;l>0&&(i+=l)}for(var u=new Array(4*n.length),h=0;h<n.length;++h)u[4*h+3]=255&n[h],u[4*h+2]=(65280&n[h])>>8,u[4*h+1]=(16711680&n[h])>>16,u[4*h]=(4278190080&n[h])>>24;return u},t}(),DO=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,i,s;for(r in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)n=s[r],e[r]=i[n];return e},t.prototype.glyphsFor=function(e){var r,n,i,s,a,o,l;for(i={},a=0,o=e.length;a<o;a++)i[s=e[a]]=this.font.glyf.glyphFor(s);for(s in r=[],i)(n=i[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in l=this.glyphsFor(r))n=l[s],i[s]=n;return i},t.prototype.encode=function(e,r){var n,i,s,a,o,l,u,h,p,g,d,b,x,N,w;for(i in n=gS.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),d={0:0},w=n.charMap)d[(l=w[i]).old]=l.new;for(b in g=n.maxGlyphID,a)b in d||(d[b]=g++);return h=function(S){var k,A;for(k in A={},S)A[S[k]]=k;return A}(d),p=Object.keys(h).sort(function(S,k){return S-k}),x=function(){var S,k,A;for(A=[],S=0,k=p.length;S<k;S++)o=p[S],A.push(h[o]);return A}(),s=this.font.glyf.encode(a,x,d),u=this.font.loca.encode(s.offsets,x),N={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(N["OS/2"]=this.font.os2.raw()),this.font.directory.encode(N)},t}();tt.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,i,s,a;if(Array.isArray(r))return"["+function(){var o,l,u;for(u=[],o=0,l=r.length;o<l;o++)n=r[o],u.push(e.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in s=["<<"],r)a=r[i],s.push("/"+i+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+r},e}();function vS(t,e,r,n,i){n=n||{};var s=1.15,a=i.internal.scaleFactor,o=i.internal.getFontSize()/a,l=i.getLineHeightFactor?i.getLineHeightFactor():s,u=o*l,h=/\r\n|\r|\n/g,p="",g=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(p=typeof t=="string"?t.split(h):t,g=p.length||1),r+=o*(2-s),n.valign==="middle"?r-=g/2*u:n.valign==="bottom"&&(r-=g*u),n.halign==="center"||n.halign==="right"){var d=o;if(n.halign==="center"&&(d*=.5),p&&g>=1){for(var b=0;b<p.length;b++)i.text(p[b],e-i.getStringUnitWidth(p[b])*d,r),r+=u;return i}e-=i.getStringUnitWidth(t)*d}return n.halign==="justify"?i.text(t,e,r,{maxWidth:n.maxWidth||100,align:"justify"}):i.text(t,e,r),i}var tb={},Ru=function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=e:tb=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,r){var n,i,s;r===void 0&&(r=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var a=this.jsPDFDocument.internal.getFont(),o=a.fontStyle,l=a.fontName;if(e.font&&(l=e.font),e.fontStyle){o=e.fontStyle;var u=this.getFontList()[l];u&&u.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),o=u[0])}if(this.jsPDFDocument.setFont(l,o),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!r){var h=t.unifyColor(e.fillColor);h&&(n=this.jsPDFDocument).setFillColor.apply(n,h),h=t.unifyColor(e.textColor),h&&(i=this.jsPDFDocument).setTextColor.apply(i,h),h=t.unifyColor(e.lineColor),h&&(s=this.jsPDFDocument).setDrawColor.apply(s,h),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,r,n){return this.jsPDFDocument.splitTextToSize(e,r,n)},t.prototype.rect=function(e,r,n,i,s){return this.jsPDFDocument.rect(e,r,n,i,s)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return tb||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}(),E1=function(t,e){return E1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},E1(t,e)};function yS(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");E1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var wS=function(t){yS(e,t);function e(r){var n=t.call(this)||this;return n._element=r,n}return e}(Array);function MO(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function BO(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function kp(t,e,r){r.applyStyles(e,!0);var n=Array.isArray(t)?t:[t],i=n.map(function(s){return r.getTextWidth(s)}).reduce(function(s,a){return Math.max(s,a)},0);return i}function bS(t,e,r,n){var i=e.settings.tableLineWidth,s=e.settings.tableLineColor;t.applyStyles({lineWidth:i,lineColor:s});var a=xS(i,!1);a&&t.rect(r.x,r.y,e.getWidth(t.pageSize().width),n.y-r.y,a)}function xS(t,e){var r=t>0,n=e||e===0;return r&&n?"DF":r?"S":n?"F":null}function Zp(t,e){var r,n,i,s;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(r=t.left)!==null&&r!==void 0?r:e,top:(n=t.top)!==null&&n!==void 0?n:e,right:(i=t.right)!==null&&i!==void 0?i:e,bottom:(s=t.bottom)!==null&&s!==void 0?s:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function _S(t,e){var r=Zp(e.settings.margin,0);return t.pageSize().width-(r.left+r.right)}function UO(t,e,r,n,i){var s={},a=1.3333333333333333,o=Dg(e,function(k){return i.getComputedStyle(k).backgroundColor});o!=null&&(s.fillColor=o);var l=Dg(e,function(k){return i.getComputedStyle(k).color});l!=null&&(s.textColor=l);var u=$O(n,r);u&&(s.cellPadding=u);var h="borderTopColor",p=a*r,g=n.borderTopWidth;if(n.borderBottomWidth===g&&n.borderRightWidth===g&&n.borderLeftWidth===g){var d=(parseFloat(g)||0)/p;d&&(s.lineWidth=d)}else s.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/p,right:(parseFloat(n.borderRightWidth)||0)/p,bottom:(parseFloat(n.borderBottomWidth)||0)/p,left:(parseFloat(n.borderLeftWidth)||0)/p},s.lineWidth.top||(s.lineWidth.right?h="borderRightColor":s.lineWidth.bottom?h="borderBottomColor":s.lineWidth.left&&(h="borderLeftColor"));var b=Dg(e,function(k){return i.getComputedStyle(k)[h]});b!=null&&(s.lineColor=b);var x=["left","right","center","justify"];x.indexOf(n.textAlign)!==-1&&(s.halign=n.textAlign),x=["middle","bottom","top"],x.indexOf(n.verticalAlign)!==-1&&(s.valign=n.verticalAlign);var N=parseInt(n.fontSize||"");isNaN(N)||(s.fontSize=N/a);var w=zO(n);w&&(s.fontStyle=w);var S=(n.fontFamily||"").toLowerCase();return t.indexOf(S)!==-1&&(s.font=S),s}function zO(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function Dg(t,e){var r=SS(t,e);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var i=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],s=parseInt(n[4]);return s===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function SS(t,e){var r=e(t);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?t.parentElement==null?null:SS(t.parentElement,e):r}function $O(t,e){var r=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],n=96/(72/e),i=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,s=r.map(function(o){return parseInt(o||"0")/n}),a=Zp(s,0);return i>a.top&&(a.top=i),i>a.bottom&&(a.bottom=i),a}function kS(t,e,r,n,i){var s,a;n===void 0&&(n=!1),i===void 0&&(i=!1);var o;typeof e=="string"?o=r.document.querySelector(e):o=e;var l=Object.keys(t.getFontList()),u=t.scaleFactor(),h=[],p=[],g=[];if(!o)return console.error("Html table could not be found with input: ",e),{head:h,body:p,foot:g};for(var d=0;d<o.rows.length;d++){var b=o.rows[d],x=(a=(s=b==null?void 0:b.parentElement)===null||s===void 0?void 0:s.tagName)===null||a===void 0?void 0:a.toLowerCase(),N=qO(l,u,r,b,n,i);N&&(x==="thead"?h.push(N):x==="tfoot"?g.push(N):p.push(N))}return{head:h,body:p,foot:g}}function qO(t,e,r,n,i,s){for(var a=new wS(n),o=0;o<n.cells.length;o++){var l=n.cells[o],u=r.getComputedStyle(l);if(i||u.display!=="none"){var h=void 0;s&&(h=UO(t,l,e,u,r)),a.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:h,_element:l,content:WO(l)})}}var p=r.getComputedStyle(n);if(a.length>0&&(i||p.display!=="none"))return a}function WO(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),e.innerText||e.textContent||""}function HO(t,e,r){for(var n=0,i=[t,e,r];n<i.length;n++){var s=i[n];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function ha(t,e,r,n,i){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(t),a=1;a<arguments.length;a++){var o=arguments[a];if(o!=null)for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(s[l]=o[l])}return s}function NS(t,e){var r=new Ru(t),n=r.getDocumentOptions(),i=r.getGlobalOptions();HO(i,n,e);var s=ha({},i,n,e),a;typeof window<"u"&&(a=window);var o=VO(i,n,e),l=GO(i,n,e),u=KO(r,s),h=QO(r,s,a);return{id:e.tableId,content:h,hooks:l,styles:o,settings:u}}function VO(t,e,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(l){if(l==="columnStyles"){var u=t[l],h=e[l],p=r[l];n.columnStyles=ha({},u,h,p)}else{var g=[t,e,r],d=g.map(function(b){return b[l]||{}});n[l]=ha({},d[0],d[1],d[2])}},s=0,a=Object.keys(n);s<a.length;s++){var o=a[s];i(o)}return n}function GO(t,e,r){for(var n=[t,e,r],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,a=n;s<a.length;s++){var o=a[s];o.didParseCell&&i.didParseCell.push(o.didParseCell),o.willDrawCell&&i.willDrawCell.push(o.willDrawCell),o.didDrawCell&&i.didDrawCell.push(o.didDrawCell),o.willDrawPage&&i.willDrawPage.push(o.willDrawPage),o.didDrawPage&&i.didDrawPage.push(o.didDrawPage)}return i}function KO(t,e){var r,n,i,s,a,o,l,u,h,p,g,d,b=Zp(e.margin,40/t.scaleFactor()),x=(r=JO(t,e.startY))!==null&&r!==void 0?r:b.top,N;e.showFoot===!0?N="everyPage":e.showFoot===!1?N="never":N=(n=e.showFoot)!==null&&n!==void 0?n:"everyPage";var w;e.showHead===!0?w="everyPage":e.showHead===!1?w="never":w=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var S=(s=e.useCss)!==null&&s!==void 0?s:!1,k=e.theme||(S?"plain":"striped"),A=!!e.horizontalPageBreak,q=(a=e.horizontalPageBreakRepeat)!==null&&a!==void 0?a:null;return{includeHiddenHtml:(o=e.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:S,theme:k,startY:x,margin:b,pageBreak:(l=e.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(u=e.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(h=e.tableWidth)!==null&&h!==void 0?h:"auto",showHead:w,showFoot:N,tableLineWidth:(p=e.tableLineWidth)!==null&&p!==void 0?p:0,tableLineColor:(g=e.tableLineColor)!==null&&g!==void 0?g:200,horizontalPageBreak:A,horizontalPageBreakRepeat:q,horizontalPageBreakBehaviour:(d=e.horizontalPageBreakBehaviour)!==null&&d!==void 0?d:"afterAllRows"}}function JO(t,e){var r=t.getLastAutoTable(),n=t.scaleFactor(),i=t.pageNumber(),s=!1;if(r&&r.startPageNumber){var a=r.startPageNumber+r.pageNumber-1;s=a===i}return typeof e=="number"?e:(e==null||e===!1)&&s&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function QO(t,e,r){var n=e.head||[],i=e.body||[],s=e.foot||[];if(e.html){var a=e.includeHiddenHtml;if(r){var o=kS(t,e.html,r,a,e.useCss)||{};n=o.head||n,i=o.body||n,s=o.foot||n}else console.error("Cannot parse html in non browser environment")}var l=e.columns||YO(n,i,s);return{columns:l,head:n,body:i,foot:s}}function YO(t,e,r){var n=t[0]||e[0]||r[0]||[],i=[];return Object.keys(n).filter(function(s){return s!=="_element"}).forEach(function(s){var a=1,o;Array.isArray(n)?o=n[parseInt(s)]:o=n[s],typeof o=="object"&&!Array.isArray(o)&&(a=(o==null?void 0:o.colSpan)||1);for(var l=0;l<a;l++){var u=void 0;Array.isArray(n)?u=i.length:u=s+(l>0?"_".concat(l):"");var h={dataKey:u};i.push(h)}}),i}var j1=function(){function t(e,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=e.getDocument()}return t}(),XO=function(t){yS(e,t);function e(r,n,i,s,a,o){var l=t.call(this,r,n,o)||this;return l.cell=i,l.row=s,l.column=a,l.section=s.section,l}return e}(j1),ZO=function(){function t(e,r){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,r,n,i,s,a){for(var o=0,l=r;o<l.length;o++){var u=l[o],h=new XO(e,this,n,i,s,a),p=u(h)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],p)return!1}return!0},t.prototype.callEndPageHooks=function(e,r){e.applyStyles(e.userStyles);for(var n=0,i=this.hooks.didDrawPage;n<i.length;n++){var s=i[n];s(new j1(e,this,r))}},t.prototype.callWillDrawPageHooks=function(e,r){for(var n=0,i=this.hooks.willDrawPage;n<i.length;n++){var s=i[n];s(new j1(e,this,r))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(i,s){return i+s.wrappedWidth},0);return r}else{var n=this.settings.margin;return e-n.left-n.right}},t}(),AS=function(){function t(e,r,n,i,s){s===void 0&&(s=!1),this.height=0,this.raw=e,e instanceof wS&&(this.raw=e._element,this.element=e._element),this.index=r,this.section=n,this.cells=i,this.spansMultiplePages=s}return t.prototype.getMaxCellHeight=function(e){var r=this;return e.reduce(function(n,i){var s;return Math.max(n,((s=r.cells[i.index])===null||s===void 0?void 0:s.height)||0)},0)},t.prototype.hasRowSpan=function(e){var r=this;return e.filter(function(n){var i=r.cells[n.index];return i?i.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,r){return this.getMaxCellHeight(r)<=e},t.prototype.getMinimumRowHeight=function(e,r){var n=this;return e.reduce(function(i,s){var a=n.cells[s.index];if(!a)return 0;var o=r.getLineHeight(a.styles.fontSize),l=a.padding("vertical"),u=l+o;return u>i?u:i},0)},t}(),ES=function(){function t(e,r,n){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=e;var s=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,s=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var a=s!=null?""+s:"",o=/\r\n|\r|\n/g;this.text=a.split(o)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");e=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");n=this.x+i/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:e}},t.prototype.getContentHeight=function(e,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*r,s=n*i+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},t.prototype.padding=function(e){var r=Zp(this.styles.cellPadding,0);return e==="vertical"?r.top+r.bottom:e==="horizontal"?r.left+r.right:r[e]},t}(),eT=function(){function t(e,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=r,this.index=n}return t.prototype.getMaxCustomCellWidth=function(e){for(var r=0,n=0,i=e.allRows();n<i.length;n++){var s=i[n],a=s.cells[this.index];a&&typeof a.styles.cellWidth=="number"&&(r=Math.max(r,a.styles.cellWidth))}return r},t}();function tT(t,e){rT(t,e);var r=[],n=0;e.columns.forEach(function(s){var a=s.getMaxCustomCellWidth(e);a?s.width=a:(s.width=s.wrappedWidth,r.push(s)),n+=s.width});var i=e.getWidth(t.pageSize().width)-n;i&&(i=C1(r,i,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),i&&(i=C1(r,i,function(s){return s.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/t.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),iT(e),sT(e,t),nT(e)}function rT(t,e){var r=t.scaleFactor(),n=e.settings.horizontalPageBreak,i=_S(t,e);e.allRows().forEach(function(s){for(var a=0,o=e.columns;a<o.length;a++){var l=o[a],u=s.cells[l.index];if(u){var h=e.hooks.didParseCell;e.callCellHooks(t,h,u,s,l,null);var p=u.padding("horizontal");u.contentWidth=kp(u.text,u.styles,t)+p;var g=kp(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,t);if(u.minReadableWidth=g+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||n===!0)u.contentWidth>i?(u.minWidth=i,u.wrappedWidth=i):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var d=10/r;u.minWidth=u.styles.minCellWidth||d,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),e.allRows().forEach(function(s){for(var a=0,o=e.columns;a<o.length;a++){var l=o[a],u=s.cells[l.index];if(u&&u.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,u.wrappedWidth),l.minWidth=Math.max(l.minWidth,u.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,u.minReadableWidth);else{var h=e.styles.columnStyles[l.dataKey]||e.styles.columnStyles[l.index]||{},p=h.cellWidth||h.minCellWidth;p&&typeof p=="number"&&(l.minWidth=p,l.wrappedWidth=p)}u&&(u.colSpan>1&&!l.minWidth&&(l.minWidth=u.minWidth),u.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=u.minWidth))}})}function C1(t,e,r){for(var n=e,i=t.reduce(function(d,b){return d+b.wrappedWidth},0),s=0;s<t.length;s++){var a=t[s],o=a.wrappedWidth/i,l=n*o,u=a.width+l,h=r(a),p=u<h?h:u;e-=p-a.width,a.width=p}if(e=Math.round(e*1e10)/1e10,e){var g=t.filter(function(d){return e<0?d.width>r(d):!0});g.length&&(e=C1(g,e,r))}return e}function nT(t){for(var e={},r=1,n=t.allRows(),i=0;i<n.length;i++)for(var s=n[i],a=0,o=t.columns;a<o.length;a++){var l=o[a],u=e[l.index];if(r>1)r--,delete s.cells[l.index];else if(u)u.cell.height+=s.height,r=u.cell.colSpan,delete s.cells[l.index],u.left--,u.left<=1&&delete e[l.index];else{var h=s.cells[l.index];if(!h)continue;if(h.height=s.height,h.rowSpan>1){var p=n.length-i,g=h.rowSpan>p?p:h.rowSpan;e[l.index]={cell:h,left:g,row:s}}}}}function iT(t){for(var e=t.allRows(),r=0;r<e.length;r++)for(var n=e[r],i=null,s=0,a=0,o=0;o<t.columns.length;o++){var l=t.columns[o];if(a-=1,a>1&&t.columns[o+1])s+=l.width,delete n.cells[l.index];else if(i){var u=i;delete n.cells[l.index],i=null,u.width=l.width+s}else{var u=n.cells[l.index];if(!u)continue;if(a=u.colSpan,s=0,u.colSpan>1){i=u,s+=l.width;continue}u.width=l.width+s}}}function sT(t,e){for(var r={count:0,height:0},n=0,i=t.allRows();n<i.length;n++){for(var s=i[n],a=0,o=t.columns;a<o.length;a++){var l=o[a],u=s.cells[l.index];if(u){e.applyStyles(u.styles,!0);var h=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=e.splitTextToSize(u.text,h+1/e.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=rb(u.text,h,u.styles,e,"...");else if(u.styles.overflow==="hidden")u.text=rb(u.text,h,u.styles,e,"");else if(typeof u.styles.overflow=="function"){var p=u.styles.overflow(u.text,h);typeof p=="string"?u.text=[p]:u.text=p}u.contentHeight=u.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var g=u.contentHeight/u.rowSpan;u.rowSpan>1&&r.count*r.height<g*u.rowSpan?r={height:g,count:u.rowSpan}:r&&r.count>0&&r.height>g&&(g=r.height),g>s.height&&(s.height=g)}}r.count--}}function rb(t,e,r,n,i){return t.map(function(s){return aT(s,e,r,n,i)})}function aT(t,e,r,n,i){var s=1e4*n.scaleFactor();if(e=Math.ceil(e*s)/s,e>=kp(t,r,n))return t;for(;e<kp(t+i,r,n)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+i}function jS(t,e){var r=new Ru(t),n=oT(e,r.scaleFactor()),i=new ZO(e,n);return tT(r,i),r.applyStyles(r.userStyles),i}function oT(t,e){var r=t.content,n=uT(r.columns);if(r.head.length===0){var i=nb(n,"head");i&&r.head.push(i)}if(r.foot.length===0){var i=nb(n,"foot");i&&r.foot.push(i)}var s=t.settings.theme,a=t.styles;return{columns:n,head:Mg("head",r.head,n,a,s,e),body:Mg("body",r.body,n,a,s,e),foot:Mg("foot",r.foot,n,a,s,e)}}function Mg(t,e,r,n,i,s){var a={},o=e.map(function(l,u){for(var h=0,p={},g=0,d=0,b=0,x=r;b<x.length;b++){var N=x[b];if(a[N.index]==null||a[N.index].left===0)if(d===0){var w=void 0;Array.isArray(l)?w=l[N.index-g-h]:w=l[N.dataKey];var S={};typeof w=="object"&&!Array.isArray(w)&&(S=(w==null?void 0:w.styles)||{});var k=cT(t,N,u,i,n,s,S),A=new ES(w,k,t);p[N.dataKey]=A,p[N.index]=A,d=A.colSpan-1,a[N.index]={left:A.rowSpan-1,times:d}}else d--,g++;else a[N.index].left--,d=a[N.index].times,h++}return new AS(l,u,t,p)});return o}function nb(t,e){var r={};return t.forEach(function(n){if(n.raw!=null){var i=lT(e,n.raw);i!=null&&(r[n.dataKey]=i)}}),Object.keys(r).length>0?r:null}function lT(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function uT(t){return t.map(function(e,r){var n,i;return typeof e=="object"?i=(n=e.dataKey)!==null&&n!==void 0?n:r:i=r,new eT(i,e,r)})}function cT(t,e,r,n,i,s,a){var o=BO(n),l;t==="head"?l=i.headStyles:t==="body"?l=i.bodyStyles:t==="foot"&&(l=i.footStyles);var u=ha({},o.table,o[t],i.styles,l),h=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},p=t==="body"?h:{},g=t==="body"&&r%2===0?ha({},o.alternateRow,i.alternateRowStyles):{},d=MO(s),b=ha({},d,u,g,p);return ha(b,a)}function hT(t,e,r){var n;r===void 0&&(r={});var i=_S(t,e),s=new Map,a=[],o=[],l=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?l=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(l=[e.settings.horizontalPageBreakRepeat]),l.forEach(function(g){var d=e.columns.find(function(b){return b.dataKey===g||b.index===g});d&&!s.has(d.index)&&(s.set(d.index,!0),a.push(d.index),o.push(e.columns[d.index]),i-=d.wrappedWidth)});for(var u=!0,h=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;h<e.columns.length;){if(s.has(h)){h++;continue}var p=e.columns[h].wrappedWidth;if(u||i>=p)u=!1,a.push(h),o.push(e.columns[h]),i-=p;else break;h++}return{colIndexes:a,columns:o,lastIndex:h-1}}function dT(t,e){for(var r=[],n=0;n<e.columns.length;n++){var i=hT(t,e,{start:n});i.columns.length&&(r.push(i),n=i.lastIndex)}return r}function CS(t,e){var r=e.settings,n=r.startY,i=r.margin,s={x:i.left,y:n},a=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),o=n+i.bottom+a;if(r.pageBreak==="avoid"){var l=e.body,u=l.reduce(function(g,d){return g+d.height},0);o+=u}var h=new Ru(t);(r.pageBreak==="always"||r.startY!=null&&o>h.pageSize().height)&&(PS(h),s.y=i.top),e.callWillDrawPageHooks(h,s);var p=ha({},s);e.startPageNumber=h.pageNumber(),r.horizontalPageBreak?fT(h,e,p,s):(h.applyStyles(h.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&e.head.forEach(function(g){return wa(h,e,g,s,e.columns)}),h.applyStyles(h.userStyles),e.body.forEach(function(g,d){var b=d===e.body.length-1;Np(h,e,g,b,p,s,e.columns)}),h.applyStyles(h.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&e.foot.forEach(function(g){return wa(h,e,g,s,e.columns)})),bS(h,e,p,s),e.callEndPageHooks(h,s),e.finalY=s.y,t.lastAutoTable=e,h.applyStyles(h.userStyles)}function fT(t,e,r,n){var i=dT(t,e),s=e.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(u,h){t.applyStyles(t.userStyles),h>0?vh(t,e,r,n,u.columns,!0):ib(t,e,n,u.columns),pT(t,e,r,n,u.columns),Bg(t,e,n,u.columns)});else for(var a=-1,o=i[0],l=function(){var u=a;if(o){t.applyStyles(t.userStyles);var h=o.columns;a>=0?vh(t,e,r,n,h,!0):ib(t,e,n,h),u=sb(t,e,a+1,n,h),Bg(t,e,n,h)}var p=u-a;i.slice(1).forEach(function(g){t.applyStyles(t.userStyles),vh(t,e,r,n,g.columns,!0),sb(t,e,a+1,n,g.columns,p),Bg(t,e,n,g.columns)}),a=u};a<e.body.length-1;)l()}function ib(t,e,r,n){var i=e.settings;t.applyStyles(t.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(s){return wa(t,e,s,r,n)})}function pT(t,e,r,n,i){t.applyStyles(t.userStyles),e.body.forEach(function(s,a){var o=a===e.body.length-1;Np(t,e,s,o,r,n,i)})}function sb(t,e,r,n,i,s){t.applyStyles(t.userStyles),s=s??e.body.length;var a=Math.min(r+s,e.body.length),o=-1;return e.body.slice(r,a).forEach(function(l,u){var h=r+u===e.body.length-1,p=LS(t,e,h,n);l.canEntireRowFit(p,i)&&(wa(t,e,l,n,i),o=r+u)}),o}function Bg(t,e,r,n){var i=e.settings;t.applyStyles(t.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(s){return wa(t,e,s,r,n)})}function gT(t,e,r){var n=r.getLineHeight(t.styles.fontSize),i=t.padding("vertical"),s=Math.floor((e-i)/n);return Math.max(0,s)}function mT(t,e,r,n){var i={};t.spansMultiplePages=!0,t.height=0;for(var s=0,a=0,o=r.columns;a<o.length;a++){var l=o[a],u=t.cells[l.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var h=new ES(u.raw,u.styles,u.section);h=ha(h,u),h.text=[];var p=gT(u,e,n);u.text.length>p&&(h.text=u.text.splice(p,u.text.length));var g=n.scaleFactor(),d=n.getLineHeightFactor();u.contentHeight=u.getContentHeight(g,d),u.contentHeight>=e&&(u.contentHeight=e,h.styles.minCellHeight-=e),u.contentHeight>t.height&&(t.height=u.contentHeight),h.contentHeight=h.getContentHeight(g,d),h.contentHeight>s&&(s=h.contentHeight),i[l.index]=h}}var b=new AS(t.raw,-1,t.section,i,!0);b.height=s;for(var x=0,N=r.columns;x<N.length;x++){var l=N[x],h=b.cells[l.index];h&&(h.height=b.height);var u=t.cells[l.index];u&&(u.height=t.height)}return b}function vT(t,e,r,n){var i=t.pageSize().height,s=n.settings.margin,a=s.top+s.bottom,o=i-a;e.section==="body"&&(o-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var l=e.getMinimumRowHeight(n.columns,t),u=l<r;if(l>o)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var h=e.hasRowSpan(n.columns),p=e.getMaxCellHeight(n.columns)>o;return p?(h&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(h||n.settings.rowPageBreak==="avoid")}function Np(t,e,r,n,i,s,a){var o=LS(t,e,n,s);if(r.canEntireRowFit(o,a))wa(t,e,r,s,a);else if(vT(t,r,o,e)){var l=mT(r,o,e,t);wa(t,e,r,s,a),vh(t,e,i,s,a),Np(t,e,l,n,i,s,a)}else vh(t,e,i,s,a),Np(t,e,r,n,i,s,a)}function wa(t,e,r,n,i){n.x=e.settings.margin.left;for(var s=0,a=i;s<a.length;s++){var o=a[s],l=r.cells[o.index];if(!l){n.x+=o.width;continue}t.applyStyles(l.styles),l.x=n.x,l.y=n.y;var u=e.callCellHooks(t,e.hooks.willDrawCell,l,r,o,n);if(u===!1){n.x+=o.width;continue}yT(t,l,n);var h=l.getTextPos();vS(l.text,h.x,h.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,l,r,o,n),n.x+=o.width}n.y+=r.height}function yT(t,e,r){var n=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof n.lineWidth=="number"){var i=xS(n.lineWidth,n.fillColor);i&&t.rect(e.x,r.y,e.width,e.height,i)}else typeof n.lineWidth=="object"&&(n.fillColor&&t.rect(e.x,r.y,e.width,e.height,"F"),wT(t,e,r,n.lineWidth))}function wT(t,e,r,n){var i,s,a,o;n.top&&(i=r.x,s=r.y,a=r.x+e.width,o=r.y,n.right&&(a+=.5*n.right),n.left&&(i-=.5*n.left),l(n.top,i,s,a,o)),n.bottom&&(i=r.x,s=r.y+e.height,a=r.x+e.width,o=r.y+e.height,n.right&&(a+=.5*n.right),n.left&&(i-=.5*n.left),l(n.bottom,i,s,a,o)),n.left&&(i=r.x,s=r.y,a=r.x,o=r.y+e.height,n.top&&(s-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.left,i,s,a,o)),n.right&&(i=r.x+e.width,s=r.y,a=r.x+e.width,o=r.y+e.height,n.top&&(s-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.right,i,s,a,o));function l(u,h,p,g,d){t.getDocument().setLineWidth(u),t.getDocument().line(h,p,g,d,"S")}}function LS(t,e,r,n){var i=e.settings.margin.bottom,s=e.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&r)&&(i+=e.getFootHeight(e.columns)),t.pageSize().height-n.y-i}function vh(t,e,r,n,i,s){i===void 0&&(i=[]),s===void 0&&(s=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!s&&e.foot.forEach(function(o){return wa(t,e,o,n,i)}),e.callEndPageHooks(t,n);var a=e.settings.margin;bS(t,e,r,n),PS(t),e.pageNumber++,n.x=a.left,n.y=a.top,r.y=a.top,e.callWillDrawPageHooks(t,n),e.settings.showHead==="everyPage"&&(e.head.forEach(function(o){return wa(t,e,o,n,i)}),t.applyStyles(t.userStyles))}function PS(t){var e=t.pageNumber();t.setPage(e+1);var r=t.pageNumber();return r===e?(t.addPage(),!0):!1}function bT(t){t.API.autoTable=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=e[0],i=NS(this,n),s=jS(this,i);return CS(this,s),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,r,n,i){vS(e,r,n,i,this)},t.API.autoTableSetDefaults=function(e){return Ru.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,r){Ru.setDefaults(e,r)},t.API.autoTableHtmlToJson=function(e,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new Ru(this),s=kS(i,e,window,r,!1),a=s.head,o=s.body,l=((n=a[0])===null||n===void 0?void 0:n.map(function(u){return u.content}))||[];return{columns:l,rows:o,data:o}}}var Ug;function zg(t,e){var r=NS(t,e),n=jS(t,r);CS(t,n)}try{if(typeof window<"u"&&window){var ab=window,ob=ab.jsPDF||((Ug=ab.jspdf)===null||Ug===void 0?void 0:Ug.jsPDF);ob&&bT(ob)}}catch(t){console.error("Could not apply autoTable plugin",t)}function lb(t){if(t==null)return"";const e=String(t);return e.includes(",")||e.includes('"')||e.includes(`
`)?`"${e.replace(/"/g,'""')}"`:e}function xT(t,e){const r=e.map(i=>lb(i.label)).join(";"),n=t.map(i=>e.map(s=>lb(i[s.key])).join(";"));return[r,...n].join(`
`)}function _T(t,e,r){const n=new Blob(["\uFEFF"+t],{type:`${r};charset=utf-8`}),i=URL.createObjectURL(n),s=document.createElement("a");s.href=i,s.download=e,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(i)}function ST(t,e,r){const n=xT(t,e);_T(n,r,"text/csv")}function ub(t){if(!t)return"";const e=new Date(t);return Number.isNaN(e.getTime())?"":e.toLocaleDateString("de-DE")}function cl(t){return t==null?"":new Intl.NumberFormat("de-DE",{minimumFractionDigits:2,maximumFractionDigits:2}).format(t)}function kT(t){var u;const e=new tt,r=e.internal.pageSize.getWidth();e.setFontSize(20),e.setTextColor(25,63,112),e.text("EventHub Kostenreport",14,20),e.setFontSize(10),e.setTextColor(100),e.text(`Erstellt am: ${t.generatedAt}`,14,28),e.text(t.filterInfo,14,34),e.setFillColor(241,245,249),e.roundedRect(14,40,r-28,20,3,3,"F"),e.setFontSize(11),e.setTextColor(30,41,59),e.text(`${t.summary.totalEvents} Events`,20,50),e.text(`${t.summary.totalParticipants} Teilnahmen`,70,50),e.setFontSize(14),e.setTextColor(25,63,112);const n=new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR"}).format(t.summary.totalCost);e.text(n,r-14,52,{align:"right"}),e.setFontSize(12),e.setTextColor(30,41,59),e.text("Events",14,72),zg(e,{startY:76,head:[["Event","Datum","Veranstalter","TN","Gesamt","/TN"]],body:t.events.map(h=>[h.title.length>30?h.title.substring(0,30)+"":h.title,h.date,h.organizer.length>15?h.organizer.substring(0,15)+"":h.organizer,h.participants.toString(),cl(h.totalCost)+" ",h.participants>0?cl(h.costPerParticipant)+" ":""]),styles:{fontSize:8,cellPadding:2},headStyles:{fillColor:[52,134,239],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[248,250,252]},columnStyles:{0:{cellWidth:50},3:{halign:"right"},4:{halign:"right"},5:{halign:"right"}}});const i=((u=e.lastAutoTable)==null?void 0:u.finalY)??150;i>220&&e.addPage();const s=i>220?20:i+15,a=(r-28)/2-5;e.setFontSize(10),e.setTextColor(100),e.text("Nach Veranstalter",14,s),zg(e,{startY:s+4,head:[["Veranstalter","Summe"]],body:t.byOrganizer.slice(0,8).map(h=>[h.organizer,cl(h.sum)+" "]),styles:{fontSize:8},headStyles:{fillColor:[100,116,139],textColor:255},tableWidth:a,margin:{left:14},columnStyles:{1:{halign:"right"}}}),e.text("Nach Monat",r/2+5,s),zg(e,{startY:s+4,head:[["Monat","Summe"]],body:t.byMonth.slice(0,8).map(h=>[h.month,cl(h.sum)+" "]),styles:{fontSize:8},headStyles:{fillColor:[100,116,139],textColor:255},tableWidth:a,margin:{left:r/2+5},columnStyles:{1:{halign:"right"}}});const o=e.getNumberOfPages();for(let h=1;h<=o;h++)e.setPage(h),e.setFontSize(8),e.setTextColor(150),e.text(`EventHub  Seite ${h} von ${o}`,r/2,e.internal.pageSize.getHeight()-10,{align:"center"});const l=new Date().toISOString().slice(0,10);e.save(`eventhub-kostenreport-${l}.pdf`)}function Ln(t){const e=typeof t=="number"?t:0;return new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR",minimumFractionDigits:2}).format(e)}function NT(t){return t>=1e3?`${(t/1e3).toFixed(1).replace(".",",")}k `:Ln(t)}function AT({data:t,maxValue:e}){return t.length*32-8,v.jsx("div",{className:"space-y-1",children:t.map((i,s)=>{const a=e>0?i.value/e*100:0;return v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"w-16 truncate text-xs text-slate-500",children:i.label}),v.jsx("div",{className:"flex-1",children:v.jsx("div",{className:"h-5 overflow-hidden rounded-full bg-slate-100",children:v.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-brand to-brand/70 transition-all duration-500",style:{width:`${Math.max(a,2)}%`}})})}),v.jsx("div",{className:"w-16 text-right text-xs font-medium text-slate-700",children:NT(i.value)})]},s)})})}function ET({data:t}){const e=t.reduce((o,l)=>o+l.value,0);if(e===0)return null;let r=0;const n=120,i=n/2,s=45,a=t.map(o=>{const l=o.value/e*360,u=r;r+=l;const h=(u-90)*(Math.PI/180),p=(r-90)*(Math.PI/180),g=i+s*Math.cos(h),d=i+s*Math.sin(h),b=i+s*Math.cos(p),x=i+s*Math.sin(p),N=l>180?1:0,w=`M ${i} ${i} L ${g} ${d} A ${s} ${s} 0 ${N} 1 ${b} ${x} Z`;return{...o,path:w,percentage:(o.value/e*100).toFixed(0)}});return v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsxs("svg",{width:n,height:n,className:"shrink-0",children:[a.map((o,l)=>v.jsx("path",{d:o.path,fill:o.color,className:"transition-opacity hover:opacity-80"},l)),v.jsx("circle",{cx:i,cy:i,r:25,fill:"white"})]}),v.jsx("div",{className:"space-y-1",children:a.slice(0,5).map((o,l)=>v.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[v.jsx("div",{className:"h-2.5 w-2.5 rounded-full",style:{backgroundColor:o.color}}),v.jsx("span",{className:"truncate text-slate-600",children:o.label}),v.jsxs("span",{className:"font-medium text-slate-900",children:[o.percentage,"%"]})]},l))})]})}const cb=["#0ea5e9","#22c55e","#f59e0b","#ef4444","#8b5cf6","#06b6d4","#84cc16","#f97316","#ec4899","#6366f1"];function jT(){const t=Rl(),{data:e,isLoading:r,error:n}=GL(),i=e??[],[s,a]=ne.useState(null),[o,l]=ne.useState(null),[u,h]=ne.useState(null),p=new Set,g=new Set,d=new Set,b=new Set;i.forEach(G=>{if(G.start_date){const Ne=new Date(G.start_date);Number.isNaN(Ne.getTime())||p.add(Ne.getFullYear())}G.organizer&&g.add(G.organizer),G.city&&d.add(G.city),(G.colleagues??[]).forEach(Ne=>{Ne&&b.add(Ne)})});const x=Array.from(p).sort((G,Ne)=>Ne-G),N=Array.from(g).sort((G,Ne)=>G.localeCompare(Ne,"de-DE")),w=Array.from(d).sort((G,Ne)=>G.localeCompare(Ne,"de-DE")),S=Array.from(b).sort((G,Ne)=>G.localeCompare(Ne,"de-DE")),[k,A]=ne.useState("all"),[q,Y]=ne.useState("all"),[$,M]=ne.useState("all"),[F,V]=ne.useState("all"),[L,R]=ne.useState(""),[K,J]=ne.useState(""),[de,me]=ne.useState(""),[pe,Q]=ne.useState("all"),se=[k!=="all",q!=="all",$!=="all",F!=="all",L!=="",K!=="",de!=="",pe!=="all"].filter(Boolean).length,fe=i.filter(G=>{if(k!=="all"){if(!G.start_date)return!1;const Ne=new Date(G.start_date);if(Number.isNaN(Ne.getTime())||Ne.getFullYear()!==k)return!1}if(q!=="all"&&G.start_date){const Pe=new Date(G.start_date).getMonth();if(Math.floor(Pe/3)+1!==q)return!1}if($!=="all"&&G.cost_type!==$||L&&G.organizer!==L||K&&G.city!==K||de&&!(G.colleagues??[]).includes(de))return!1;if(F!=="all"){if(F==="booked"){if(G.status!=="attended"&&!G.booked)return!1}else if(F==="planned"){if(G.status!=="planned"||G.booked)return!1}else if(F==="cancelled"){if(G.status!=="cancelled")return!1}else if(F==="consider"&&G.status!=="consider")return!1}if(pe!=="all"){const Ne=G.total_cost??0;if(pe==="low"&&Ne>=500||pe==="medium"&&(Ne<500||Ne>=2e3)||pe==="high"&&Ne<2e3)return!1}return!0});function ge(){A("all"),Y("all"),M("all"),V("all"),R(""),J(""),me(""),Q("all")}const C=ne.useMemo(()=>{const G=fe.length,Ne=fe.reduce((qe,at)=>qe+(at.colleagues_count??0),0),Pe=fe.reduce((qe,at)=>qe+(at.total_cost??0),0),be=fe.filter(qe=>qe.cost_type==="participant").reduce((qe,at)=>qe+(at.total_cost??0),0),Je=fe.filter(qe=>qe.cost_type==="booth").reduce((qe,at)=>qe+(at.total_cost??0),0),Fe=G>0?Pe/G:0,Qe=Ne>0?Pe/Ne:0,Ve=G>0?Ne/G:0,Ct=fe.slice().sort((qe,at)=>(at.total_cost??0)-(qe.total_cost??0)).slice(0,5),ft=fe.slice().sort((qe,at)=>(at.colleagues_count??0)-(qe.colleagues_count??0)).slice(0,5);return{totalEvents:G,totalParticipants:Ne,totalCost:Pe,participantCosts:be,boothCosts:Je,avgCostPerEvent:Fe,avgCostPerParticipant:Qe,avgParticipantsPerEvent:Ve,topExpensiveEvents:Ct,topParticipantEvents:ft}},[fe]),{totalEvents:W,totalParticipants:H,totalCost:ee}=C,te=fe.slice().sort((G,Ne)=>{const Pe=G.start_date??"",be=Ne.start_date??"";return Pe&&be&&Pe!==be?Pe.localeCompare(be):G.title.localeCompare(Ne.title,"de-DE")}),ae=Array.from(fe.reduce((G,Ne)=>{if(!Ne.organizer)return G;const Pe=G.get(Ne.organizer)??0;return G.set(Ne.organizer,Pe+(Ne.total_cost??0))},new Map)).map(([G,Ne])=>({organizer:G,sum:Ne})).sort((G,Ne)=>Ne.sum-G.sum),ye=fe.reduce((G,Ne)=>{const Pe=Ne.start_date;if(!Pe)return G;const be=new Date(Pe);if(Number.isNaN(be.getTime()))return G;const Je=Pe.slice(0,7),Fe=G.get(Je),Qe=(Ne.total_cost??0)+((Fe==null?void 0:Fe.sum)??0),Ve=(Fe==null?void 0:Fe.date)??be;return G.set(Je,{sum:Qe,date:Ve}),G},new Map),ve=Array.from(ye.entries()).map(([G,Ne])=>({key:G,sum:Ne.sum,date:Ne.date})).sort((G,Ne)=>G.date.getTime()-Ne.date.getTime());function _e(){const G=fe.map(be=>({event:be.title,datum:ub(be.start_date),veranstalter:be.organizer??"",teilnehmer:be.colleagues_count??0,kostenart:be.cost_type==="participant"?"Teilnehmerkosten":"Messestandkosten",einzelpreis:cl(be.cost_value),gesamtkosten:cl(be.total_cost),kostenProTN:cl(be.cost_per_participant)})),Ne=[{key:"event",label:"Event"},{key:"datum",label:"Datum"},{key:"veranstalter",label:"Veranstalter"},{key:"teilnehmer",label:"Teilnehmer"},{key:"kostenart",label:"Kostenart"},{key:"einzelpreis",label:"Einzelpreis"},{key:"gesamtkosten",label:"Gesamtkosten"},{key:"kostenProTN",label:"/TN"}],Pe=new Date().toISOString().slice(0,10);ST(G,Ne,`eventhub-kosten-${Pe}.csv`)}function je(){const G=[k!=="all"?`Jahr: ${k}`:"Alle Jahre",$!=="all"?$==="participant"?"Teilnehmerkosten":"Messestandkosten":"Alle Kostenarten"].join("  "),Ne={generatedAt:new Date().toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),filterInfo:G,summary:{totalEvents:W,totalParticipants:H,totalCost:ee},events:te.map(Pe=>({title:Pe.title,date:ub(Pe.start_date),organizer:Pe.organizer??"",participants:Pe.colleagues_count??0,costType:Pe.cost_type==="participant"?"Teilnehmerkosten":"Messestandkosten",totalCost:Pe.total_cost??0,costPerParticipant:Pe.cost_per_participant??0})),byOrganizer:ae,byMonth:ve.map(Pe=>({month:Pe.date.toLocaleDateString("de-DE",{month:"long",year:"numeric"}),sum:Pe.sum}))};kT(Ne)}const Te=ve.slice(-6).map(G=>({label:G.date.toLocaleDateString("de-DE",{month:"short"}),value:G.sum})),Re=Math.max(...Te.map(G=>G.value),1),He=ae.slice(0,5).map((G,Ne)=>({label:G.organizer,value:G.sum,color:cb[Ne%cb.length]})),D=[{label:"Teilnehmerkosten",value:C.participantCosts,color:"#0ea5e9"},{label:"Messestandkosten",value:C.boothCosts,color:"#22c55e"}].filter(G=>G.value>0);return v.jsxs("div",{className:"flex min-h-0 flex-col space-y-4 overflow-y-auto",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-lg font-semibold text-slate-900",children:"Kosten & Teilnahmen"}),v.jsxs("p",{className:"text-sm text-slate-500",children:["Finanzbersicht  ",fe.length," von ",i.length," Events",se>0&&v.jsxs("span",{className:"ml-2 text-brand",children:["(",se," Filter aktiv)"]})]})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs("button",{type:"button",onClick:_e,disabled:fe.length===0,className:"flex h-8 items-center gap-1.5 rounded-full border border-slate-200 bg-white px-3 text-xs font-medium text-slate-700 shadow-sm transition-colors hover:bg-slate-50 disabled:opacity-50",children:[v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),v.jsx("polyline",{points:"7 10 12 15 17 10"}),v.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"CSV"]}),v.jsxs("button",{type:"button",onClick:je,disabled:fe.length===0,className:"flex h-8 items-center gap-1.5 rounded-full border border-rose-200 bg-white px-3 text-xs font-medium text-rose-600 shadow-sm transition-colors hover:bg-rose-50 disabled:opacity-50",children:[v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),v.jsx("polyline",{points:"14 2 14 8 20 8"})]}),"PDF"]})]})]}),v.jsxs("div",{className:"flex flex-wrap items-center gap-2 rounded-xl border border-slate-200 bg-slate-50 p-3",children:[v.jsx("span",{className:"mr-1 text-xs font-medium text-slate-500",children:"Filter:"}),v.jsxs("select",{className:`h-7 rounded-full border px-2.5 text-xs font-medium shadow-sm ${k!=="all"?"border-brand bg-brand/10 text-brand":"border-slate-200 bg-white text-slate-700"}`,value:k,onChange:G=>A(G.target.value==="all"?"all":Number(G.target.value)),children:[v.jsx("option",{value:"all",children:"Jahr"}),x.map(G=>v.jsx("option",{value:G,children:G},G))]}),v.jsxs("select",{className:`h-7 rounded-full border px-2.5 text-xs font-medium shadow-sm ${q!=="all"?"border-brand bg-brand/10 text-brand":"border-slate-200 bg-white text-slate-700"}`,value:q,onChange:G=>Y(G.target.value==="all"?"all":Number(G.target.value)),children:[v.jsx("option",{value:"all",children:"Quartal"}),v.jsx("option",{value:"1",children:"Q1 (Jan-Mr)"}),v.jsx("option",{value:"2",children:"Q2 (Apr-Jun)"}),v.jsx("option",{value:"3",children:"Q3 (Jul-Sep)"}),v.jsx("option",{value:"4",children:"Q4 (Okt-Dez)"})]}),v.jsxs("select",{className:`h-7 rounded-full border px-2.5 text-xs font-medium shadow-sm ${$!=="all"?"border-brand bg-brand/10 text-brand":"border-slate-200 bg-white text-slate-700"}`,value:$,onChange:G=>M(G.target.value),children:[v.jsx("option",{value:"all",children:"Kostenart"}),v.jsx("option",{value:"participant",children:"Teilnehmerkosten"}),v.jsx("option",{value:"booth",children:"Messestandkosten"})]}),v.jsxs("select",{className:`h-7 rounded-full border px-2.5 text-xs font-medium shadow-sm ${F!=="all"?F==="booked"?"border-emerald-300 bg-emerald-50 text-emerald-700":F==="cancelled"?"border-rose-300 bg-rose-50 text-rose-700":"border-brand bg-brand/10 text-brand":"border-slate-200 bg-white text-slate-700"}`,value:F,onChange:G=>V(G.target.value),children:[v.jsx("option",{value:"all",children:"Status"}),v.jsx("option",{value:"booked",children:"Gebucht"}),v.jsx("option",{value:"planned",children:"Geplant"}),v.jsx("option",{value:"consider",children:"Bewertung"}),v.jsx("option",{value:"cancelled",children:"Abgesagt"})]}),v.jsxs("select",{className:`h-7 max-w-[140px] truncate rounded-full border px-2.5 text-xs font-medium shadow-sm ${L?"border-brand bg-brand/10 text-brand":"border-slate-200 bg-white text-slate-700"}`,value:L,onChange:G=>R(G.target.value),children:[v.jsx("option",{value:"",children:"Veranstalter"}),N.map(G=>v.jsx("option",{value:G,children:G},G))]}),v.jsxs("select",{className:`h-7 max-w-[120px] truncate rounded-full border px-2.5 text-xs font-medium shadow-sm ${K?"border-brand bg-brand/10 text-brand":"border-slate-200 bg-white text-slate-700"}`,value:K,onChange:G=>J(G.target.value),children:[v.jsx("option",{value:"",children:"Stadt"}),w.map(G=>v.jsx("option",{value:G,children:G},G))]}),v.jsxs("select",{className:`h-7 max-w-[120px] truncate rounded-full border px-2.5 text-xs font-medium shadow-sm ${de?"border-brand bg-brand/10 text-brand":"border-slate-200 bg-white text-slate-700"}`,value:de,onChange:G=>me(G.target.value),children:[v.jsx("option",{value:"",children:"Kolleg:in"}),S.map(G=>v.jsx("option",{value:G,children:G},G))]}),v.jsxs("select",{className:`h-7 rounded-full border px-2.5 text-xs font-medium shadow-sm ${pe!=="all"?"border-brand bg-brand/10 text-brand":"border-slate-200 bg-white text-slate-700"}`,value:pe,onChange:G=>Q(G.target.value),children:[v.jsx("option",{value:"all",children:"Kostenbereich"}),v.jsx("option",{value:"low",children:"Unter 500 "}),v.jsx("option",{value:"medium",children:"500  2.000 "}),v.jsx("option",{value:"high",children:"ber 2.000 "})]}),se>0&&v.jsxs("button",{type:"button",onClick:ge,className:"ml-auto flex h-7 items-center gap-1 rounded-full border border-slate-300 bg-white px-2.5 text-xs font-medium text-slate-600 shadow-sm hover:bg-slate-50",children:[v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:v.jsx("path",{d:"M18 6L6 18M6 6l12 12"})}),"Zurcksetzen"]})]}),v.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[v.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-gradient-to-br from-brand/5 to-brand/10 p-4 shadow-sm",children:[v.jsx("div",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:"Gesamtkosten"}),v.jsx("div",{className:"mt-1 text-2xl font-bold text-slate-900",children:Ln(ee)}),v.jsx("div",{className:"mt-1 text-xs text-slate-500",children:k!=="all"?`Jahr ${k}`:"Alle Jahre"})]}),v.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[v.jsx("div",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:"Events"}),v.jsx("div",{className:"mt-1 text-2xl font-bold text-slate-900",children:W}),v.jsxs("div",{className:"mt-1 text-xs text-slate-500",children:[" ",Ln(C.avgCostPerEvent)," / Event"]})]}),v.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[v.jsx("div",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:"Teilnahmen"}),v.jsx("div",{className:"mt-1 text-2xl font-bold text-slate-900",children:H}),v.jsxs("div",{className:"mt-1 text-xs text-slate-500",children:[" ",C.avgParticipantsPerEvent.toFixed(1)," / Event"]})]}),v.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[v.jsx("div",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:"Kosten / Teilnehmer"}),v.jsx("div",{className:"mt-1 text-2xl font-bold text-slate-900",children:Ln(C.avgCostPerParticipant)}),v.jsx("div",{className:"mt-1 text-xs text-slate-500",children:"Durchschnitt pro Person"})]})]}),!r&&!n&&fe.length>0&&v.jsxs("div",{className:"grid gap-4 lg:grid-cols-3",children:[v.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[v.jsx("div",{className:"mb-3 text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Kosten nach Monat (letzte 6)"}),Te.length>0?v.jsx(AT,{data:Te,maxValue:Re}):v.jsx("div",{className:"py-4 text-center text-xs text-slate-400",children:"Keine Daten"})]}),v.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[v.jsx("div",{className:"mb-3 text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Top 5 Veranstalter"}),He.length>0?v.jsx(ET,{data:He}):v.jsx("div",{className:"py-4 text-center text-xs text-slate-400",children:"Keine Daten"})]}),v.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[v.jsx("div",{className:"mb-3 text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Kostenarten"}),D.length>0?v.jsx("div",{className:"space-y-3",children:D.map((G,Ne)=>v.jsxs("div",{children:[v.jsxs("div",{className:"mb-1 flex items-center justify-between text-xs",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"h-2.5 w-2.5 rounded-full",style:{backgroundColor:G.color}}),v.jsx("span",{className:"text-slate-600",children:G.label})]}),v.jsx("span",{className:"font-medium text-slate-900",children:Ln(G.value)})]}),v.jsx("div",{className:"h-2 overflow-hidden rounded-full bg-slate-100",children:v.jsx("div",{className:"h-full rounded-full transition-all duration-500",style:{width:`${G.value/ee*100}%`,backgroundColor:G.color}})})]},Ne))}):v.jsx("div",{className:"py-4 text-center text-xs text-slate-400",children:"Keine Daten"})]})]}),v.jsxs("div",{className:"grid min-h-0 gap-4 lg:grid-cols-3",children:[v.jsxs("div",{className:"flex max-h-[400px] flex-col overflow-hidden rounded-2xl border border-slate-200 bg-white shadow-sm",children:[v.jsxs("div",{className:"flex items-center justify-between border-b border-slate-100 bg-slate-50 px-4 py-2",children:[v.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Events"}),v.jsxs("span",{className:"text-xs text-slate-400",children:[te.length," Eintrge"]})]}),v.jsx("div",{className:"flex-1 overflow-y-auto",children:v.jsxs("table",{className:"min-w-full divide-y divide-slate-100 text-sm",children:[v.jsx("thead",{className:"sticky top-0 bg-white text-xs text-slate-500",children:v.jsxs("tr",{children:[v.jsx("th",{className:"px-4 py-2 text-left font-medium",children:"Event"}),v.jsx("th",{className:"px-4 py-2 text-right font-medium",children:"TN"}),v.jsx("th",{className:"px-4 py-2 text-right font-medium",children:"Gesamt"}),v.jsx("th",{className:"px-4 py-2 text-right font-medium",children:"/TN"})]})}),v.jsxs("tbody",{className:"divide-y divide-slate-100",children:[r&&v.jsx("tr",{children:v.jsx("td",{colSpan:4,className:"px-4 py-3 text-xs text-slate-400",children:"Lade Daten"})}),!r&&!n&&te.length===0&&v.jsx("tr",{children:v.jsx("td",{colSpan:4,className:"px-4 py-3 text-xs text-slate-400",children:"Keine Events"})}),!r&&!n&&te.map(G=>v.jsxs("tr",{className:"cursor-pointer hover:bg-slate-50",onClick:()=>a(G),children:[v.jsx("td",{className:"max-w-[180px] truncate px-4 py-2 text-sm text-slate-900",children:G.title}),v.jsx("td",{className:"px-4 py-2 text-right text-sm text-slate-600",children:G.colleagues_count??0}),v.jsx("td",{className:"px-4 py-2 text-right text-sm font-medium text-slate-900",children:Ln(G.total_cost)}),v.jsx("td",{className:"px-4 py-2 text-right text-sm text-slate-600",children:(G.colleagues_count??0)>0?Ln(G.cost_per_participant):""})]},G.id))]})]})})]}),v.jsxs("div",{className:"flex max-h-[400px] flex-col overflow-hidden rounded-2xl border border-slate-200 bg-white shadow-sm",children:[v.jsxs("div",{className:"flex items-center justify-between border-b border-slate-100 bg-slate-50 px-4 py-2",children:[v.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Nach Veranstalter"}),v.jsxs("span",{className:"text-xs text-slate-400",children:[ae.length," Eintrge"]})]}),v.jsxs("div",{className:"flex-1 divide-y divide-slate-100 overflow-y-auto",children:[!r&&!n&&ae.length===0&&v.jsx("div",{className:"px-4 py-3 text-xs text-slate-400",children:"Keine Eintrge"}),!r&&!n&&ae.map(G=>{const Ne=fe.filter(Pe=>Pe.organizer===G.organizer);return v.jsxs("button",{type:"button",onClick:()=>h({organizer:G.organizer,events:Ne}),className:"flex w-full cursor-pointer items-center justify-between px-4 py-2 text-left hover:bg-slate-50",children:[v.jsx("span",{className:"truncate text-sm text-slate-900",children:G.organizer}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"text-xs text-slate-400",children:Ne.length}),v.jsx("span",{className:"text-sm font-medium text-slate-900",children:Ln(G.sum)})]})]},G.organizer)})]})]}),v.jsxs("div",{className:"flex max-h-[400px] flex-col overflow-hidden rounded-2xl border border-slate-200 bg-white shadow-sm",children:[v.jsxs("div",{className:"flex items-center justify-between border-b border-slate-100 bg-slate-50 px-4 py-2",children:[v.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Nach Monat"}),v.jsxs("span",{className:"text-xs text-slate-400",children:[ve.length," Monate"]})]}),v.jsxs("div",{className:"flex-1 divide-y divide-slate-100 overflow-y-auto",children:[!r&&!n&&ve.length===0&&v.jsx("div",{className:"px-4 py-3 text-xs text-slate-400",children:"Keine Eintrge"}),!r&&!n&&ve.map(G=>{const Ne=G.date.toLocaleDateString("de-DE",{month:"long",year:"numeric"}),Pe=fe.filter(be=>be.start_date?be.start_date.startsWith(G.key):!1);return v.jsxs("button",{type:"button",onClick:()=>l({month:Ne,events:Pe}),className:"flex w-full cursor-pointer items-center justify-between px-4 py-2 text-left hover:bg-slate-50",children:[v.jsx("span",{className:"text-sm text-slate-900",children:Ne}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"text-xs text-slate-400",children:Pe.length}),v.jsx("span",{className:"text-sm font-medium text-slate-900",children:Ln(G.sum)})]})]},G.key)})]})]})]}),v.jsx("p",{className:"text-xs text-slate-500",children:'Hinweis: Bei Teilnehmerkosten" wird der Preis pro Person mit der Anzahl der Kolleg:innen multipliziert. Bei Messestandkosten" wird nur der eingetragene Betrag als Gesamtsumme gewertet. Alle Werte basieren auf der aktuellen Filterung.'}),s&&v.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 p-4",onClick:()=>a(null),children:v.jsxs("div",{className:"w-full max-w-md rounded-2xl bg-white shadow-2xl",onClick:G=>G.stopPropagation(),children:[v.jsxs("div",{className:"flex items-start justify-between border-b border-slate-100 p-4",children:[v.jsxs("div",{className:"flex-1 pr-4",children:[v.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:s.title}),s.organizer&&v.jsx("p",{className:"text-sm text-slate-500",children:s.organizer})]}),v.jsx("button",{type:"button",onClick:()=>a(null),className:"rounded-full p-1 text-slate-400 hover:bg-slate-100 hover:text-slate-600",children:v.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),v.jsxs("div",{className:"space-y-3 p-4",children:[s.start_date&&v.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[v.jsx("svg",{className:"h-4 w-4 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),v.jsx("span",{className:"text-slate-700",children:new Date(s.start_date).toLocaleDateString("de-DE",{day:"2-digit",month:"long",year:"numeric"})})]}),s.city&&v.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[v.jsxs("svg",{className:"h-4 w-4 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),v.jsx("span",{className:"text-slate-700",children:s.city})]}),v.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[v.jsx("svg",{className:"h-4 w-4 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z"})}),v.jsxs("span",{className:"text-slate-700",children:[s.colleagues_count," Teilnehmer"]})]}),v.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-3",children:[v.jsxs("div",{className:"rounded-lg bg-slate-50 p-3",children:[v.jsx("div",{className:"text-xs text-slate-500",children:"Gesamtkosten"}),v.jsx("div",{className:"text-lg font-bold text-slate-900",children:Ln(s.total_cost)})]}),v.jsxs("div",{className:"rounded-lg bg-slate-50 p-3",children:[v.jsx("div",{className:"text-xs text-slate-500",children:"Pro Teilnehmer"}),v.jsx("div",{className:"text-lg font-bold text-slate-900",children:s.colleagues_count>0?Ln(s.cost_per_participant):""})]})]}),v.jsxs("div",{className:"rounded-lg bg-slate-50 p-3",children:[v.jsx("div",{className:"text-xs text-slate-500",children:"Kostenart"}),v.jsx("div",{className:"text-sm font-medium text-slate-900",children:s.cost_type==="participant"?"Teilnehmerkosten":"Messestandkosten"})]})]}),v.jsxs("div",{className:"flex justify-end gap-2 border-t border-slate-100 px-4 py-3",children:[v.jsx("button",{type:"button",onClick:()=>a(null),className:"rounded-full border border-slate-200 bg-white px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50",children:"Schlieen"}),v.jsx("button",{type:"button",onClick:()=>t(`/events?id=${s.id}`),className:"rounded-full bg-brand px-4 py-2 text-sm font-medium text-white hover:bg-brand/90",children:"Zum Event "})]})]})}),o&&v.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 p-4",onClick:()=>l(null),children:v.jsxs("div",{className:"w-full max-w-lg rounded-2xl bg-white shadow-2xl",onClick:G=>G.stopPropagation(),children:[v.jsxs("div",{className:"flex items-center justify-between border-b border-slate-100 p-4",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:o.month}),v.jsxs("p",{className:"text-sm text-slate-500",children:[o.events.length," Events  ",Ln(o.events.reduce((G,Ne)=>G+Ne.total_cost,0))]})]}),v.jsx("button",{type:"button",onClick:()=>l(null),className:"rounded-full p-1 text-slate-400 hover:bg-slate-100 hover:text-slate-600",children:v.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),v.jsx("div",{className:"max-h-[400px] divide-y divide-slate-100 overflow-y-auto",children:o.events.map(G=>v.jsxs("button",{type:"button",onClick:()=>{l(null),a(G)},className:"flex w-full items-center justify-between px-4 py-3 text-left hover:bg-slate-50",children:[v.jsxs("div",{className:"min-w-0 flex-1",children:[v.jsx("div",{className:"truncate font-medium text-slate-900",children:G.title}),v.jsxs("div",{className:"text-xs text-slate-500",children:[G.organizer,"  ",G.colleagues_count," TN"]})]}),v.jsx("span",{className:"ml-3 font-medium text-slate-900",children:Ln(G.total_cost)})]},G.id))}),v.jsx("div",{className:"border-t border-slate-100 px-4 py-3",children:v.jsx("button",{type:"button",onClick:()=>l(null),className:"w-full rounded-full border border-slate-200 bg-white py-2 text-sm font-medium text-slate-700 hover:bg-slate-50",children:"Schlieen"})})]})}),u&&v.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 p-4",onClick:()=>h(null),children:v.jsxs("div",{className:"w-full max-w-lg rounded-2xl bg-white shadow-2xl",onClick:G=>G.stopPropagation(),children:[v.jsxs("div",{className:"flex items-center justify-between border-b border-slate-100 p-4",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:u.organizer}),v.jsxs("p",{className:"text-sm text-slate-500",children:[u.events.length," Events  ",Ln(u.events.reduce((G,Ne)=>G+Ne.total_cost,0))]})]}),v.jsx("button",{type:"button",onClick:()=>h(null),className:"rounded-full p-1 text-slate-400 hover:bg-slate-100 hover:text-slate-600",children:v.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),v.jsx("div",{className:"max-h-[400px] divide-y divide-slate-100 overflow-y-auto",children:u.events.map(G=>v.jsxs("button",{type:"button",onClick:()=>{h(null),a(G)},className:"flex w-full items-center justify-between px-4 py-3 text-left hover:bg-slate-50",children:[v.jsxs("div",{className:"min-w-0 flex-1",children:[v.jsx("div",{className:"truncate font-medium text-slate-900",children:G.title}),v.jsxs("div",{className:"text-xs text-slate-500",children:[G.start_date?new Date(G.start_date).toLocaleDateString("de-DE"):"","  ",G.colleagues_count," TN"]})]}),v.jsx("span",{className:"ml-3 font-medium text-slate-900",children:Ln(G.total_cost)})]},G.id))}),v.jsx("div",{className:"border-t border-slate-100 px-4 py-3",children:v.jsx("button",{type:"button",onClick:()=>h(null),className:"w-full rounded-full border border-slate-200 bg-white py-2 text-sm font-medium text-slate-700 hover:bg-slate-50",children:"Schlieen"})})]})})]})}function CT(){return ed({queryKey:["users"],queryFn:async()=>{const{data:t,error:e}=await Qr.from("users").select("id, external_id, email, name, role, created_at").order("created_at",{ascending:!0});if(e)throw e;return t??[]}})}function LT(){const t=Po();return Il({mutationFn:async e=>{const{data:r,error:n}=await Qr.from("users").update({role:e.role}).eq("id",e.id).select("id, role").single();if(n)throw n;return r},onSuccess:()=>{t.invalidateQueries({queryKey:["users"]})}})}function PT(){const t=Po();return Il({mutationFn:async e=>{const{error:r}=await Qr.from("users").delete().eq("id",e);if(r)throw r;return{userId:e}},onSuccess:()=>{t.invalidateQueries({queryKey:["users"]})}})}function OT(){const{profile:t}=Qp(),{data:e=[],isLoading:r,error:n}=CT(),i=LT(),s=PT(),[a,o]=ne.useState(null);async function l(p,g){try{await s.mutateAsync(p),Kn.success(`Benutzer ${g} wurde gelscht`),o(null)}catch(d){Kn.error(d instanceof Error?d.message:"Lschen fehlgeschlagen")}}async function u(p,g){try{await i.mutateAsync({id:p,role:g}),Kn.success("Rolle wurde aktualisiert")}catch(d){Kn.error(d instanceof Error?d.message:"Rollennderung fehlgeschlagen")}}const h=e.find(p=>p.id===a);return v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-xl font-semibold text-slate-900 dark:text-slate-50",children:"Benutzerverwaltung"}),v.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Nutzer:innen verwalten und Rollen zuweisen."})]}),v.jsx("div",{className:"rounded-xl border border-sky-200 bg-sky-50 p-4 dark:border-sky-800 dark:bg-sky-900/20",children:v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsx("svg",{className:"mt-0.5 h-5 w-5 text-sky-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),v.jsxs("div",{className:"text-sm text-sky-800 dark:text-sky-200",children:[v.jsx("p",{className:"font-medium",children:"Benutzer werden automatisch angelegt"}),v.jsx("p",{className:"mt-1 text-sky-700 dark:text-sky-300",children:"Wenn sich jemand mit einer @immomio.de E-Mail ber den Magic Link anmeldet, wird automatisch ein Konto erstellt. Du kannst hier die Rolle anpassen oder Benutzer entfernen."})]})]})}),v.jsxs("div",{className:"overflow-hidden rounded-2xl border border-slate-200 bg-white shadow-sm dark:border-slate-700 dark:bg-slate-900",children:[v.jsx("div",{className:"flex items-center justify-between border-b border-slate-100 bg-slate-50 px-4 py-2 dark:border-slate-800 dark:bg-slate-800",children:v.jsxs("span",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-300",children:["Benutzer (",e.length,")"]})}),v.jsxs("div",{className:"divide-y divide-slate-100 text-sm dark:divide-slate-800",children:[r&&v.jsxs("div",{className:"px-4 py-6 text-center text-xs text-slate-400 dark:text-slate-500",children:[v.jsx("div",{className:"inline-block h-5 w-5 animate-spin rounded-full border-2 border-slate-300 border-t-brand"}),v.jsx("p",{className:"mt-2",children:"Lade Benutzer"})]}),n&&v.jsxs("div",{className:"px-4 py-3 text-xs text-red-600",children:["Fehler beim Laden: ",n.message]}),!r&&!n&&e.length===0&&v.jsx("div",{className:"px-4 py-6 text-center text-xs text-slate-400 dark:text-slate-500",children:"Noch keine Benutzer vorhanden."}),!r&&!n&&e.map(p=>{const g=(t==null?void 0:t.id)===p.id;return v.jsxs("div",{className:"flex items-center gap-4 px-4 py-3 hover:bg-slate-50 dark:hover:bg-slate-800/50",children:[v.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-gradient-to-br from-brand to-brand-dark text-sm font-bold text-white",children:(p.name||p.email).charAt(0).toUpperCase()}),v.jsxs("div",{className:"min-w-0 flex-1",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"truncate font-medium text-slate-900 dark:text-slate-50",children:p.name||p.email.split("@")[0]}),g&&v.jsx("span",{className:"rounded-full bg-brand/10 px-2 py-0.5 text-[10px] font-semibold uppercase tracking-wide text-brand",children:"Du"})]}),v.jsx("div",{className:"truncate text-xs text-slate-500 dark:text-slate-400",children:p.email})]}),v.jsx("div",{className:"flex items-center gap-2",children:v.jsxs("select",{className:`h-8 rounded-full border px-3 text-xs font-medium shadow-sm transition-colors ${p.role==="admin"?"border-violet-300 bg-violet-50 text-violet-700 dark:border-violet-700 dark:bg-violet-900/30 dark:text-violet-300":"border-slate-200 bg-white text-slate-700 dark:border-slate-700 dark:bg-slate-800 dark:text-slate-100"}`,value:p.role,onChange:d=>u(p.id,d.target.value),disabled:i.isPending||g,children:[v.jsx("option",{value:"admin",children:"Admin"}),v.jsx("option",{value:"user",children:"User"})]})}),v.jsx("div",{className:"hidden text-xs text-slate-400 md:block dark:text-slate-500",children:new Date(p.created_at).toLocaleDateString("de-DE")}),!g&&v.jsx("button",{type:"button",onClick:()=>o(p.id),className:"flex h-8 w-8 items-center justify-center rounded-full border border-rose-200 bg-white text-rose-500 shadow-sm transition-colors hover:bg-rose-50 hover:text-rose-600 dark:border-rose-800 dark:bg-slate-800 dark:hover:bg-rose-900/20",title:"Benutzer lschen",children:v.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},p.id)})]})]}),v.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 dark:border-slate-700 dark:bg-slate-900",children:[v.jsx("h3",{className:"mb-3 text-sm font-semibold text-slate-900 dark:text-slate-50",children:"Rollen-bersicht"}),v.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[v.jsxs("div",{className:"rounded-lg bg-violet-50 p-3 dark:bg-violet-900/20",children:[v.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[v.jsx("svg",{className:"h-4 w-4 text-violet-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),v.jsx("span",{className:"text-xs font-semibold text-violet-700 dark:text-violet-300",children:"Admin"})]}),v.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Vollzugriff auf alle Events, Benutzer verwalten, alle Daten exportieren"})]}),v.jsxs("div",{className:"rounded-lg bg-slate-50 p-3 dark:bg-slate-800",children:[v.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[v.jsx("svg",{className:"h-4 w-4 text-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),v.jsx("span",{className:"text-xs font-semibold text-slate-700 dark:text-slate-200",children:"User"})]}),v.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Eigene Events erstellen und bearbeiten, alle Events einsehen"})]})]})]}),a&&h&&v.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 p-4",onClick:()=>o(null),children:v.jsxs("div",{className:"w-full max-w-sm rounded-2xl bg-white p-6 shadow-2xl dark:bg-slate-900",onClick:p=>p.stopPropagation(),children:[v.jsx("div",{className:"mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-rose-100 dark:bg-rose-900/30",children:v.jsx("svg",{className:"h-6 w-6 text-rose-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),v.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-50",children:"Benutzer lschen?"}),v.jsxs("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-400",children:["Mchtest du ",v.jsx("strong",{children:h.email})," wirklich lschen? Diese Aktion kann nicht rckgngig gemacht werden."]}),v.jsxs("div",{className:"mt-6 flex gap-3",children:[v.jsx("button",{type:"button",onClick:()=>o(null),className:"flex-1 rounded-full border border-slate-200 bg-white py-2 text-sm font-medium text-slate-700 hover:bg-slate-50 dark:border-slate-700 dark:bg-slate-800 dark:text-slate-200 dark:hover:bg-slate-700",children:"Abbrechen"}),v.jsx("button",{type:"button",onClick:()=>l(h.id,h.email),disabled:s.isPending,className:"flex-1 rounded-full bg-rose-600 py-2 text-sm font-medium text-white hover:bg-rose-700 disabled:opacity-50",children:s.isPending?"Lsche":"Lschen"})]})]})})]})}function TT(){const{session:t,loading:e}=Qp(),r=js();return e?v.jsx("div",{className:"flex min-h-[60vh] items-center justify-center text-sm text-slate-500",children:"Lade Sitzung"}):t?v.jsx(H_,{}):v.jsx(cp,{to:"/login",state:{from:r},replace:!0})}function RT(){const{profile:t,loading:e}=Qp();return e?v.jsx("div",{className:"flex min-h-[60vh] items-center justify-center text-sm text-slate-500",children:"Lade Sitzung"}):!t||t.role!=="admin"?v.jsx(cp,{to:"/events",replace:!0}):v.jsx(H_,{})}function IT(){return v.jsx(eL,{children:v.jsxs(M8,{children:[v.jsx(Vi,{path:"/login",element:v.jsx(OL,{})}),v.jsx(Vi,{path:"/share/:token",element:v.jsx($L,{})}),v.jsxs(Vi,{element:v.jsx(TT,{}),children:[v.jsx(Vi,{path:"/",element:v.jsx(cp,{to:"/events",replace:!0})}),v.jsx(Vi,{path:"/events",element:v.jsx(zL,{})}),v.jsx(Vi,{path:"/calendar",element:v.jsx(VL,{})}),v.jsx(Vi,{path:"/costs",element:v.jsx(jT,{})}),v.jsx(Vi,{element:v.jsx(RT,{}),children:v.jsx(Vi,{path:"/users",element:v.jsx(OT,{})})})]}),v.jsx(Vi,{path:"*",element:v.jsx(cp,{to:"/events",replace:!0})})]})})}const FT=new _A;$g.createRoot(document.getElementById("root")).render(v.jsx(Tb.StrictMode,{children:v.jsx(SA,{client:FT,children:v.jsx(G8,{children:v.jsx(XC,{children:v.jsxs(YC,{children:[v.jsx(IT,{}),v.jsx(_E,{position:"bottom-right",toastOptions:{duration:4e3,style:{background:"#1e293b",color:"#f8fafc",fontSize:"14px",borderRadius:"12px",padding:"12px 16px"},success:{iconTheme:{primary:"#10b981",secondary:"#f8fafc"}},error:{iconTheme:{primary:"#ef4444",secondary:"#f8fafc"}}}})]})})})})}));export{Ht as _,MT as c,vk as g};
